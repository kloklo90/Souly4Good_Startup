function a(e){this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=e.replace(/ /g,""),e=e.toLowerCase();var t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var n in t)e==n&&(e=t[n]);for(var i=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<i.length;r++){var o=i[r].re,s=i[r].process,l=o.exec(e);l&&(channels=s(l),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n},this.getHelpXML=function(){for(var e=new Array,n=0;n<i.length;n++)for(var r=i[n].example,o=0;o<r.length;o++)e[e.length]=r[o];for(var s in t)e[e.length]=s;var l=document.createElement("ul");l.setAttribute("id","rgbcolor-examples");for(var n=0;n<e.length;n++)try{var d=document.createElement("li"),u=new a(e[n]),c=document.createElement("div");c.style.cssText="margin: 3px; border: 1px solid black; background:"+u.toHex()+"; color:"+u.toHex(),c.appendChild(document.createTextNode("test"));var h=document.createTextNode(" "+e[n]+" -> "+u.toRGB()+" -> "+u.toHex());d.appendChild(c),d.appendChild(h),l.appendChild(d)}catch(p){}return l}}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=rt.type(e);return"function"===n||rt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(rt.isFunction(t))return rt.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return rt.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ht.test(t))return rt.filter(t,e,n);t=rt.filter(t,e)}return rt.grep(e,function(e){return rt.inArray(e,t)>=0!==n})}function r(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function a(e){var t=_t[e]={};return rt.each(e.match(bt)||[],function(e,n){t[n]=!0}),t}function o(){ft.addEventListener?(ft.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(ft.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(ft.addEventListener||"load"===event.type||"complete"===ft.readyState)&&(o(),rt.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(kt,"-$1").toLowerCase();if(n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Tt.test(n)?rt.parseJSON(n):n}catch(r){}rt.data(e,t,n)}else n=void 0}return n}function d(e){var t;for(t in e)if(("data"!==t||!rt.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(e,t,n,i){if(rt.acceptData(e)){var r,a,o=rt.expando,s=e.nodeType,l=s?rt.cache:e,d=s?e[o]:e[o]&&o;if(d&&l[d]&&(i||l[d].data)||void 0!==n||"string"!=typeof t)return d||(d=s?e[o]=U.pop()||rt.guid++:o),l[d]||(l[d]=s?{}:{toJSON:rt.noop}),("object"==typeof t||"function"==typeof t)&&(i?l[d]=rt.extend(l[d],t):l[d].data=rt.extend(l[d].data,t)),a=l[d],i||(a.data||(a.data={}),a=a.data),void 0!==n&&(a[rt.camelCase(t)]=n),"string"==typeof t?(r=a[t],null==r&&(r=a[rt.camelCase(t)])):r=a,r}}function c(e,t,n){if(rt.acceptData(e)){var i,r,a=e.nodeType,o=a?rt.cache:e,s=a?e[rt.expando]:rt.expando;if(o[s]){if(t&&(i=n?o[s]:o[s].data)){rt.isArray(t)?t=t.concat(rt.map(t,rt.camelCase)):t in i?t=[t]:(t=rt.camelCase(t),t=t in i?[t]:t.split(" ")),r=t.length;for(;r--;)delete i[t[r]];if(n?!d(i):!rt.isEmptyObject(i))return}(n||(delete o[s].data,d(o[s])))&&(a?rt.cleanData([e],!0):nt.deleteExpando||o!=o.window?delete o[s]:o[s]=null)}}}function h(){return!0}function p(){return!1}function f(){try{return ft.activeElement}catch(e){}}function g(e){var t=Ht.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function m(e,t){var n,i,r=0,a=typeof e.getElementsByTagName!==Ct?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Ct?e.querySelectorAll(t||"*"):void 0;if(!a)for(a=[],n=e.childNodes||e;null!=(i=n[r]);r++)!t||rt.nodeName(i,t)?a.push(i):rt.merge(a,m(i,t));return void 0===t||t&&rt.nodeName(e,t)?rt.merge([e],a):a}function v(e){Pt.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return rt.nodeName(e,"table")&&rt.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==rt.find.attr(e,"type"))+"/"+e.type,e}function _(e){var t=Xt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function x(e,t){for(var n,i=0;null!=(n=e[i]);i++)rt._data(n,"globalEval",!t||rt._data(t[i],"globalEval"))}function w(e,t){if(1===t.nodeType&&rt.hasData(e)){var n,i,r,a=rt._data(e),o=rt._data(t,a),s=a.events;if(s){delete o.handle,o.events={};for(n in s)for(i=0,r=s[n].length;r>i;i++)rt.event.add(t,n,s[n][i])}o.data&&(o.data=rt.extend({},o.data))}}function C(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!nt.noCloneEvent&&t[rt.expando]){r=rt._data(t);for(i in r.events)rt.removeEvent(t,i,r.handle);t.removeAttribute(rt.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,_(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),nt.html5Clone&&e.innerHTML&&!rt.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Pt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function T(t,n){var i,r=rt(n.createElement(t)).appendTo(n.body),a=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(r[0]))?i.display:rt.css(r[0],"display");return r.detach(),a}function k(e){var t=ft,n=Jt[e];return n||(n=T(e,t),"none"!==n&&n||(Zt=(Zt||rt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Zt[0].contentWindow||Zt[0].contentDocument).document,t.write(),t.close(),n=T(e,t),Zt.detach()),Jt[e]=n),n}function S(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function E(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=pn.length;r--;)if(t=pn[r]+n,t in e)return t;return i}function D(e,t){for(var n,i,r,a=[],o=0,s=e.length;s>o;o++)i=e[o],i.style&&(a[o]=rt._data(i,"olddisplay"),n=i.style.display,t?(a[o]||"none"!==n||(i.style.display=""),""===i.style.display&&Dt(i)&&(a[o]=rt._data(i,"olddisplay",k(i.nodeName)))):(r=Dt(i),(n&&"none"!==n||!r)&&rt._data(i,"olddisplay",r?n:rt.css(i,"display"))));for(o=0;s>o;o++)i=e[o],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?a[o]||"":"none"));return e}function A(e,t,n){var i=dn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function P(e,t,n,i,r){for(var a=n===(i?"border":"content")?4:"width"===t?1:0,o=0;4>a;a+=2)"margin"===n&&(o+=rt.css(e,n+Et[a],!0,r)),i?("content"===n&&(o-=rt.css(e,"padding"+Et[a],!0,r)),"margin"!==n&&(o-=rt.css(e,"border"+Et[a]+"Width",!0,r))):(o+=rt.css(e,"padding"+Et[a],!0,r),"padding"!==n&&(o+=rt.css(e,"border"+Et[a]+"Width",!0,r)));return o}function M(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,a=en(e),o=nt.boxSizing&&"border-box"===rt.css(e,"boxSizing",!1,a);if(0>=r||null==r){if(r=tn(e,t,a),(0>r||null==r)&&(r=e.style[t]),rn.test(r))return r;i=o&&(nt.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+P(e,t,n||(o?"border":"content"),i,a)+"px"}function I(e,t,n,i,r){return new I.prototype.init(e,t,n,i,r)}function B(){return setTimeout(function(){fn=void 0}),fn=rt.now()}function L(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=Et[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function N(e,t,n){for(var i,r=(_n[t]||[]).concat(_n["*"]),a=0,o=r.length;o>a;a++)if(i=r[a].call(n,t,e))return i}function H(e,t,n){var i,r,a,o,s,l,d,u,c=this,h={},p=e.style,f=e.nodeType&&Dt(e),g=rt._data(e,"fxshow");n.queue||(s=rt._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,rt.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],d=rt.css(e,"display"),u="none"===d?rt._data(e,"olddisplay")||k(e.nodeName):d,"inline"===u&&"none"===rt.css(e,"float")&&(nt.inlineBlockNeedsLayout&&"inline"!==k(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",nt.shrinkWrapBlocks()||c.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],mn.exec(r)){if(delete t[i],a=a||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;f=!0}h[i]=g&&g[i]||rt.style(e,i)}else d=void 0;if(rt.isEmptyObject(h))"inline"===("none"===d?k(e.nodeName):d)&&(p.display=d);else{g?"hidden"in g&&(f=g.hidden):g=rt._data(e,"fxshow",{}),a&&(g.hidden=!f),f?rt(e).show():c.done(function(){rt(e).hide()}),c.done(function(){var t;rt._removeData(e,"fxshow");for(t in h)rt.style(e,t,h[t])});for(i in h)o=N(f?g[i]:0,i,c),i in g||(g[i]=o.start,f&&(o.end=o.start,o.start="width"===i||"height"===i?1:0))}}function O(e,t){var n,i,r,a,o;for(n in e)if(i=rt.camelCase(n),r=t[i],a=e[n],rt.isArray(a)&&(r=a[1],a=e[n]=a[0]),n!==i&&(e[i]=a,delete e[n]),o=rt.cssHooks[i],o&&"expand"in o){a=o.expand(a),delete e[i];for(n in a)n in e||(e[n]=a[n],t[n]=r)}else t[i]=r}function F(e,t,n){var i,r,a=0,o=bn.length,s=rt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=fn||B(),n=Math.max(0,d.startTime+d.duration-t),i=n/d.duration||0,a=1-i,o=0,l=d.tweens.length;l>o;o++)d.tweens[o].run(a);return s.notifyWith(e,[d,a,n]),1>a&&l?n:(s.resolveWith(e,[d]),!1)},d=s.promise({elem:e,props:rt.extend({},t),opts:rt.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:fn||B(),duration:n.duration,tweens:[],createTween:function(t,n){var i=rt.Tween(e,d.opts,t,n,d.opts.specialEasing[t]||d.opts.easing);return d.tweens.push(i),i},stop:function(t){var n=0,i=t?d.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)d.tweens[n].run(1);return t?s.resolveWith(e,[d,t]):s.rejectWith(e,[d,t]),this}}),u=d.props;for(O(u,d.opts.specialEasing);o>a;a++)if(i=bn[a].call(d,e,u,d.opts))return i;return rt.map(u,N,d),rt.isFunction(d.opts.start)&&d.opts.start.call(e,d),rt.fx.timer(rt.extend(l,{elem:e,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}function R(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,a=t.toLowerCase().match(bt)||[];if(rt.isFunction(n))for(;i=a[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function W(e,t,n,i){function r(s){var l;return a[s]=!0,rt.each(e[s]||[],function(e,s){var d=s(t,n,i);return"string"!=typeof d||o||a[d]?o?!(l=d):void 0:(t.dataTypes.unshift(d),r(d),!1)}),l}var a={},o=e===jn;return r(t.dataTypes[0])||!a["*"]&&r("*")}function z(e,t){var n,i,r=rt.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&rt.extend(!0,e,n),e}function Y(e,t,n){for(var i,r,a,o,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){l.unshift(o);break}if(l[0]in n)a=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){a=o;break}i||(i=o)}a=a||i}return a?(a!==l[0]&&l.unshift(a),n[a]):void 0}function V(e,t,n,i){var r,a,o,s,l,d={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)d[o.toLowerCase()]=e.converters[o];for(a=u.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=u.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(o=d[l+" "+a]||d["* "+a],!o)for(r in d)if(s=r.split(" "),s[1]===a&&(o=d[l+" "+s[0]]||d["* "+s[0]])){o===!0?o=d[r]:d[r]!==!0&&(a=s[0],u.unshift(s[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}function j(e,t,n,i){var r;if(rt.isArray(t))rt.each(t,function(t,r){n||Un.test(e)?i(e,r):j(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==rt.type(t))i(e,t);else for(r in t)j(e+"["+r+"]",t[r],n,i)}function G(){try{return new e.XMLHttpRequest}catch(t){}}function q(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function X(e){return rt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var U=[],$=U.slice,Q=U.concat,K=U.push,Z=U.indexOf,J={},et=J.toString,tt=J.hasOwnProperty,nt={},it="1.11.1",rt=function(e,t){return new rt.fn.init(e,t)},at=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ot=/^-ms-/,st=/-([\da-z])/gi,lt=function(e,t){return t.toUpperCase()};rt.fn=rt.prototype={jquery:it,constructor:rt,selector:"",length:0,toArray:function(){return $.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:$.call(this)},pushStack:function(e){var t=rt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return rt.each(this,e,t)},map:function(e){return this.pushStack(rt.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack($.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:K,sort:U.sort,splice:U.splice},rt.extend=rt.fn.extend=function(){var e,t,n,i,r,a,o=arguments[0]||{},s=1,l=arguments.length,d=!1;for("boolean"==typeof o&&(d=o,o=arguments[s]||{},s++),"object"==typeof o||rt.isFunction(o)||(o={}),s===l&&(o=this,s--);l>s;s++)if(null!=(r=arguments[s]))for(i in r)e=o[i],n=r[i],o!==n&&(d&&n&&(rt.isPlainObject(n)||(t=rt.isArray(n)))?(t?(t=!1,a=e&&rt.isArray(e)?e:[]):a=e&&rt.isPlainObject(e)?e:{},o[i]=rt.extend(d,a,n)):void 0!==n&&(o[i]=n));return o},rt.extend({expando:"jQuery"+(it+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===rt.type(e)},isArray:Array.isArray||function(e){return"array"===rt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!rt.isArray(e)&&e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==rt.type(e)||e.nodeType||rt.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(nt.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?J[et.call(e)]||"object":typeof e},globalEval:function(t){t&&rt.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ot,"ms-").replace(st,lt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,a=0,o=e.length,s=n(e);if(i){if(s)for(;o>a&&(r=t.apply(e[a],i),r!==!1);a++);else for(a in e)if(r=t.apply(e[a],i),r===!1)break}else if(s)for(;o>a&&(r=t.call(e[a],a,e[a]),r!==!1);a++);else for(a in e)if(r=t.call(e[a],a,e[a]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(at,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?rt.merge(i,"string"==typeof e?[e]:e):K.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(Z)return Z.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;)e[r++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],a=0,o=e.length,s=!n;o>a;a++)i=!t(e[a],a),i!==s&&r.push(e[a]);return r},map:function(e,t,i){var r,a=0,o=e.length,s=n(e),l=[];if(s)for(;o>a;a++)r=t(e[a],a,i),null!=r&&l.push(r);else for(a in e)r=t(e[a],a,i),null!=r&&l.push(r);return Q.apply([],l)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(r=e[t],t=e,e=r),rt.isFunction(e)?(n=$.call(arguments,2),i=function(){return e.apply(t||this,n.concat($.call(arguments)))},i.guid=e.guid=e.guid||rt.guid++,i):void 0},now:function(){return+new Date},support:nt}),rt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()});var dt=function(e){function t(e,t,n,i){var r,a,o,s,l,d,c,p,f,g;if((t?t.ownerDocument||t:W)!==I&&M(t),t=t||I,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(L&&!i){if(r=yt.exec(e))if(o=r[1]){if(9===s){if(a=t.getElementById(o),!a||!a.parentNode)return n;if(a.id===o)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(o))&&F(t,a)&&a.id===o)return n.push(a),n}else{if(r[2])return J.apply(n,t.getElementsByTagName(e)),n;if((o=r[3])&&x.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(o)),n}if(x.qsa&&(!N||!N.test(e))){if(p=c=R,f=t,g=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(d=k(e),(c=t.getAttribute("id"))?p=c.replace(_t,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=d.length;l--;)d[l]=p+h(d[l]);f=bt.test(e)&&u(t.parentNode)||t,g=d.join(",")}if(g)try{return J.apply(n,f.querySelectorAll(g)),n}catch(m){}finally{c||t.removeAttribute("id")}}}return E(e.replace(lt,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[R]=!0,e}function r(e){var t=I.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var n=e.split("|"),i=e.length;i--;)w.attrHandle[n[i]]=t}function o(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||U)-(~e.sourceIndex||U);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function d(e){return i(function(t){return t=+t,i(function(n,i){for(var r,a=e([],n.length,t),o=a.length;o--;)n[r=a[o]]&&(n[r]=!(i[r]=n[r]))})})}function u(e){return e&&typeof e.getElementsByTagName!==X&&e}function c(){}function h(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,r=n&&"parentNode"===i,a=Y++;return t.first?function(t,n,a){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,a)}:function(t,n,o){var s,l,d=[z,a];if(o){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,o))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[R]||(t[R]={}),(s=l[i])&&s[0]===z&&s[1]===a)return d[2]=s[2];if(l[i]=d,d[2]=e(t,n,o))return!0}}}function f(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function g(e,n,i){for(var r=0,a=n.length;a>r;r++)t(e,n[r],i);return i}function m(e,t,n,i,r){for(var a,o=[],s=0,l=e.length,d=null!=t;l>s;s++)(a=e[s])&&(!n||n(a,i,r))&&(o.push(a),d&&t.push(s));return o}function v(e,t,n,r,a,o){return r&&!r[R]&&(r=v(r)),a&&!a[R]&&(a=v(a,o)),i(function(i,o,s,l){var d,u,c,h=[],p=[],f=o.length,v=i||g(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?v:m(v,h,e,s,l),b=n?a||(i?e:f||r)?[]:o:y;if(n&&n(y,b,s,l),r)for(d=m(b,p),r(d,[],s,l),u=d.length;u--;)(c=d[u])&&(b[p[u]]=!(y[p[u]]=c));if(i){if(a||e){if(a){for(d=[],u=b.length;u--;)(c=b[u])&&d.push(y[u]=c);a(null,b=[],d,l)}for(u=b.length;u--;)(c=b[u])&&(d=a?tt.call(i,c):h[u])>-1&&(i[d]=!(o[d]=c))}}else b=m(b===o?b.splice(f,b.length):b),a?a(null,o,b,l):J.apply(o,b)})}function y(e){for(var t,n,i,r=e.length,a=w.relative[e[0].type],o=a||w.relative[" "],s=a?1:0,l=p(function(e){return e===t},o,!0),d=p(function(e){return tt.call(t,e)>-1},o,!0),u=[function(e,n,i){return!a&&(i||n!==D)||((t=n).nodeType?l(e,n,i):d(e,n,i))}];r>s;s++)if(n=w.relative[e[s].type])u=[p(f(u),n)];else{if(n=w.filter[e[s].type].apply(null,e[s].matches),n[R]){for(i=++s;r>i&&!w.relative[e[i].type];i++);return v(s>1&&f(u),s>1&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(lt,"$1"),n,i>s&&y(e.slice(s,i)),r>i&&y(e=e.slice(i)),r>i&&h(e))}u.push(n)}return f(u)}function b(e,n){var r=n.length>0,a=e.length>0,o=function(i,o,s,l,d){var u,c,h,p=0,f="0",g=i&&[],v=[],y=D,b=i||a&&w.find.TAG("*",d),_=z+=null==y?1:Math.random()||.1,x=b.length;for(d&&(D=o!==I&&o);f!==x&&null!=(u=b[f]);f++){if(a&&u){for(c=0;h=e[c++];)if(h(u,o,s)){l.push(u);break}d&&(z=_)}r&&((u=!h&&u)&&p--,i&&g.push(u))}if(p+=f,r&&f!==p){for(c=0;h=n[c++];)h(g,v,o,s);if(i){if(p>0)for(;f--;)g[f]||v[f]||(v[f]=K.call(l));v=m(v)}J.apply(l,v),d&&!i&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return d&&(z=_,D=y),g};return r?i(o):o}var _,x,w,C,T,k,S,E,D,A,P,M,I,B,L,N,H,O,F,R="sizzle"+-new Date,W=e.document,z=0,Y=0,V=n(),j=n(),G=n(),q=function(e,t){return e===t&&(P=!0),0},X="undefined",U=1<<31,$={}.hasOwnProperty,Q=[],K=Q.pop,Z=Q.push,J=Q.push,et=Q.slice,tt=Q.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",at=rt.replace("w","w#"),ot="\\["+it+"*("+rt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+at+"))|)"+it+"*\\]",st=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",lt=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),dt=new RegExp("^"+it+"*,"+it+"*"),ut=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ct=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ht=new RegExp(st),pt=new RegExp("^"+at+"$"),ft={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,_t=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),wt=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{J.apply(Q=et.call(W.childNodes),W.childNodes),Q[W.childNodes.length].nodeType}catch(Ct){J={apply:Q.length?function(e,t){Z.apply(e,et.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}x=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},M=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:W,i=n.defaultView;return n!==I&&9===n.nodeType&&n.documentElement?(I=n,B=n.documentElement,L=!T(n),i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",function(){M()},!1):i.attachEvent&&i.attachEvent("onunload",function(){M()})),x.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=r(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=vt.test(n.getElementsByClassName)&&r(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),x.getById=r(function(e){return B.appendChild(e).id=R,!n.getElementsByName||!n.getElementsByName(R).length}),x.getById?(w.find.ID=function(e,t){if(typeof t.getElementById!==X&&L){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(xt,wt);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(xt,wt);return function(e){var n=typeof e.getAttributeNode!==X&&e.getAttributeNode("id");return n&&n.value===t}}),w.find.TAG=x.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==X?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],r=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[r++];)1===n.nodeType&&i.push(n);return i}return a},w.find.CLASS=x.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==X&&L?t.getElementsByClassName(e):void 0},H=[],N=[],(x.qsa=vt.test(n.querySelectorAll))&&(r(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&N.push("[*^$]="+it+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||N.push("\\["+it+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||N.push(":checked")}),r(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&N.push("name"+it+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),N.push(",.*:")})),(x.matchesSelector=vt.test(O=B.matches||B.webkitMatchesSelector||B.mozMatchesSelector||B.oMatchesSelector||B.msMatchesSelector))&&r(function(e){x.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),H.push("!=",st)}),N=N.length&&new RegExp(N.join("|")),H=H.length&&new RegExp(H.join("|")),t=vt.test(B.compareDocumentPosition),F=t||vt.test(B.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return P=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!x.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===W&&F(W,e)?-1:t===n||t.ownerDocument===W&&F(W,t)?1:A?tt.call(A,e)-tt.call(A,t):0:4&i?-1:1)}:function(e,t){if(e===t)return P=!0,0;var i,r=0,a=e.parentNode,s=t.parentNode,l=[e],d=[t];if(!a||!s)return e===n?-1:t===n?1:a?-1:s?1:A?tt.call(A,e)-tt.call(A,t):0;if(a===s)return o(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)d.unshift(i);for(;l[r]===d[r];)r++;return r?o(l[r],d[r]):l[r]===W?-1:d[r]===W?1:0},n):I},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==I&&M(e),n=n.replace(ct,"='$1']"),!(!x.matchesSelector||!L||H&&H.test(n)||N&&N.test(n)))try{var i=O.call(e,n);if(i||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,I,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==I&&M(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==I&&M(e);var n=w.attrHandle[t.toLowerCase()],i=n&&$.call(w.attrHandle,t.toLowerCase())?n(e,t,!L):void 0;return void 0!==i?i:x.attributes||!L?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(P=!x.detectDuplicates,A=!x.sortStable&&e.slice(0),e.sort(q),P){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return A=null,e},C=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=C(t);return n},w=t.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xt,wt),e[3]=(e[3]||e[4]||e[5]||"").replace(xt,wt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ft.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ht.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xt,wt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=new RegExp("(^|"+it+")"+e+"("+it+"|$)"))&&V(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==X&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var a=t.attr(r,e);return null==a?"!="===n:n?(a+="","="===n?a===i:"!="===n?a!==i:"^="===n?i&&0===a.indexOf(i):"*="===n?i&&a.indexOf(i)>-1:"$="===n?i&&a.slice(-i.length)===i:"~="===n?(" "+a+" ").indexOf(i)>-1:"|="===n?a===i||a.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;
return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var d,u,c,h,p,f,g=a!==o?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(m){if(a){for(;g;){for(c=t;c=c[g];)if(s?c.nodeName.toLowerCase()===v:1===c.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?m.firstChild:m.lastChild],o&&y){for(u=m[R]||(m[R]={}),d=u[e]||[],p=d[0]===z&&d[1],h=d[0]===z&&d[2],c=p&&m.childNodes[p];c=++p&&c&&c[g]||(h=p=0)||f.pop();)if(1===c.nodeType&&++h&&c===t){u[e]=[z,p,h];break}}else if(y&&(d=(t[R]||(t[R]={}))[e])&&d[0]===z)h=d[1];else for(;(c=++p&&c&&c[g]||(h=p=0)||f.pop())&&((s?c.nodeName.toLowerCase()!==v:1!==c.nodeType)||!++h||(y&&((c[R]||(c[R]={}))[e]=[z,h]),c!==t)););return h-=r,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(e,n){var r,a=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return a[R]?a(n):a.length>1?(r=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=a(e,n),o=r.length;o--;)i=tt.call(e,r[o]),e[i]=!(t[i]=r[o])}):function(e){return a(e,0,r)}):a}},pseudos:{not:i(function(e){var t=[],n=[],r=S(e.replace(lt,"$1"));return r[R]?i(function(e,t,n,i){for(var a,o=r(e,null,i,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))}):function(e,i,a){return t[0]=e,r(t,null,a,n),!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:i(function(e){return pt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xt,wt).toLowerCase(),function(t){var n;do if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===B},focus:function(e){return e===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return mt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:d(function(){return[0]}),last:d(function(e,t){return[t-1]}),eq:d(function(e,t,n){return[0>n?n+t:n]}),even:d(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:d(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:d(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:d(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},w.pseudos.nth=w.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[_]=s(_);for(_ in{submit:!0,reset:!0})w.pseudos[_]=l(_);return c.prototype=w.filters=w.pseudos,w.setFilters=new c,k=t.tokenize=function(e,n){var i,r,a,o,s,l,d,u=j[e+" "];if(u)return n?0:u.slice(0);for(s=e,l=[],d=w.preFilter;s;){(!i||(r=dt.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(a=[])),i=!1,(r=ut.exec(s))&&(i=r.shift(),a.push({value:i,type:r[0].replace(lt," ")}),s=s.slice(i.length));for(o in w.filter)!(r=ft[o].exec(s))||d[o]&&!(r=d[o](r))||(i=r.shift(),a.push({value:i,type:o,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):j(e,l).slice(0)},S=t.compile=function(e,t){var n,i=[],r=[],a=G[e+" "];if(!a){for(t||(t=k(e)),n=t.length;n--;)a=y(t[n]),a[R]?i.push(a):r.push(a);a=G(e,b(r,i)),a.selector=e}return a},E=t.select=function(e,t,n,i){var r,a,o,s,l,d="function"==typeof e&&e,c=!i&&k(e=d.selector||e);if(n=n||[],1===c.length){if(a=c[0]=c[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&x.getById&&9===t.nodeType&&L&&w.relative[a[1].type]){if(t=(w.find.ID(o.matches[0].replace(xt,wt),t)||[])[0],!t)return n;d&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(r=ft.needsContext.test(e)?0:a.length;r--&&(o=a[r],!w.relative[s=o.type]);)if((l=w.find[s])&&(i=l(o.matches[0].replace(xt,wt),bt.test(a[0].type)&&u(t.parentNode)||t))){if(a.splice(r,1),e=i.length&&h(a),!e)return J.apply(n,i),n;break}}return(d||S(e,c))(i,t,!L,n,bt.test(e)&&u(t.parentNode)||t),n},x.sortStable=R.split("").sort(q).join("")===R,x.detectDuplicates=!!P,M(),x.sortDetached=r(function(e){return 1&e.compareDocumentPosition(I.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||a(nt,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);rt.find=dt,rt.expr=dt.selectors,rt.expr[":"]=rt.expr.pseudos,rt.unique=dt.uniqueSort,rt.text=dt.getText,rt.isXMLDoc=dt.isXML,rt.contains=dt.contains;var ut=rt.expr.match.needsContext,ct=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ht=/^.[^:#\[\.,]*$/;rt.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?rt.find.matchesSelector(i,e)?[i]:[]:rt.find.matches(e,rt.grep(t,function(e){return 1===e.nodeType}))},rt.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(rt(e).filter(function(){for(t=0;r>t;t++)if(rt.contains(i[t],this))return!0}));for(t=0;r>t;t++)rt.find(e,i[t],n);return n=this.pushStack(r>1?rt.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&ut.test(e)?rt(e):e||[],!1).length}});var pt,ft=e.document,gt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,mt=rt.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:gt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||pt).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof rt?t[0]:t,rt.merge(this,rt.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:ft,!0)),ct.test(n[1])&&rt.isPlainObject(t))for(n in t)rt.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(i=ft.getElementById(n[2]),i&&i.parentNode){if(i.id!==n[2])return pt.find(e);this.length=1,this[0]=i}return this.context=ft,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):rt.isFunction(e)?"undefined"!=typeof pt.ready?pt.ready(e):e(rt):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),rt.makeArray(e,this))};mt.prototype=rt.fn,pt=rt(ft);var vt=/^(?:parents|prev(?:Until|All))/,yt={children:!0,contents:!0,next:!0,prev:!0};rt.extend({dir:function(e,t,n){for(var i=[],r=e[t];r&&9!==r.nodeType&&(void 0===n||1!==r.nodeType||!rt(r).is(n));)1===r.nodeType&&i.push(r),r=r[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),rt.fn.extend({has:function(e){var t,n=rt(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(rt.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,a=[],o=ut.test(e)||"string"!=typeof e?rt(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&rt.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?rt.unique(a):a)},index:function(e){return e?"string"==typeof e?rt.inArray(this[0],rt(e)):rt.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(rt.unique(rt.merge(this.get(),rt(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),rt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return rt.dir(e,"parentNode")},parentsUntil:function(e,t,n){return rt.dir(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return rt.dir(e,"nextSibling")},prevAll:function(e){return rt.dir(e,"previousSibling")},nextUntil:function(e,t,n){return rt.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return rt.dir(e,"previousSibling",n)},siblings:function(e){return rt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return rt.sibling(e.firstChild)},contents:function(e){return rt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:rt.merge([],e.childNodes)}},function(e,t){rt.fn[e]=function(n,i){var r=rt.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=rt.filter(i,r)),this.length>1&&(yt[e]||(r=rt.unique(r)),vt.test(e)&&(r=r.reverse())),this.pushStack(r)}});var bt=/\S+/g,_t={};rt.Callbacks=function(e){e="string"==typeof e?_t[e]||a(e):rt.extend({},e);var t,n,i,r,o,s,l=[],d=!e.once&&[],u=function(a){for(n=e.memory&&a,i=!0,o=s||0,s=0,r=l.length,t=!0;l&&r>o;o++)if(l[o].apply(a[0],a[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,l&&(d?d.length&&u(d.shift()):n?l=[]:c.disable())},c={add:function(){if(l){var i=l.length;!function a(t){rt.each(t,function(t,n){var i=rt.type(n);"function"===i?e.unique&&c.has(n)||l.push(n):n&&n.length&&"string"!==i&&a(n)})}(arguments),t?r=l.length:n&&(s=i,u(n))}return this},remove:function(){return l&&rt.each(arguments,function(e,n){for(var i;(i=rt.inArray(n,l,i))>-1;)l.splice(i,1),t&&(r>=i&&r--,o>=i&&o--)}),this},has:function(e){return e?rt.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=d=n=void 0,this},disabled:function(){return!l},lock:function(){return d=void 0,n||c.disable(),this},locked:function(){return!d},fireWith:function(e,n){return!l||i&&!d||(n=n||[],n=[e,n.slice?n.slice():n],t?d.push(n):u(n)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},rt.extend({Deferred:function(e){var t=[["resolve","done",rt.Callbacks("once memory"),"resolved"],["reject","fail",rt.Callbacks("once memory"),"rejected"],["notify","progress",rt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return rt.Deferred(function(n){rt.each(t,function(t,a){var o=rt.isFunction(e[t])&&e[t];r[a[1]](function(){var e=o&&o.apply(this,arguments);e&&rt.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a[0]+"With"](this===i?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?rt.extend(e,i):i}},r={};return i.pipe=i.then,rt.each(t,function(e,a){var o=a[2],s=a[3];i[a[1]]=o.add,s&&o.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[a[0]]=function(){return r[a[0]+"With"](this===r?i:this,arguments),this},r[a[0]+"With"]=o.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,a=$.call(arguments),o=a.length,s=1!==o||e&&rt.isFunction(e.promise)?o:0,l=1===s?e:rt.Deferred(),d=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?$.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(o>1)for(t=new Array(o),n=new Array(o),i=new Array(o);o>r;r++)a[r]&&rt.isFunction(a[r].promise)?a[r].promise().done(d(r,i,a)).fail(l.reject).progress(d(r,n,t)):--s;return s||l.resolveWith(i,a),l.promise()}});var xt;rt.fn.ready=function(e){return rt.ready.promise().done(e),this},rt.extend({isReady:!1,readyWait:1,holdReady:function(e){e?rt.readyWait++:rt.ready(!0)},ready:function(e){if(e===!0?!--rt.readyWait:!rt.isReady){if(!ft.body)return setTimeout(rt.ready);rt.isReady=!0,e!==!0&&--rt.readyWait>0||(xt.resolveWith(ft,[rt]),rt.fn.triggerHandler&&(rt(ft).triggerHandler("ready"),rt(ft).off("ready")))}}}),rt.ready.promise=function(t){if(!xt)if(xt=rt.Deferred(),"complete"===ft.readyState)setTimeout(rt.ready);else if(ft.addEventListener)ft.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{ft.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&ft.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!rt.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}o(),rt.ready()}}()}return xt.promise(t)};var wt,Ct="undefined";for(wt in rt(nt))break;nt.ownLast="0"!==wt,nt.inlineBlockNeedsLayout=!1,rt(function(){var e,t,n,i;n=ft.getElementsByTagName("body")[0],n&&n.style&&(t=ft.createElement("div"),i=ft.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==Ct&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",nt.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i))}),function(){var e=ft.createElement("div");if(null==nt.deleteExpando){nt.deleteExpando=!0;try{delete e.test}catch(t){nt.deleteExpando=!1}}e=null}(),rt.acceptData=function(e){var t=rt.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,kt=/([A-Z])/g;rt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?rt.cache[e[rt.expando]]:e[rt.expando],!!e&&!d(e)},data:function(e,t,n){return u(e,t,n)},removeData:function(e,t){return c(e,t)},_data:function(e,t,n){return u(e,t,n,!0)},_removeData:function(e,t){return c(e,t,!0)}}),rt.fn.extend({data:function(e,t){var n,i,r,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(r=rt.data(a),1===a.nodeType&&!rt._data(a,"parsedAttrs"))){for(n=o.length;n--;)o[n]&&(i=o[n].name,0===i.indexOf("data-")&&(i=rt.camelCase(i.slice(5)),l(a,i,r[i])));rt._data(a,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){rt.data(this,e)}):arguments.length>1?this.each(function(){rt.data(this,e,t)}):a?l(a,e,rt.data(a,e)):void 0},removeData:function(e){return this.each(function(){rt.removeData(this,e)})}}),rt.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=rt._data(e,t),n&&(!i||rt.isArray(n)?i=rt._data(e,t,rt.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=rt.queue(e,t),i=n.length,r=n.shift(),a=rt._queueHooks(e,t),o=function(){rt.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete a.stop,r.call(e,o,a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return rt._data(e,n)||rt._data(e,n,{empty:rt.Callbacks("once memory").add(function(){rt._removeData(e,t+"queue"),rt._removeData(e,n)})})}}),rt.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?rt.queue(this[0],e):void 0===t?this:this.each(function(){var n=rt.queue(this,e,t);rt._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&rt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){rt.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=rt.Deferred(),a=this,o=this.length,s=function(){--i||r.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)n=rt._data(a[o],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var St=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Et=["Top","Right","Bottom","Left"],Dt=function(e,t){return e=t||e,"none"===rt.css(e,"display")||!rt.contains(e.ownerDocument,e)},At=rt.access=function(e,t,n,i,r,a,o){var s=0,l=e.length,d=null==n;if("object"===rt.type(n)){r=!0;for(s in n)rt.access(e,t,s,n[s],!0,a,o)}else if(void 0!==i&&(r=!0,rt.isFunction(i)||(o=!0),d&&(o?(t.call(e,i),t=null):(d=t,t=function(e,t,n){return d.call(rt(e),n)})),t))for(;l>s;s++)t(e[s],n,o?i:i.call(e[s],s,t(e[s],n)));return r?e:d?t.call(e):l?t(e[0],n):a},Pt=/^(?:checkbox|radio)$/i;!function(){var e=ft.createElement("input"),t=ft.createElement("div"),n=ft.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",nt.leadingWhitespace=3===t.firstChild.nodeType,nt.tbody=!t.getElementsByTagName("tbody").length,nt.htmlSerialize=!!t.getElementsByTagName("link").length,nt.html5Clone="<:nav></:nav>"!==ft.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),nt.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",nt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,nt.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){nt.noCloneEvent=!1}),t.cloneNode(!0).click()),null==nt.deleteExpando){nt.deleteExpando=!0;try{delete t.test}catch(i){nt.deleteExpando=!1}}}(),function(){var t,n,i=ft.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(nt[t+"Bubbles"]=n in e)||(i.setAttribute(n,"t"),nt[t+"Bubbles"]=i.attributes[n].expando===!1);i=null}();var Mt=/^(?:input|select|textarea)$/i,It=/^key/,Bt=/^(?:mouse|pointer|contextmenu)|click/,Lt=/^(?:focusinfocus|focusoutblur)$/,Nt=/^([^.]*)(?:\.(.+)|)$/;rt.event={global:{},add:function(e,t,n,i,r){var a,o,s,l,d,u,c,h,p,f,g,m=rt._data(e);if(m){for(n.handler&&(l=n,n=l.handler,r=l.selector),n.guid||(n.guid=rt.guid++),(o=m.events)||(o=m.events={}),(u=m.handle)||(u=m.handle=function(e){return typeof rt===Ct||e&&rt.event.triggered===e.type?void 0:rt.event.dispatch.apply(u.elem,arguments)},u.elem=e),t=(t||"").match(bt)||[""],s=t.length;s--;)a=Nt.exec(t[s])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p&&(d=rt.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=rt.event.special[p]||{},c=rt.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&rt.expr.match.needsContext.test(r),namespace:f.join(".")},l),(h=o[p])||(h=o[p]=[],h.delegateCount=0,d.setup&&d.setup.call(e,i,f,u)!==!1||(e.addEventListener?e.addEventListener(p,u,!1):e.attachEvent&&e.attachEvent("on"+p,u))),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,c):h.push(c),rt.event.global[p]=!0);e=null}},remove:function(e,t,n,i,r){var a,o,s,l,d,u,c,h,p,f,g,m=rt.hasData(e)&&rt._data(e);if(m&&(u=m.events)){for(t=(t||"").match(bt)||[""],d=t.length;d--;)if(s=Nt.exec(t[d])||[],p=g=s[1],f=(s[2]||"").split(".").sort(),p){for(c=rt.event.special[p]||{},p=(i?c.delegateType:c.bindType)||p,h=u[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=a=h.length;a--;)o=h[a],!r&&g!==o.origType||n&&n.guid!==o.guid||s&&!s.test(o.namespace)||i&&i!==o.selector&&("**"!==i||!o.selector)||(h.splice(a,1),o.selector&&h.delegateCount--,c.remove&&c.remove.call(e,o));l&&!h.length&&(c.teardown&&c.teardown.call(e,f,m.handle)!==!1||rt.removeEvent(e,p,m.handle),delete u[p])}else for(p in u)rt.event.remove(e,p+t[d],n,i,!0);rt.isEmptyObject(u)&&(delete m.handle,rt._removeData(e,"events"))}},trigger:function(t,n,i,r){var a,o,s,l,d,u,c,h=[i||ft],p=tt.call(t,"type")?t.type:t,f=tt.call(t,"namespace")?t.namespace.split("."):[];if(s=u=i=i||ft,3!==i.nodeType&&8!==i.nodeType&&!Lt.test(p+rt.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),o=p.indexOf(":")<0&&"on"+p,t=t[rt.expando]?t:new rt.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:rt.makeArray(n,[t]),d=rt.event.special[p]||{},r||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!r&&!d.noBubble&&!rt.isWindow(i)){for(l=d.delegateType||p,Lt.test(l+p)||(s=s.parentNode);s;s=s.parentNode)h.push(s),u=s;u===(i.ownerDocument||ft)&&h.push(u.defaultView||u.parentWindow||e)}for(c=0;(s=h[c++])&&!t.isPropagationStopped();)t.type=c>1?l:d.bindType||p,a=(rt._data(s,"events")||{})[t.type]&&rt._data(s,"handle"),a&&a.apply(s,n),a=o&&s[o],a&&a.apply&&rt.acceptData(s)&&(t.result=a.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=p,!r&&!t.isDefaultPrevented()&&(!d._default||d._default.apply(h.pop(),n)===!1)&&rt.acceptData(i)&&o&&i[p]&&!rt.isWindow(i)){u=i[o],u&&(i[o]=null),rt.event.triggered=p;try{i[p]()}catch(g){}rt.event.triggered=void 0,u&&(i[o]=u)}return t.result}},dispatch:function(e){e=rt.event.fix(e);var t,n,i,r,a,o=[],s=$.call(arguments),l=(rt._data(this,"events")||{})[e.type]||[],d=rt.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!d.preDispatch||d.preDispatch.call(this,e)!==!1){for(o=rt.event.handlers.call(this,e,l),t=0;(r=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,a=0;(i=r.handlers[a++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,n=((rt.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,a,o=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(r=[],a=0;s>a;a++)i=t[a],n=i.selector+" ",void 0===r[n]&&(r[n]=i.needsContext?rt(n,this).index(l)>=0:rt.find(n,this,null,[l]).length),r[n]&&r.push(i);r.length&&o.push({elem:l,handlers:r})}return s<t.length&&o.push({elem:this,handlers:t.slice(s)}),o},fix:function(e){if(e[rt.expando])return e;var t,n,i,r=e.type,a=e,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=Bt.test(r)?this.mouseHooks:It.test(r)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,e=new rt.Event(a),t=i.length;t--;)n=i[t],e[n]=a[n];return e.target||(e.target=a.srcElement||ft),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,a=t.button,o=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||ft,r=i.documentElement,n=i.body,e.pageX=t.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return rt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return rt.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=rt.extend(new rt.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?rt.event.trigger(r,null,t):rt.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},rt.removeEvent=ft.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===Ct&&(e[i]=null),e.detachEvent(i,n))},rt.Event=function(e,t){return this instanceof rt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?h:p):this.type=e,t&&rt.extend(this,t),this.timeStamp=e&&e.timeStamp||rt.now(),void(this[rt.expando]=!0)):new rt.Event(e,t)},rt.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},rt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){rt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,a=e.handleObj;return(!r||r!==i&&!rt.contains(i,r))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),nt.submitBubbles||(rt.event.special.submit={setup:function(){return rt.nodeName(this,"form")?!1:void rt.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=rt.nodeName(t,"input")||rt.nodeName(t,"button")?t.form:void 0;n&&!rt._data(n,"submitBubbles")&&(rt.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),rt._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&rt.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return rt.nodeName(this,"form")?!1:void rt.event.remove(this,"._submit")}}),nt.changeBubbles||(rt.event.special.change={setup:function(){return Mt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(rt.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),rt.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),rt.event.simulate("change",this,e,!0)})),!1):void rt.event.add(this,"beforeactivate._change",function(e){var t=e.target;Mt.test(t.nodeName)&&!rt._data(t,"changeBubbles")&&(rt.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||rt.event.simulate("change",this.parentNode,e,!0)}),rt._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return rt.event.remove(this,"._change"),!Mt.test(this.nodeName)}}),nt.focusinBubbles||rt.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){rt.event.simulate(t,e.target,rt.event.fix(e),!0)};rt.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=rt._data(i,t);r||i.addEventListener(e,n,!0),rt._data(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=rt._data(i,t)-1;r?rt._data(i,t,r):(i.removeEventListener(e,n,!0),rt._removeData(i,t))}}}),rt.fn.extend({on:function(e,t,n,i,r){var a,o;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(a in e)this.on(a,t,n,e[a],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=p;else if(!i)return this;return 1===r&&(o=i,i=function(e){return rt().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=rt.guid++)),this.each(function(){rt.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,rt(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){rt.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){rt.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?rt.event.trigger(e,t,n,!0):void 0}});var Ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ot=/ jQuery\d+="(?:null|\d+)"/g,Ft=new RegExp("<(?:"+Ht+")[\\s/>]","i"),Rt=/^\s+/,Wt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,zt=/<([\w:]+)/,Yt=/<tbody/i,Vt=/<|&#?\w+;/,jt=/<(?:script|style|link)/i,Gt=/checked\s*(?:[^=]|=\s*.checked.)/i,qt=/^$|\/(?:java|ecma)script/i,Xt=/^true\/(.*)/,Ut=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,$t={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:nt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Qt=g(ft),Kt=Qt.appendChild(ft.createElement("div"));$t.optgroup=$t.option,$t.tbody=$t.tfoot=$t.colgroup=$t.caption=$t.thead,$t.th=$t.td,rt.extend({clone:function(e,t,n){var i,r,a,o,s,l=rt.contains(e.ownerDocument,e);if(nt.html5Clone||rt.isXMLDoc(e)||!Ft.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(Kt.innerHTML=e.outerHTML,Kt.removeChild(a=Kt.firstChild)),!(nt.noCloneEvent&&nt.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||rt.isXMLDoc(e)))for(i=m(a),s=m(e),o=0;null!=(r=s[o]);++o)i[o]&&C(r,i[o]);if(t)if(n)for(s=s||m(e),i=i||m(a),o=0;null!=(r=s[o]);o++)w(r,i[o]);else w(e,a);return i=m(a,"script"),i.length>0&&x(i,!l&&m(e,"script")),i=s=r=null,a},buildFragment:function(e,t,n,i){for(var r,a,o,s,l,d,u,c=e.length,h=g(t),p=[],f=0;c>f;f++)if(a=e[f],a||0===a)if("object"===rt.type(a))rt.merge(p,a.nodeType?[a]:a);else if(Vt.test(a)){for(s=s||h.appendChild(t.createElement("div")),l=(zt.exec(a)||["",""])[1].toLowerCase(),u=$t[l]||$t._default,s.innerHTML=u[1]+a.replace(Wt,"<$1></$2>")+u[2],r=u[0];r--;)s=s.lastChild;if(!nt.leadingWhitespace&&Rt.test(a)&&p.push(t.createTextNode(Rt.exec(a)[0])),!nt.tbody)for(a="table"!==l||Yt.test(a)?"<table>"!==u[1]||Yt.test(a)?0:s:s.firstChild,r=a&&a.childNodes.length;r--;)rt.nodeName(d=a.childNodes[r],"tbody")&&!d.childNodes.length&&a.removeChild(d);for(rt.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=h.lastChild}else p.push(t.createTextNode(a));for(s&&h.removeChild(s),nt.appendChecked||rt.grep(m(p,"input"),v),f=0;a=p[f++];)if((!i||-1===rt.inArray(a,i))&&(o=rt.contains(a.ownerDocument,a),s=m(h.appendChild(a),"script"),o&&x(s),n))for(r=0;a=s[r++];)qt.test(a.type||"")&&n.push(a);return s=null,h},cleanData:function(e,t){for(var n,i,r,a,o=0,s=rt.expando,l=rt.cache,d=nt.deleteExpando,u=rt.event.special;null!=(n=e[o]);o++)if((t||rt.acceptData(n))&&(r=n[s],a=r&&l[r])){if(a.events)for(i in a.events)u[i]?rt.event.remove(n,i):rt.removeEvent(n,i,a.handle);l[r]&&(delete l[r],d?delete n[s]:typeof n.removeAttribute!==Ct?n.removeAttribute(s):n[s]=null,U.push(r))}}}),rt.fn.extend({text:function(e){return At(this,function(e){return void 0===e?rt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ft).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?rt.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||rt.cleanData(m(n)),n.parentNode&&(t&&rt.contains(n.ownerDocument,n)&&x(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&rt.cleanData(m(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&rt.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return rt.clone(this,e,t)
})},html:function(e){return At(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ot,""):void 0;if(!("string"!=typeof e||jt.test(e)||!nt.htmlSerialize&&Ft.test(e)||!nt.leadingWhitespace&&Rt.test(e)||$t[(zt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Wt,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(rt.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,rt.cleanData(m(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Q.apply([],e);var n,i,r,a,o,s,l=0,d=this.length,u=this,c=d-1,h=e[0],p=rt.isFunction(h);if(p||d>1&&"string"==typeof h&&!nt.checkClone&&Gt.test(h))return this.each(function(n){var i=u.eq(n);p&&(e[0]=h.call(this,n,i.html())),i.domManip(e,t)});if(d&&(s=rt.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(a=rt.map(m(s,"script"),b),r=a.length;d>l;l++)i=s,l!==c&&(i=rt.clone(i,!0,!0),r&&rt.merge(a,m(i,"script"))),t.call(this[l],i,l);if(r)for(o=a[a.length-1].ownerDocument,rt.map(a,_),l=0;r>l;l++)i=a[l],qt.test(i.type||"")&&!rt._data(i,"globalEval")&&rt.contains(o,i)&&(i.src?rt._evalUrl&&rt._evalUrl(i.src):rt.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Ut,"")));s=n=null}return this}}),rt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){rt.fn[e]=function(e){for(var n,i=0,r=[],a=rt(e),o=a.length-1;o>=i;i++)n=i===o?this:this.clone(!0),rt(a[i])[t](n),K.apply(r,n.get());return this.pushStack(r)}});var Zt,Jt={};!function(){var e;nt.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,i;return n=ft.getElementsByTagName("body")[0],n&&n.style?(t=ft.createElement("div"),i=ft.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==Ct&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(ft.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(i),e):void 0}}();var en,tn,nn=/^margin/,rn=new RegExp("^("+St+")(?!px)[a-z%]+$","i"),an=/^(top|right|bottom|left)$/;e.getComputedStyle?(en=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},tn=function(e,t,n){var i,r,a,o,s=e.style;return n=n||en(e),o=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==o||rt.contains(e.ownerDocument,e)||(o=rt.style(e,t)),rn.test(o)&&nn.test(t)&&(i=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=i,s.minWidth=r,s.maxWidth=a)),void 0===o?o:o+""}):ft.documentElement.currentStyle&&(en=function(e){return e.currentStyle},tn=function(e,t,n){var i,r,a,o,s=e.style;return n=n||en(e),o=n?n[t]:void 0,null==o&&s&&s[t]&&(o=s[t]),rn.test(o)&&!an.test(t)&&(i=s.left,r=e.runtimeStyle,a=r&&r.left,a&&(r.left=e.currentStyle.left),s.left="fontSize"===t?"1em":o,o=s.pixelLeft+"px",s.left=i,a&&(r.left=a)),void 0===o?o:o+""||"auto"}),function(){function t(){var t,n,i,r;n=ft.getElementsByTagName("body")[0],n&&n.style&&(t=ft.createElement("div"),i=ft.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a=o=!1,l=!0,e.getComputedStyle&&(a="1%"!==(e.getComputedStyle(t,null)||{}).top,o="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,r=t.appendChild(ft.createElement("div")),r.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=t.getElementsByTagName("td"),r[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===r[0].offsetHeight,s&&(r[0].style.display="",r[1].style.display="none",s=0===r[0].offsetHeight),n.removeChild(i))}var n,i,r,a,o,s,l;n=ft.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=n.getElementsByTagName("a")[0],i=r&&r.style,i&&(i.cssText="float:left;opacity:.5",nt.opacity="0.5"===i.opacity,nt.cssFloat=!!i.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===n.style.backgroundClip,nt.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,rt.extend(nt,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==o&&t(),o},pixelPosition:function(){return null==a&&t(),a},reliableMarginRight:function(){return null==l&&t(),l}}))}(),rt.swap=function(e,t,n,i){var r,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];r=n.apply(e,i||[]);for(a in t)e.style[a]=o[a];return r};var on=/alpha\([^)]*\)/i,sn=/opacity\s*=\s*([^)]*)/,ln=/^(none|table(?!-c[ea]).+)/,dn=new RegExp("^("+St+")(.*)$","i"),un=new RegExp("^([+-])=("+St+")","i"),cn={position:"absolute",visibility:"hidden",display:"block"},hn={letterSpacing:"0",fontWeight:"400"},pn=["Webkit","O","Moz","ms"];rt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=tn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":nt.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,a,o,s=rt.camelCase(t),l=e.style;if(t=rt.cssProps[s]||(rt.cssProps[s]=E(l,s)),o=rt.cssHooks[t]||rt.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(e,!1,i))?r:l[t];if(a=typeof n,"string"===a&&(r=un.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(rt.css(e,t)),a="number"),null!=n&&n===n&&("number"!==a||rt.cssNumber[s]||(n+="px"),nt.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(o&&"set"in o&&void 0===(n=o.set(e,n,i)))))try{l[t]=n}catch(d){}}},css:function(e,t,n,i){var r,a,o,s=rt.camelCase(t);return t=rt.cssProps[s]||(rt.cssProps[s]=E(e.style,s)),o=rt.cssHooks[t]||rt.cssHooks[s],o&&"get"in o&&(a=o.get(e,!0,n)),void 0===a&&(a=tn(e,t,i)),"normal"===a&&t in hn&&(a=hn[t]),""===n||n?(r=parseFloat(a),n===!0||rt.isNumeric(r)?r||0:a):a}}),rt.each(["height","width"],function(e,t){rt.cssHooks[t]={get:function(e,n,i){return n?ln.test(rt.css(e,"display"))&&0===e.offsetWidth?rt.swap(e,cn,function(){return M(e,t,i)}):M(e,t,i):void 0},set:function(e,n,i){var r=i&&en(e);return A(e,n,i?P(e,t,i,nt.boxSizing&&"border-box"===rt.css(e,"boxSizing",!1,r),r):0)}}}),nt.opacity||(rt.cssHooks.opacity={get:function(e,t){return sn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=rt.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===rt.trim(a.replace(on,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=on.test(a)?a.replace(on,r):a+" "+r)}}),rt.cssHooks.marginRight=S(nt.reliableMarginRight,function(e,t){return t?rt.swap(e,{display:"inline-block"},tn,[e,"marginRight"]):void 0}),rt.each({margin:"",padding:"",border:"Width"},function(e,t){rt.cssHooks[e+t]={expand:function(n){for(var i=0,r={},a="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Et[i]+t]=a[i]||a[i-2]||a[0];return r}},nn.test(e)||(rt.cssHooks[e+t].set=A)}),rt.fn.extend({css:function(e,t){return At(this,function(e,t,n){var i,r,a={},o=0;if(rt.isArray(t)){for(i=en(e),r=t.length;r>o;o++)a[t[o]]=rt.css(e,t[o],!1,i);return a}return void 0!==n?rt.style(e,t,n):rt.css(e,t)},e,t,arguments.length>1)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Dt(this)?rt(this).show():rt(this).hide()})}}),rt.Tween=I,I.prototype={constructor:I,init:function(e,t,n,i,r,a){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(rt.cssNumber[n]?"":"px")},cur:function(){var e=I.propHooks[this.prop];return e&&e.get?e.get(this):I.propHooks._default.get(this)},run:function(e){var t,n=I.propHooks[this.prop];return this.pos=t=this.options.duration?rt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=rt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){rt.fx.step[e.prop]?rt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[rt.cssProps[e.prop]]||rt.cssHooks[e.prop])?rt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},rt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},rt.fx=I.prototype.init,rt.fx.step={};var fn,gn,mn=/^(?:toggle|show|hide)$/,vn=new RegExp("^(?:([+-])=|)("+St+")([a-z%]*)$","i"),yn=/queueHooks$/,bn=[H],_n={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=vn.exec(t),a=r&&r[3]||(rt.cssNumber[e]?"":"px"),o=(rt.cssNumber[e]||"px"!==a&&+i)&&vn.exec(rt.css(n.elem,e)),s=1,l=20;if(o&&o[3]!==a){a=a||o[3],r=r||[],o=+i||1;do s=s||".5",o/=s,rt.style(n.elem,e,o+a);while(s!==(s=n.cur()/i)&&1!==s&&--l)}return r&&(o=n.start=+o||+i||0,n.unit=a,n.end=r[1]?o+(r[1]+1)*r[2]:+r[2]),n}]};rt.Animation=rt.extend(F,{tweener:function(e,t){rt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],_n[n]=_n[n]||[],_n[n].unshift(t)},prefilter:function(e,t){t?bn.unshift(e):bn.push(e)}}),rt.speed=function(e,t,n){var i=e&&"object"==typeof e?rt.extend({},e):{complete:n||!n&&t||rt.isFunction(e)&&e,duration:e,easing:n&&t||t&&!rt.isFunction(t)&&t};return i.duration=rt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in rt.fx.speeds?rt.fx.speeds[i.duration]:rt.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){rt.isFunction(i.old)&&i.old.call(this),i.queue&&rt.dequeue(this,i.queue)},i},rt.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Dt).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=rt.isEmptyObject(e),a=rt.speed(t,n,i),o=function(){var t=F(this,rt.extend({},e),a);(r||rt._data(this,"finish"))&&t.stop(!0)};return o.finish=o,r||a.queue===!1?this.each(o):this.queue(a.queue,o)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",a=rt.timers,o=rt._data(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&yn.test(r)&&i(o[r]);for(r=a.length;r--;)a[r].elem!==this||null!=e&&a[r].queue!==e||(a[r].anim.stop(n),t=!1,a.splice(r,1));(t||!n)&&rt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=rt._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],a=rt.timers,o=i?i.length:0;for(n.finish=!0,rt.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;o>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),rt.each(["toggle","show","hide"],function(e,t){var n=rt.fn[t];rt.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(L(t,!0),e,i,r)}}),rt.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){rt.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),rt.timers=[],rt.fx.tick=function(){var e,t=rt.timers,n=0;for(fn=rt.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||rt.fx.stop(),fn=void 0},rt.fx.timer=function(e){rt.timers.push(e),e()?rt.fx.start():rt.timers.pop()},rt.fx.interval=13,rt.fx.start=function(){gn||(gn=setInterval(rt.fx.tick,rt.fx.interval))},rt.fx.stop=function(){clearInterval(gn),gn=null},rt.fx.speeds={slow:600,fast:200,_default:400},rt.fn.delay=function(e,t){return e=rt.fx?rt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e,t,n,i,r;t=ft.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=t.getElementsByTagName("a")[0],n=ft.createElement("select"),r=n.appendChild(ft.createElement("option")),e=t.getElementsByTagName("input")[0],i.style.cssText="top:1px",nt.getSetAttribute="t"!==t.className,nt.style=/top/.test(i.getAttribute("style")),nt.hrefNormalized="/a"===i.getAttribute("href"),nt.checkOn=!!e.value,nt.optSelected=r.selected,nt.enctype=!!ft.createElement("form").enctype,n.disabled=!0,nt.optDisabled=!r.disabled,e=ft.createElement("input"),e.setAttribute("value",""),nt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),nt.radioValue="t"===e.value}();var xn=/\r/g;rt.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=rt.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,rt(this).val()):e,null==r?r="":"number"==typeof r?r+="":rt.isArray(r)&&(r=rt.map(r,function(e){return null==e?"":e+""})),t=rt.valHooks[this.type]||rt.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=rt.valHooks[r.type]||rt.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(xn,""):null==n?"":n)}}}),rt.extend({valHooks:{option:{get:function(e){var t=rt.find.attr(e,"value");return null!=t?t:rt.trim(rt.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,a="select-one"===e.type||0>r,o=a?null:[],s=a?r+1:i.length,l=0>r?s:a?r:0;s>l;l++)if(n=i[l],!(!n.selected&&l!==r||(nt.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&rt.nodeName(n.parentNode,"optgroup"))){if(t=rt(n).val(),a)return t;o.push(t)}return o},set:function(e,t){for(var n,i,r=e.options,a=rt.makeArray(t),o=r.length;o--;)if(i=r[o],rt.inArray(rt.valHooks.option.get(i),a)>=0)try{i.selected=n=!0}catch(s){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),r}}}}),rt.each(["radio","checkbox"],function(){rt.valHooks[this]={set:function(e,t){return rt.isArray(t)?e.checked=rt.inArray(rt(e).val(),t)>=0:void 0}},nt.checkOn||(rt.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wn,Cn,Tn=rt.expr.attrHandle,kn=/^(?:checked|selected)$/i,Sn=nt.getSetAttribute,En=nt.input;rt.fn.extend({attr:function(e,t){return At(this,rt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){rt.removeAttr(this,e)})}}),rt.extend({attr:function(e,t,n){var i,r,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===Ct?rt.prop(e,t,n):(1===a&&rt.isXMLDoc(e)||(t=t.toLowerCase(),i=rt.attrHooks[t]||(rt.expr.match.bool.test(t)?Cn:wn)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=rt.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void rt.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,a=t&&t.match(bt);if(a&&1===e.nodeType)for(;n=a[r++];)i=rt.propFix[n]||n,rt.expr.match.bool.test(n)?En&&Sn||!kn.test(n)?e[i]=!1:e[rt.camelCase("default-"+n)]=e[i]=!1:rt.attr(e,n,""),e.removeAttribute(Sn?n:i)},attrHooks:{type:{set:function(e,t){if(!nt.radioValue&&"radio"===t&&rt.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Cn={set:function(e,t,n){return t===!1?rt.removeAttr(e,n):En&&Sn||!kn.test(n)?e.setAttribute(!Sn&&rt.propFix[n]||n,n):e[rt.camelCase("default-"+n)]=e[n]=!0,n}},rt.each(rt.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Tn[t]||rt.find.attr;Tn[t]=En&&Sn||!kn.test(t)?function(e,t,i){var r,a;return i||(a=Tn[t],Tn[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,Tn[t]=a),r}:function(e,t,n){return n?void 0:e[rt.camelCase("default-"+t)]?t.toLowerCase():null}}),En&&Sn||(rt.attrHooks.value={set:function(e,t,n){return rt.nodeName(e,"input")?void(e.defaultValue=t):wn&&wn.set(e,t,n)}}),Sn||(wn={set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Tn.id=Tn.name=Tn.coords=function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},rt.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:wn.set},rt.attrHooks.contenteditable={set:function(e,t,n){wn.set(e,""===t?!1:t,n)}},rt.each(["width","height"],function(e,t){rt.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),nt.style||(rt.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Dn=/^(?:input|select|textarea|button|object)$/i,An=/^(?:a|area)$/i;rt.fn.extend({prop:function(e,t){return At(this,rt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=rt.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),rt.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,a,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return a=1!==o||!rt.isXMLDoc(e),a&&(t=rt.propFix[t]||t,r=rt.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=rt.find.attr(e,"tabindex");return t?parseInt(t,10):Dn.test(e.nodeName)||An.test(e.nodeName)&&e.href?0:-1}}}}),nt.hrefNormalized||rt.each(["href","src"],function(e,t){rt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),nt.optSelected||(rt.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),rt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){rt.propFix[this.toLowerCase()]=this}),nt.enctype||(rt.propFix.enctype="encoding");var Pn=/[\t\r\n\f]/g;rt.fn.extend({addClass:function(e){var t,n,i,r,a,o,s=0,l=this.length,d="string"==typeof e&&e;if(rt.isFunction(e))return this.each(function(t){rt(this).addClass(e.call(this,t,this.className))});if(d)for(t=(e||"").match(bt)||[];l>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Pn," "):" ")){for(a=0;r=t[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o=rt.trim(i),n.className!==o&&(n.className=o)}return this},removeClass:function(e){var t,n,i,r,a,o,s=0,l=this.length,d=0===arguments.length||"string"==typeof e&&e;if(rt.isFunction(e))return this.each(function(t){rt(this).removeClass(e.call(this,t,this.className))});if(d)for(t=(e||"").match(bt)||[];l>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Pn," "):"")){for(a=0;r=t[a++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");o=e?rt.trim(i):"",n.className!==o&&(n.className=o)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(rt.isFunction(e)?function(n){rt(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,r=rt(this),a=e.match(bt)||[];t=a[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===Ct||"boolean"===n)&&(this.className&&rt._data(this,"__className__",this.className),this.className=this.className||e===!1?"":rt._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Pn," ").indexOf(t)>=0)return!0;return!1}}),rt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){rt.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),rt.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Mn=rt.now(),In=/\?/,Bn=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;rt.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,i=null,r=rt.trim(t+"");return r&&!rt.trim(r.replace(Bn,function(e,t,r,a){return n&&t&&(i=0),0===i?e:(n=r||t,i+=!a-!r,"")}))?Function("return "+r)():rt.error("Invalid JSON: "+t)},rt.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(i=new DOMParser,n=i.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(r){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||rt.error("Invalid XML: "+t),n};var Ln,Nn,Hn=/#.*$/,On=/([?&])_=[^&]*/,Fn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Rn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Wn=/^(?:GET|HEAD)$/,zn=/^\/\//,Yn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Vn={},jn={},Gn="*/".concat("*");try{Nn=location.href}catch(qn){Nn=ft.createElement("a"),Nn.href="",Nn=Nn.href}Ln=Yn.exec(Nn.toLowerCase())||[],rt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Nn,type:"GET",isLocal:Rn.test(Ln[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":rt.parseJSON,"text xml":rt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?z(z(e,rt.ajaxSettings),t):z(rt.ajaxSettings,e)},ajaxPrefilter:R(Vn),ajaxTransport:R(jn),ajax:function(e,t){function n(e,t,n,i){var r,u,v,y,_,w=t;2!==b&&(b=2,s&&clearTimeout(s),d=void 0,o=i||"",x.readyState=e>0?4:0,r=e>=200&&300>e||304===e,n&&(y=Y(c,x,n)),y=V(c,y,x,r),r?(c.ifModified&&(_=x.getResponseHeader("Last-Modified"),_&&(rt.lastModified[a]=_),_=x.getResponseHeader("etag"),_&&(rt.etag[a]=_)),204===e||"HEAD"===c.type?w="nocontent":304===e?w="notmodified":(w=y.state,u=y.data,v=y.error,r=!v)):(v=w,(e||!w)&&(w="error",0>e&&(e=0))),x.status=e,x.statusText=(t||w)+"",r?f.resolveWith(h,[u,w,x]):f.rejectWith(h,[x,w,v]),x.statusCode(m),m=void 0,l&&p.trigger(r?"ajaxSuccess":"ajaxError",[x,c,r?u:v]),g.fireWith(h,[x,w]),l&&(p.trigger("ajaxComplete",[x,c]),--rt.active||rt.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,a,o,s,l,d,u,c=rt.ajaxSetup({},t),h=c.context||c,p=c.context&&(h.nodeType||h.jquery)?rt(h):rt.event,f=rt.Deferred(),g=rt.Callbacks("once memory"),m=c.statusCode||{},v={},y={},b=0,_="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!u)for(u={};t=Fn.exec(o);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||_;return d&&d.abort(t),n(0,t),this}};if(f.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,c.url=((e||c.url||Nn)+"").replace(Hn,"").replace(zn,Ln[1]+"//"),c.type=t.method||t.type||c.method||c.type,c.dataTypes=rt.trim(c.dataType||"*").toLowerCase().match(bt)||[""],null==c.crossDomain&&(i=Yn.exec(c.url.toLowerCase()),c.crossDomain=!(!i||i[1]===Ln[1]&&i[2]===Ln[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Ln[3]||("http:"===Ln[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=rt.param(c.data,c.traditional)),W(Vn,c,t,x),2===b)return x;l=c.global,l&&0===rt.active++&&rt.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Wn.test(c.type),a=c.url,c.hasContent||(c.data&&(a=c.url+=(In.test(a)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=On.test(a)?a.replace(On,"$1_="+Mn++):a+(In.test(a)?"&":"?")+"_="+Mn++)),c.ifModified&&(rt.lastModified[a]&&x.setRequestHeader("If-Modified-Since",rt.lastModified[a]),rt.etag[a]&&x.setRequestHeader("If-None-Match",rt.etag[a])),(c.data&&c.hasContent&&c.contentType!==!1||t.contentType)&&x.setRequestHeader("Content-Type",c.contentType),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+Gn+"; q=0.01":""):c.accepts["*"]);for(r in c.headers)x.setRequestHeader(r,c.headers[r]);if(c.beforeSend&&(c.beforeSend.call(h,x,c)===!1||2===b))return x.abort();_="abort";for(r in{success:1,error:1,complete:1})x[r](c[r]);if(d=W(jn,c,t,x)){x.readyState=1,l&&p.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(s=setTimeout(function(){x.abort("timeout")},c.timeout));try{b=1,d.send(v,n)}catch(w){if(!(2>b))throw w;n(-1,w)}}else n(-1,"No Transport");return x},getJSON:function(e,t,n){return rt.get(e,t,n,"json")},getScript:function(e,t){return rt.get(e,void 0,t,"script")}}),rt.each(["get","post"],function(e,t){rt[t]=function(e,n,i,r){return rt.isFunction(n)&&(r=r||i,i=n,n=void 0),rt.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),rt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){rt.fn[t]=function(e){return this.on(t,e)}}),rt._evalUrl=function(e){return rt.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},rt.fn.extend({wrapAll:function(e){if(rt.isFunction(e))return this.each(function(t){rt(this).wrapAll(e.call(this,t))});if(this[0]){var t=rt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(rt.isFunction(e)?function(t){rt(this).wrapInner(e.call(this,t))}:function(){var t=rt(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=rt.isFunction(e);return this.each(function(n){rt(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){rt.nodeName(this,"body")||rt(this).replaceWith(this.childNodes)}).end()}}),rt.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!nt.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||rt.css(e,"display"))},rt.expr.filters.visible=function(e){return!rt.expr.filters.hidden(e)};var Xn=/%20/g,Un=/\[\]$/,$n=/\r?\n/g,Qn=/^(?:submit|button|image|reset|file)$/i,Kn=/^(?:input|select|textarea|keygen)/i;rt.param=function(e,t){var n,i=[],r=function(e,t){t=rt.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=rt.ajaxSettings&&rt.ajaxSettings.traditional),rt.isArray(e)||e.jquery&&!rt.isPlainObject(e))rt.each(e,function(){r(this.name,this.value)});else for(n in e)j(n,e[n],t,r);return i.join("&").replace(Xn,"+")},rt.fn.extend({serialize:function(){return rt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=rt.prop(this,"elements");return e?rt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!rt(this).is(":disabled")&&Kn.test(this.nodeName)&&!Qn.test(e)&&(this.checked||!Pt.test(e))}).map(function(e,t){var n=rt(this).val();return null==n?null:rt.isArray(n)?rt.map(n,function(e){return{name:t.name,value:e.replace($n,"\r\n")}}):{name:t.name,value:n.replace($n,"\r\n")}}).get()}}),rt.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&G()||q()}:G;var Zn=0,Jn={},ei=rt.ajaxSettings.xhr();e.ActiveXObject&&rt(e).on("unload",function(){for(var e in Jn)Jn[e](void 0,!0)}),nt.cors=!!ei&&"withCredentials"in ei,ei=nt.ajax=!!ei,ei&&rt.ajaxTransport(function(e){if(!e.crossDomain||nt.cors){var t;return{send:function(n,i){var r,a=e.xhr(),o=++Zn;if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)void 0!==n[r]&&a.setRequestHeader(r,n[r]+"");a.send(e.hasContent&&e.data||null),t=function(n,r){var s,l,d;if(t&&(r||4===a.readyState))if(delete Jn[o],t=void 0,a.onreadystatechange=rt.noop,r)4!==a.readyState&&a.abort();else{d={},s=a.status,"string"==typeof a.responseText&&(d.text=a.responseText);try{l=a.statusText}catch(u){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=d.text?200:404}d&&i(s,l,d,a.getAllResponseHeaders())},e.async?4===a.readyState?setTimeout(t):a.onreadystatechange=Jn[o]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),rt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return rt.globalEval(e),e}}}),rt.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),rt.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=ft.head||rt("head")[0]||ft.documentElement;return{send:function(i,r){t=ft.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||r(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var ti=[],ni=/(=)\?(?=&|$)|\?\?/;rt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ti.pop()||rt.expando+"_"+Mn++;return this[e]=!0,e}}),rt.ajaxPrefilter("json jsonp",function(t,n,i){var r,a,o,s=t.jsonp!==!1&&(ni.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ni.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=rt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ni,"$1"+r):t.jsonp!==!1&&(t.url+=(In.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||rt.error(r+" was not called"),o[0]},t.dataTypes[0]="json",a=e[r],e[r]=function(){o=arguments},i.always(function(){e[r]=a,t[r]&&(t.jsonpCallback=n.jsonpCallback,ti.push(r)),o&&rt.isFunction(a)&&a(o[0]),o=a=void 0}),"script"):void 0}),rt.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||ft;var i=ct.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=rt.buildFragment([e],t,r),r&&r.length&&rt(r).remove(),rt.merge([],i.childNodes))};var ii=rt.fn.load;rt.fn.load=function(e,t,n){if("string"!=typeof e&&ii)return ii.apply(this,arguments);var i,r,a,o=this,s=e.indexOf(" ");return s>=0&&(i=rt.trim(e.slice(s,e.length)),e=e.slice(0,s)),rt.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(a="POST"),o.length>0&&rt.ajax({url:e,type:a,dataType:"html",data:t}).done(function(e){r=arguments,o.html(i?rt("<div>").append(rt.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){o.each(n,r||[e.responseText,t,e])}),this},rt.expr.filters.animated=function(e){return rt.grep(rt.timers,function(t){return e===t.elem}).length};var ri=e.document.documentElement;rt.offset={setOffset:function(e,t,n){var i,r,a,o,s,l,d,u=rt.css(e,"position"),c=rt(e),h={};"static"===u&&(e.style.position="relative"),s=c.offset(),a=rt.css(e,"top"),l=rt.css(e,"left"),d=("absolute"===u||"fixed"===u)&&rt.inArray("auto",[a,l])>-1,d?(i=c.position(),o=i.top,r=i.left):(o=parseFloat(a)||0,r=parseFloat(l)||0),rt.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(h.top=t.top-s.top+o),null!=t.left&&(h.left=t.left-s.left+r),"using"in t?t.using.call(e,h):c.css(h)
}},rt.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){rt.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},r=this[0],a=r&&r.ownerDocument;if(a)return t=a.documentElement,rt.contains(t,r)?(typeof r.getBoundingClientRect!==Ct&&(i=r.getBoundingClientRect()),n=X(a),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===rt.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),rt.nodeName(e[0],"html")||(n=e.offset()),n.top+=rt.css(e[0],"borderTopWidth",!0),n.left+=rt.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-rt.css(i,"marginTop",!0),left:t.left-n.left-rt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ri;e&&!rt.nodeName(e,"html")&&"static"===rt.css(e,"position");)e=e.offsetParent;return e||ri})}}),rt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);rt.fn[e]=function(i){return At(this,function(e,i,r){var a=X(e);return void 0===r?a?t in a?a[t]:a.document.documentElement[i]:e[i]:void(a?a.scrollTo(n?rt(a).scrollLeft():r,n?r:rt(a).scrollTop()):e[i]=r)},e,i,arguments.length,null)}}),rt.each(["top","left"],function(e,t){rt.cssHooks[t]=S(nt.pixelPosition,function(e,n){return n?(n=tn(e,t),rn.test(n)?rt(e).position()[t]+"px":n):void 0})}),rt.each({Height:"height",Width:"width"},function(e,t){rt.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){rt.fn[i]=function(i,r){var a=arguments.length&&(n||"boolean"!=typeof i),o=n||(i===!0||r===!0?"margin":"border");return At(this,function(t,n,i){var r;return rt.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?rt.css(t,n,o):rt.style(t,n,i,o)},t,a?i:void 0,a,null)}})}),rt.fn.size=function(){return this.length},rt.fn.andSelf=rt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return rt});var ai=e.jQuery,oi=e.$;return rt.noConflict=function(t){return e.$===rt&&(e.$=oi),t&&e.jQuery===rt&&(e.jQuery=ai),rt},typeof t===Ct&&(e.jQuery=e.$=rt),rt}),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.affix"),a="object"==typeof t&&t;r||i.data("bs.affix",r=new n(this,a)),"string"==typeof t&&r[t]()})}var n=function(t,i){this.options=e.extend({},n.DEFAULTS,i),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=e(document).height(),i=this.$target.scrollTop(),r=this.$element.offset(),a=this.options.offset,o=a.top,s=a.bottom;"object"!=typeof a&&(s=o=a),"function"==typeof o&&(o=a.top(this.$element)),"function"==typeof s&&(s=a.bottom(this.$element));var l=null!=this.unpin&&i+this.unpin<=r.top?!1:null!=s&&r.top+this.$element.height()>=t-s?"bottom":null!=o&&o>=i?"top":!1;if(this.affixed!==l){null!=this.unpin&&this.$element.css("top","");var d="affix"+(l?"-"+l:""),u=e.Event(d+".bs.affix");this.$element.trigger(u),u.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(d).trigger(e.Event(d.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:t-this.$element.height()-s}))}}};var i=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),i=n.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),t.call(n,i)})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof t&&r[t].call(n)})}var n='[data-dismiss="alert"]',i=function(t){e(t).on("click",n,this.close)};i.VERSION="3.2.0",i.prototype.close=function(t){function n(){a.detach().trigger("closed.bs.alert").remove()}var i=e(this),r=i.attr("data-target");r||(r=i.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var a=e(r);t&&t.preventDefault(),a.length||(a=i.hasClass("alert")?i:i.parent()),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(150):n())};var r=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.button"),a="object"==typeof t&&t;r||i.data("bs.button",r=new n(this,a)),"toggle"==t?r.toggle():t&&r.setState(t)})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",a=i.data();t+="Text",null==a.resetText&&i.data("resetText",i[r]()),i[r](null==a[t]?this.options[t]:a[t]),setTimeout(e.proxy(function(){"loadingText"==t?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=e(n.target);i.hasClass("btn")||(i=i.closest(".btn")),t.call(i,"toggle"),n.preventDefault()})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.carousel"),a=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t),o="string"==typeof t?t:a.slide;r||i.data("bs.carousel",r=new n(this,a)),"number"==typeof t?r.to(t):o?r[o]():a.interval&&r.pause().cycle()})}var n=function(t,n){this.$element=e(t).on("keydown.bs.carousel",e.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(e){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.to=function(t){var n=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",e(this.$items[t]))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,n){var i=this.$element.find(".item.active"),r=n||i[t](),a=this.interval,o="next"==t?"left":"right",s="next"==t?"first":"last",l=this;if(!r.length){if(!this.options.wrap)return;r=this.$element.find(".item")[s]()}if(r.hasClass("active"))return this.sliding=!1;var d=r[0],u=e.Event("slide.bs.carousel",{relatedTarget:d,direction:o});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=e(this.$indicators.children()[this.getItemIndex(r)]);c&&c.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:d,direction:o});return e.support.transition&&this.$element.hasClass("slide")?(r.addClass(t),r[0].offsetWidth,i.addClass(o),r.addClass(o),i.one("bsTransitionEnd",function(){r.removeClass([t,o].join(" ")).addClass("active"),i.removeClass(["active",o].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(1e3*i.css("transition-duration").slice(0,-1))):(i.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(h)),a&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(n){var i,r=e(this),a=e(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(a.hasClass("carousel")){var o=e.extend({},a.data(),r.data()),s=r.attr("data-slide-to");s&&(o.interval=!1),t.call(a,o),s&&a.data("bs.carousel").to(s),n.preventDefault()}}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.collapse"),a=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);!r&&a.toggle&&"show"==t&&(t=!t),r||i.data("bs.collapse",r=new n(this,a)),"string"==typeof t&&r[t]()})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n=e.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var r=i.data("bs.collapse");if(r&&r.transitioning)return;t.call(i,"hide"),r||i.data("bs.collapse",null)}var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return o.call(this);var s=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(o,this)).emulateTransitionEnd(350)[a](this.$element[0][s])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(350):i.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=e.fn.collapse;e.fn.collapse=t,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var i,r=e(this),a=r.attr("data-target")||n.preventDefault()||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),o=e(a),s=o.data("bs.collapse"),l=s?"toggle":r.data(),d=r.attr("data-parent"),u=d&&e(d);s&&s.transitioning||(u&&u.find('[data-toggle="collapse"][data-parent="'+d+'"]').not(r).addClass("collapsed"),r[o.hasClass("in")?"addClass":"removeClass"]("collapsed")),t.call(o,l)})}(jQuery),+function(e){"use strict";function t(t){t&&3===t.which||(e(r).remove(),e(a).each(function(){var i=n(e(this)),r={relatedTarget:this};i.hasClass("open")&&(i.trigger(t=e.Event("hide.bs.dropdown",r)),t.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown",r))}))}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}function i(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new o(this)),"string"==typeof t&&i[t].call(n)})}var r=".dropdown-backdrop",a='[data-toggle="dropdown"]',o=function(t){e(t).on("click.bs.dropdown",this.toggle)};o.VERSION="3.2.0",o.prototype.toggle=function(i){var r=e(this);if(!r.is(".disabled, :disabled")){var a=n(r),o=a.hasClass("open");if(t(),!o){"ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var s={relatedTarget:this};if(a.trigger(i=e.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;r.trigger("focus"),a.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},o.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var i=e(this);if(t.preventDefault(),t.stopPropagation(),!i.is(".disabled, :disabled")){var r=n(i),o=r.hasClass("open");if(!o||o&&27==t.keyCode)return 27==t.which&&r.find(a).trigger("focus"),i.trigger("click");var s=" li:not(.divider):visible a",l=r.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var d=l.index(l.filter(":focus"));38==t.keyCode&&d>0&&d--,40==t.keyCode&&d<l.length-1&&d++,~d||(d=0),l.eq(d).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=i,e.fn.dropdown.Constructor=o,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",a,o.prototype.toggle).on("keydown.bs.dropdown.data-api",a+', [role="menu"], [role="listbox"]',o.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof t&&r[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.2.0",n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=n.find(".active:last a")[0],a=e.Event("show.bs.tab",{relatedTarget:r});if(t.trigger(a),!a.isDefaultPrevented()){var o=e(i);this.activate(t.closest("li"),n),this.activate(o,o.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:r})})}}},n.prototype.activate=function(t,n,i){function r(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}var a=n.find("> .active"),o=i&&e.support.transition&&a.hasClass("fade");o?a.one("bsTransitionEnd",r).emulateTransitionEnd(150):r(),a.removeClass("in")};var i=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=i,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(n){n.preventDefault(),t.call(e(this),"show")})}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;e(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||e(i).trigger(e.support.transition.end)};return setTimeout(r,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(n,i){var r=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(e(n).is("body")?window:n),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",r),this.refresh(),this.process()}function n(n){return this.each(function(){var i=e(this),r=i.data("bs.scrollspy"),a="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new t(this,a)),"string"==typeof n&&r[n]()})}t.VERSION="3.2.0",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",n=0;e.isWindow(this.$scrollElement[0])||(t="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var i=this;this.$body.find(this.selector).map(function(){var i=e(this),r=i.data("target")||i.attr("href"),a=/^#./.test(r)&&e(r);return a&&a.length&&a.is(":visible")&&[[a[t]().top+n,r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,a=this.targets,o=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=i)return o!=(e=a[a.length-1])&&this.activate(e);if(o&&t<=r[0])return o!=(e=a[0])&&this.activate(e);for(e=r.length;e--;)o!=a[e]&&t>=r[e]&&(!r[e+1]||t<=r[e+1])&&this.activate(a[e])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")};var i=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t,i){return this.each(function(){var r=e(this),a=r.data("bs.modal"),o=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t);a||r.data("bs.modal",a=new n(this,o)),"string"==typeof t?a[t](i):o.show&&a.show(i)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var n=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var i=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var r=e.Event("shown.bs.modal",{relatedTarget:t});i?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(r)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var n=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&i;if(this.$backdrop=e('<div class="modal-backdrop '+i+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;r?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(150):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(150):a()}else t&&t()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=e(this),r=i.attr("href"),a=e(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),o=a.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},a.data(),i.data());i.is("a")&&n.preventDefault(),a.one("show.bs.modal",function(e){e.isDefaultPrevented()||a.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),t.call(a,o,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.tooltip"),a="object"==typeof t&&t;(r||"destroy"!=t)&&(r||i.data("bs.tooltip",r=new n(this,a)),"string"==typeof t&&r[t]())})}var n=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,i){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var r=this.options.trigger.split(" "),a=r.length;a--;){var o=r[a];if("click"==o)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=o){var s="hover"==o?"mouseenter":"focusin",l="hover"==o?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(document.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var i=this,r=this.tip(),a=this.getUID(this.type);this.setContent(),r.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&r.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,l=s.test(o);l&&(o=o.replace(s,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var d=this.getPosition(),u=r[0].offsetWidth,c=r[0].offsetHeight;if(l){var h=o,p=this.$element.parent(),f=this.getPosition(p);o="bottom"==o&&d.top+d.height+c-f.scroll>f.height?"top":"top"==o&&d.top-f.scroll-c<0?"bottom":"right"==o&&d.right+u>f.width?"left":"left"==o&&d.left-u<f.left?"right":o,r.removeClass(h).addClass(o)}var g=this.getCalculatedOffset(o,d,u,c);this.applyPlacement(g,o);var m=function(){i.$element.trigger("shown.bs."+i.type),i.hoverState=null};e.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",m).emulateTransitionEnd(150):m()}},n.prototype.applyPlacement=function(t,n){var i=this.tip(),r=i[0].offsetWidth,a=i[0].offsetHeight,o=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(s)&&(s=0),t.top=t.top+o,t.left=t.left+s,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,d=i[0].offsetHeight;"top"==n&&d!=a&&(t.top=t.top+a-d);var u=this.getViewportAdjustedDelta(n,t,l,d);u.left?t.left+=u.left:t.top+=u.top;var c=u.left?2*u.left-r+l:2*u.top-a+d,h=u.left?"left":"top",p=u.left?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(c,i[0][p],h)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(){function t(){"in"!=n.hoverState&&i.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,i=this.tip(),r=e.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(r),r.isDefaultPrevented()?void 0:(i.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",t).emulateTransitionEnd(150):t(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],i="BODY"==n.tagName;return e.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():null,{scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop(),width:i?e(window).width():t.outerWidth(),height:i?e(window).height():t.outerHeight()},i?{top:0,left:0}:t.offset())},n.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var a=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-a-o.scroll,l=t.top+a-o.scroll+i;s<o.top?r.top=o.top-s:l>o.top+o.height&&(r.top=o.top+o.height-l)}else{var d=t.left-a,u=t.left+a+n;d<o.left?r.left=o.left-d:u>o.width&&(r.left=o.left+o.width-u)}return r},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.popover"),a="object"==typeof t&&t;(r||"destroy"!=t)&&(r||i.data("bs.popover",r=new n(this,a)),"string"==typeof t&&r[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.2.0",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS
},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var i=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(jQuery),function(){var e,t;e=window.jQuery||("function"==typeof require?require("jquery"):void 0),t=e(document),e.turbo={version:"2.1.0",isReady:!1,use:function(e,n){return t.off(".turbo").on(""+e+".turbo",this.onLoad).on(""+n+".turbo",this.onFetch)},addCallback:function(n){return e.turbo.isReady&&n(e),t.on("turbo:ready",function(){return n(e)})},onLoad:function(){return e.turbo.isReady=!0,t.trigger("turbo:ready")},onFetch:function(){return e.turbo.isReady=!1},register:function(){return e(this.onLoad),e.fn.ready=this.addCallback}},e.turbo.register(),e.turbo.use("page:load","page:fetch")}.call(this),function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n,i=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},refreshCSRFTokens:function(){var t=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");e('form input[name="'+n+'"]').val(t)},fire:function(t,n,i){var r=e.Event(n);return t.trigger(r,i),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(i){var r,a,o,s,l,d,u,c;if(n.fire(i,"ajax:before")){if(s=i.data("cross-domain"),l=s===t?null:s,d=i.data("with-credentials")||null,u=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){r=i.attr("method"),a=i.attr("action"),o=i.serializeArray();var h=i.data("ujs:submit-button");h&&(o.push(h),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(r=i.data("method"),a=i.data("url"),o=i.serialize(),i.data("params")&&(o=o+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",a=i.data("url"),o=i.serialize(),i.data("params")&&(o=o+"&"+i.data("params"))):(r=i.data("method"),a=n.href(i),o=i.data("params")||null);return c={type:r||"GET",data:o,dataType:u,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[e,r])?void i.trigger("ajax:send",e):!1},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},crossDomain:l},d&&(c.xhrFields={withCredentials:d}),a&&(c.url=a),n.ajax(c)}return!1},handleMethod:function(i){var r=n.href(i),a=i.data("method"),o=i.attr("target"),s=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),d=e('<form method="post" action="'+r+'"></form>'),u='<input name="_method" value="'+a+'" type="hidden" />';l!==t&&s!==t&&(u+='<input name="'+l+'" value="'+s+'" type="hidden" />'),o&&d.attr("target",o),d.hide().append(u).appendTo("body"),d.submit()},formElements:function(t,n){return t.is("form")?e(t[0].elements).filter(n):t.find(n)},disableFormElements:function(t){n.formElements(t,n.disableSelector).each(function(){n.disableFormElement(e(this))})},disableFormElement:function(e){var n,i;n=e.is("button")?"html":"val",i=e.data("disable-with"),e.data("ujs:enable-with",e[n]()),i!==t&&e[n](i),e.prop("disabled",!0)},enableFormElements:function(t){n.formElements(t,n.enableSelector).each(function(){n.enableFormElement(e(this))})},enableFormElement:function(e){var t=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[t](e.data("ujs:enable-with")),e.prop("disabled",!1)},allowAction:function(e){var t,i=e.data("confirm"),r=!1;return i?(n.fire(e,"confirm")&&(r=n.confirm(i),t=n.fire(e,"confirm:complete",[r])),r&&t):!0},blankInputs:function(t,n,i){var r,a,o=e(),s=n||"input,textarea",l=t.find(s);return l.each(function(){if(r=e(this),a=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!a==!i){if(r.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;o=o.add(r)}}),o.length?o:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var i=e.data("disable-with");e.data("ujs:enable-with",e.html()),i!==t&&e.html(i),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},n.fire(i,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),i.delegate(n.buttonDisableSelector,"ajax:complete",function(){n.enableFormElement(e(this))}),i.delegate(n.linkClickSelector,"click.rails",function(i){var r=e(this),a=r.data("method"),o=r.data("params"),s=i.metaKey||i.ctrlKey;if(!n.allowAction(r))return n.stopEverything(i);if(!s&&r.is(n.linkDisableSelector)&&n.disableElement(r),r.data("remote")!==t){if(s&&(!a||"GET"===a)&&!o)return!0;var l=n.handleRemote(r);return l===!1?n.enableElement(r):l.error(function(){n.enableElement(r)}),!1}return r.data("method")?(n.handleMethod(r),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var r=n.handleRemote(i);return r===!1?n.enableFormElement(i):r.error(function(){n.enableFormElement(i)}),!1}),i.delegate(n.inputChangeSelector,"change.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var r,a,o=e(this),s=o.data("remote")!==t;if(!n.allowAction(o))return n.stopEverything(i);if(o.attr("novalidate")==t&&(r=n.blankInputs(o,n.requiredInputSelector),r&&n.fire(o,"ajax:aborted:required",[r])))return n.stopEverything(i);if(s){if(a=n.nonBlankInputs(o,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(o)},13);var l=n.fire(o,"ajax:aborted:file",[a]);return l||setTimeout(function(){n.enableFormElements(o)},13),l}return n.handleRemote(o),!1}setTimeout(function(){n.disableFormElements(o)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var r=i.attr("name"),a=r?{name:r,value:i.val()}:null;i.closest("form").data("ujs:submit-button",a)}),i.delegate(n.formSubmitSelector,"ajax:send.rails",function(t){this==t.target&&n.disableFormElements(e(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&n.enableFormElements(e(this))}),e(function(){n.refreshCSRFTokens()}))}(jQuery),function(){var e,t,n,i,r,a,o,s,l,d,u,c,h,p,f,g,m,v,y,b,_,x,w,C,T,k,S,E,D,A,P,M,I,B,L,N,H,O,F,R,W,z,Y,V,j,G,q,X,U,$,Q,K=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},Z={}.hasOwnProperty,J=function(e,t){function n(){this.constructor=e}for(var i in t)Z.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},et=[].slice;A={},c=10,G=!1,g=null,E=null,N=null,f=null,$=null,b=function(e){var t;return e=new n(e),W(),u(),G&&(t=q(e.absolute))?(_(t),x(e)):x(e,V)},q=function(e){var t;return t=A[e],t&&!t.transitionCacheDisabled?t:void 0},m=function(e){return null==e&&(e=!0),G=e},x=function(e,t){return null==t&&(t=function(){return function(){}}(this)),X("page:fetch",{url:e.absolute}),null!=$&&$.abort(),$=new XMLHttpRequest,$.open("GET",e.withoutHashForIE10compatibility(),!0),$.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),$.setRequestHeader("X-XHR-Referer",N),$.onload=function(){var n;return X("page:receive",{url:e.absolute}),(n=B())?(H(e),h.apply(null,y(n)),D(),O(),t(),X("page:load")):document.location.href=e.absolute},$.onloadend=function(){return $=null},$.onerror=function(){return document.location.href=e.absolute},$.send()},_=function(e){return null!=$&&$.abort(),h(e.title,e.body),L(e),X("page:restore")},u=function(){var e;return e=new n(g.url),A[e.absolute]={url:e.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},p(c)},M=function(e){return null==e&&(e=c),/^[\d]+$/.test(e)?c=parseInt(e):void 0},p=function(e){var t,n,i,r,a,o;for(i=Object.keys(A),t=i.map(function(e){return A[e].cachedAt}).sort(function(e,t){return t-e}),o=[],r=0,a=i.length;a>r;r++)n=i[r],A[n].cachedAt<=t[e]&&(X("page:expire",A[n]),o.push(delete A[n]));return o},h=function(t,n,i,r){return document.title=t,document.documentElement.replaceChild(n,document.body),null!=i&&e.update(i),j(),r&&v(),g=window.history.state,X("page:change"),X("page:update")},v=function(){var e,t,n,i,r,a,o,s,l,d,u,c;for(a=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),o=0,l=a.length;l>o;o++)if(r=a[o],""===(u=r.type)||"text/javascript"===u){for(t=document.createElement("script"),c=r.attributes,s=0,d=c.length;d>s;s++)e=c[s],t.setAttribute(e.name,e.value);t.appendChild(document.createTextNode(r.innerHTML)),i=r.parentNode,n=r.nextSibling,i.removeChild(r),i.insertBefore(t,n)}},z=function(e){return e.innerHTML=e.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),e},j=function(){var e,t;return e=(t=document.querySelectorAll("input[autofocus], textarea[autofocus]"))[t.length-1],e&&document.activeElement!==e?e.focus():void 0},H=function(e){return(e=new n(e)).absolute!==N?window.history.pushState({turbolinks:!0,url:e.absolute},"",e.absolute):void 0},O=function(){var e,t;return(e=$.getResponseHeader("X-XHR-Redirected-To"))?(e=new n(e),t=e.hasNoHash()?document.location.hash:"",window.history.replaceState(g,"",e.href+t)):void 0},W=function(){return N=document.location.href},R=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},F=function(){return g=window.history.state},D=function(){var e;return navigator.userAgent.match(/Firefox/)&&!(e=new n).hasNoHash()?(window.history.replaceState(g,"",e.withoutHash()),document.location.hash=e.hash):void 0},L=function(e){return window.scrollTo(e.positionX,e.positionY)},V=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},I=function(e){var t,n;return t=(null!=(n=document.cookie.match(new RegExp(e+"=(\\w+)")))?n[1].toUpperCase():void 0)||"",document.cookie=e+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",t},X=function(e,t){var n;return n=document.createEvent("Events"),t&&(n.data=t),n.initEvent(e,!0,!0),document.dispatchEvent(n)},P=function(){return!X("page:before-change")},B=function(){var e,t,n,i,r,a;return t=function(){var e;return 400<=(e=$.status)&&600>e},a=function(){return $.getResponseHeader("Content-Type").match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},i=function(e){var t,n,i,r,a;for(r=e.head.childNodes,a=[],n=0,i=r.length;i>n;n++)t=r[n],null!=("function"==typeof t.getAttribute?t.getAttribute("data-turbolinks-track"):void 0)&&a.push(t.getAttribute("src")||t.getAttribute("href"));return a},e=function(e){var t;return E||(E=i(document)),t=i(e),t.length!==E.length||r(t,E).length!==E.length},r=function(e,t){var n,i,r,a,o;for(e.length>t.length&&(a=[t,e],e=a[0],t=a[1]),o=[],i=0,r=e.length;r>i;i++)n=e[i],K.call(t,n)>=0&&o.push(n);return o},!t()&&a()&&(n=f($.responseText),n&&!e(n))?n:void 0},y=function(t){var n;return n=t.querySelector("title"),[null!=n?n.textContent:void 0,z(t.body),e.get(t).token,"runScripts"]},e={get:function(e){var t;return null==e&&(e=document),{node:t=e.querySelector('meta[name="csrf-token"]'),token:null!=t&&"function"==typeof t.getAttribute?t.getAttribute("content"):void 0}},update:function(e){var t;return t=this.get(),null!=t.token&&null!=e&&t.token!==e?t.node.setAttribute("content",e):void 0}},r=function(){var e,t,n,i,r,a;t=function(e){return(new DOMParser).parseFromString(e,"text/html")},e=function(e){var t;return t=document.implementation.createHTMLDocument(""),t.documentElement.innerHTML=e,t},n=function(e){var t;return t=document.implementation.createHTMLDocument(""),t.open("replace"),t.write(e),t.close(),t};try{if(window.DOMParser)return r=t("<html><body><p>test"),t}catch(o){return i=o,r=e("<html><body><p>test"),e}finally{if(1!==(null!=r&&null!=(a=r.body)?a.childNodes.length:void 0))return n}},n=function(){function e(t){return this.original=null!=t?t:document.location.href,this.original.constructor===e?this.original:void this._parse()}return e.prototype.withoutHash=function(){return this.href.replace(this.hash,"")},e.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},e.prototype.hasNoHash=function(){return 0===this.hash.length},e.prototype._parse=function(){var e;return(null!=this.link?this.link:this.link=document.createElement("a")).href=this.original,e=this.link,this.href=e.href,this.protocol=e.protocol,this.host=e.host,this.hostname=e.hostname,this.port=e.port,this.pathname=e.pathname,this.search=e.search,this.hash=e.hash,this.origin=[this.protocol,"//",this.hostname].join(""),0!==this.port.length&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},e}(),i=function(e){function t(e){return this.link=e,this.link.constructor===t?this.link:(this.original=this.link.href,void t.__super__.constructor.apply(this,arguments))}return J(t,e),t.HTML_EXTENSIONS=["html"],t.allowExtensions=function(){var e,n,i,r;for(n=1<=arguments.length?et.call(arguments,0):[],i=0,r=n.length;r>i;i++)e=n[i],t.HTML_EXTENSIONS.push(e);return t.HTML_EXTENSIONS},t.prototype.shouldIgnore=function(){return this._crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},t.prototype._crossOrigin=function(){return this.origin!==(new n).origin},t.prototype._anchored=function(){var e;return(this.hash&&this.withoutHash())===(e=new n).withoutHash()||this.href===e.href+"#"},t.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+t.HTML_EXTENSIONS.join("|")+")?$","g"))},t.prototype._optOut=function(){var e,t;for(t=this.link;!e&&t!==document;)e=null!=t.getAttribute("data-no-turbolink"),t=t.parentNode;return e},t.prototype._target=function(){return 0!==this.link.target.length},t}(n),t=function(){function e(e){this.event=e,this.event.defaultPrevented||(this._extractLink(),this._validForTurbolinks()&&(P()||U(this.link.href),this.event.preventDefault()))}return e.installHandlerLast=function(t){return t.defaultPrevented?void 0:(document.removeEventListener("click",e.handle,!1),document.addEventListener("click",e.handle,!1))},e.handle=function(t){return new e(t)},e.prototype._extractLink=function(){var e;for(e=this.event.target;e.parentNode&&"A"!==e.nodeName;)e=e.parentNode;return"A"===e.nodeName&&0!==e.href.length?this.link=new i(e):void 0},e.prototype._validForTurbolinks=function(){return null!=this.link&&!(this.link.shouldIgnore()||this._nonStandardClick())},e.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},e}(),d=function(e){return setTimeout(e,500)},T=function(){return document.addEventListener("DOMContentLoaded",function(){return X("page:change"),X("page:update")},!0)},S=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(e,t){return jQuery.trim(t.responseText)?X("page:update"):void 0}):void 0},k=function(e){var t,i;return(null!=(i=e.state)?i.turbolinks:void 0)?(t=A[new n(e.state.url).absolute])?(u(),_(t)):U(e.target.location.href):void 0},C=function(){return R(),F(),f=r(),document.addEventListener("click",t.installHandlerLast,!0),window.addEventListener("hashchange",function(){return R(),F()},!1),d(function(){return window.addEventListener("popstate",k,!1)})},w=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),s=window.history&&window.history.pushState&&window.history.replaceState&&w,a=!navigator.userAgent.match(/CriOS\//),Y="GET"===(Q=I("request_method"))||""===Q,l=s&&a&&Y,o=document.addEventListener&&document.createEvent,o&&(T(),S()),l?(U=b,C()):U=function(e){return document.location.href=e},this.Turbolinks={visit:U,pagesCached:M,enableTransitionCache:m,allowLinkExtensions:i.allowExtensions,supported:l}}.call(this),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return Pi.apply(null,arguments)}function t(e){Pi=e}function n(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function r(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function o(e,t){for(var n in t)a(t,n)&&(e[n]=t[n]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function s(e,t,n,i){return kt(e,t,n,i,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function d(e){return null==e._pf&&(e._pf=l()),e._pf}function u(e){if(null==e._isValid){var t=d(e);e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function c(e){var t=s(0/0);return null!=e?o(d(t),e):d(t).userInvalidated=!0,t}function h(e,t){var n,i,r;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=d(t)),"undefined"!=typeof t._locale&&(e._locale=t._locale),Ii.length>0)for(n in Ii)i=Ii[n],r=t[i],"undefined"!=typeof r&&(e[i]=r);return e}function p(t){h(this,t),this._d=new Date(+t._d),Bi===!1&&(Bi=!0,e.updateOffset(this),Bi=!1)}function f(e){return e instanceof p||null!=e&&null!=e._isAMomentObject}function g(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function m(e,t,n){var i,r=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(i=0;r>i;i++)(n&&e[i]!==t[i]||!n&&g(e[i])!==g(t[i]))&&o++;return o+a}function v(){}function y(e){return e?e.toLowerCase().replace("_","-"):e}function b(e){for(var t,n,i,r,a=0;a<e.length;){for(r=y(e[a]).split("-"),t=r.length,n=y(e[a+1]),n=n?n.split("-"):null;t>0;){if(i=_(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&m(r,n,!0)>=t-1)break;t--}a++}return null}function _(e){var t=null;if(!Li[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Mi._abbr,require("./locale/"+e),x(t)}catch(n){}return Li[e]}function x(e,t){var n;return e&&(n="undefined"==typeof t?C(e):w(e,t),n&&(Mi=n)),Mi._abbr}function w(e,t){return null!==t?(t.abbr=e,Li[e]||(Li[e]=new v),Li[e].set(t),x(e),Li[e]):(delete Li[e],null)}function C(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Mi;if(!n(e)){if(t=_(e))return t;e=[e]}return b(e)}function T(e,t){var n=e.toLowerCase();Ni[n]=Ni[n+"s"]=Ni[t]=e}function k(e){return"string"==typeof e?Ni[e]||Ni[e.toLowerCase()]:void 0}function S(e){var t,n,i={};for(n in e)a(e,n)&&(t=k(n),t&&(i[t]=e[n]));return i}function E(t,n){return function(i){return null!=i?(A(this,t,i),e.updateOffset(this,n),this):D(this,t)}}function D(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function A(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function P(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=k(e),"function"==typeof this[e])return this[e](t);return this}function M(e,t,n){for(var i=""+Math.abs(e),r=e>=0;i.length<t;)i="0"+i;return(r?n?"+":"":"-")+i}function I(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(Ri[e]=r),t&&(Ri[t[0]]=function(){return M(r.apply(this,arguments),t[1],t[2])}),n&&(Ri[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function B(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function L(e){var t,n,i=e.match(Hi);for(t=0,n=i.length;n>t;t++)i[t]=Ri[i[t]]?Ri[i[t]]:B(i[t]);return function(r){var a="";for(t=0;n>t;t++)a+=i[t]instanceof Function?i[t].call(r,e):i[t];return a}}function N(e,t){return e.isValid()?(t=H(t,e.localeData()),Fi[t]||(Fi[t]=L(t)),Fi[t](e)):e.localeData().invalidDate()}function H(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Oi.lastIndex=0;i>=0&&Oi.test(e);)e=e.replace(Oi,n),Oi.lastIndex=0,i-=1;return e}function O(e,t,n){er[e]="function"==typeof t?t:function(e){return e&&n?n:t}}function F(e,t){return a(er,e)?er[e](t._strict,t._locale):new RegExp(R(e))}function R(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function W(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(i=function(e,n){n[t]=g(e)}),n=0;n<e.length;n++)tr[e[n]]=i}function z(e,t){W(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}function Y(e,t,n){null!=t&&a(tr,e)&&tr[e](t,n._a,n,e)}function V(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function j(e){return this._months[e.month()]}function G(e){return this._monthsShort[e.month()]}function q(e,t,n){var i,r,a;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=s([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(a="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function X(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),V(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function U(t){return null!=t?(X(this,t),e.updateOffset(this,!0),this):D(this,"Month")}function $(){return V(this.year(),this.month())}function Q(e){var t,n=e._a;return n&&-2===d(e).overflow&&(t=n[ir]<0||n[ir]>11?ir:n[rr]<1||n[rr]>V(n[nr],n[ir])?rr:n[ar]<0||n[ar]>24||24===n[ar]&&(0!==n[or]||0!==n[sr]||0!==n[lr])?ar:n[or]<0||n[or]>59?or:n[sr]<0||n[sr]>59?sr:n[lr]<0||n[lr]>999?lr:-1,d(e)._overflowDayOfYear&&(nr>t||t>rr)&&(t=rr),d(e).overflow=t),e}function K(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function Z(e,t){var n=!0,i=e+"\n"+(new Error).stack;return o(function(){return n&&(K(i),n=!1),t.apply(this,arguments)},t)}function J(e,t){cr[e]||(K(t),cr[e]=!0)}function et(e){var t,n,i=e._i,r=hr.exec(i);if(r){for(d(e).iso=!0,t=0,n=pr.length;n>t;t++)if(pr[t][1].exec(i)){e._f=pr[t][0]+(r[6]||" ");break}for(t=0,n=fr.length;n>t;t++)if(fr[t][1].exec(i)){e._f+=fr[t][0];break}i.match(Ki)&&(e._f+="Z"),bt(e)}else e._isValid=!1}function tt(t){var n=gr.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(et(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function nt(e,t,n,i,r,a,o){var s=new Date(e,t,n,i,r,a,o);return 1970>e&&s.setFullYear(e),s}function it(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function rt(e){return at(e)?366:365}function at(e){return e%4===0&&e%100!==0||e%400===0}function ot(){return at(this.year())}function st(e,t,n){var i,r=n-t,a=n-e.day();return a>r&&(a-=7),r-7>a&&(a+=7),i=St(e).add(a,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function lt(e){return st(e,this._week.dow,this._week.doy).week}function dt(){return this._week.dow}function ut(){return this._week.doy}function ct(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function ht(e){var t=st(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function pt(e,t,n,i,r){var a,o,s=it(e,0,1).getUTCDay();return s=0===s?7:s,n=null!=n?n:r,a=r-s+(s>i?7:0)-(r>s?7:0),o=7*(t-1)+(n-r)+a+1,{year:o>0?e:e-1,dayOfYear:o>0?o:rt(e-1)+o}}function ft(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function gt(e,t,n){return null!=e?e:null!=t?t:n}function mt(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function vt(e){var t,n,i,r,a=[];if(!e._d){for(i=mt(e),e._w&&null==e._a[rr]&&null==e._a[ir]&&yt(e),e._dayOfYear&&(r=gt(e._a[nr],i[nr]),e._dayOfYear>rt(r)&&(d(e)._overflowDayOfYear=!0),n=it(r,0,e._dayOfYear),e._a[ir]=n.getUTCMonth(),e._a[rr]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=a[t]=i[t];for(;7>t;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ar]&&0===e._a[or]&&0===e._a[sr]&&0===e._a[lr]&&(e._nextDay=!0,e._a[ar]=0),e._d=(e._useUTC?it:nt).apply(null,a),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ar]=24)}}function yt(e){var t,n,i,r,a,o,s;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(a=1,o=4,n=gt(t.GG,e._a[nr],st(St(),1,4).year),i=gt(t.W,1),r=gt(t.E,1)):(a=e._locale._week.dow,o=e._locale._week.doy,n=gt(t.gg,e._a[nr],st(St(),a,o).year),i=gt(t.w,1),null!=t.d?(r=t.d,a>r&&++i):r=null!=t.e?t.e+a:a),s=pt(n,i,r,o,a),e._a[nr]=s.year,e._dayOfYear=s.dayOfYear}function bt(t){if(t._f===e.ISO_8601)return void et(t);t._a=[],d(t).empty=!0;var n,i,r,a,o,s=""+t._i,l=s.length,u=0;for(r=H(t._f,t._locale).match(Hi)||[],n=0;n<r.length;n++)a=r[n],i=(s.match(F(a,t))||[])[0],i&&(o=s.substr(0,s.indexOf(i)),o.length>0&&d(t).unusedInput.push(o),s=s.slice(s.indexOf(i)+i.length),u+=i.length),Ri[a]?(i?d(t).empty=!1:d(t).unusedTokens.push(a),Y(a,i,t)):t._strict&&!i&&d(t).unusedTokens.push(a);d(t).charsLeftOver=l-u,s.length>0&&d(t).unusedInput.push(s),d(t).bigHour===!0&&t._a[ar]<=12&&t._a[ar]>0&&(d(t).bigHour=void 0),t._a[ar]=_t(t._locale,t._a[ar],t._meridiem),vt(t),Q(t)}function _t(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&12>t&&(t+=12),i||12!==t||(t=0),t):t}function xt(e){var t,n,i,r,a;if(0===e._f.length)return d(e).invalidFormat=!0,void(e._d=new Date(0/0));for(r=0;r<e._f.length;r++)a=0,t=h({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],bt(t),u(t)&&(a+=d(t).charsLeftOver,a+=10*d(t).unusedTokens.length,d(t).score=a,(null==i||i>a)&&(i=a,n=t));o(e,n||t)}function wt(e){if(!e._d){var t=S(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],vt(e)}}function Ct(e){var t,r=e._i,a=e._f;return e._locale=e._locale||C(e._l),null===r||void 0===a&&""===r?c({nullInput:!0}):("string"==typeof r&&(e._i=r=e._locale.preparse(r)),f(r)?new p(Q(r)):(n(a)?xt(e):a?bt(e):i(r)?e._d=r:Tt(e),t=new p(Q(e)),t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t))}function Tt(t){var a=t._i;void 0===a?t._d=new Date:i(a)?t._d=new Date(+a):"string"==typeof a?tt(t):n(a)?(t._a=r(a.slice(0),function(e){return parseInt(e,10)}),vt(t)):"object"==typeof a?wt(t):"number"==typeof a?t._d=new Date(a):e.createFromInputFallback(t)}function kt(e,t,n,i,r){var a={};return"boolean"==typeof n&&(i=n,n=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=r,a._l=n,a._i=e,a._f=t,a._strict=i,Ct(a)}function St(e,t,n,i){return kt(e,t,n,i,!1)}function Et(e,t){var i,r;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return St();for(i=t[0],r=1;r<t.length;++r)t[r][e](i)&&(i=t[r]);return i}function Dt(){var e=[].slice.call(arguments,0);return Et("isBefore",e)}function At(){var e=[].slice.call(arguments,0);return Et("isAfter",e)}function Pt(e){var t=S(e),n=t.year||0,i=t.quarter||0,r=t.month||0,a=t.week||0,o=t.day||0,s=t.hour||0,l=t.minute||0,d=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*d+6e4*l+36e5*s,this._days=+o+7*a,this._months=+r+3*i+12*n,this._data={},this._locale=C(),this._bubble()}function Mt(e){return e instanceof Pt}function It(e,t){I(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+M(~~(e/60),2)+t+M(~~e%60,2)})}function Bt(e){var t=(e||"").match(Ki)||[],n=t[t.length-1]||[],i=(n+"").match(_r)||["-",0,0],r=+(60*i[1])+g(i[2]);return"+"===i[0]?r:-r}function Lt(t,n){var r,a;return n._isUTC?(r=n.clone(),a=(f(t)||i(t)?+t:+St(t))-+r,r._d.setTime(+r._d+a),e.updateOffset(r,!1),r):St(t).local()}function Nt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ht(t,n){var i,r=this._offset||0;return null!=t?("string"==typeof t&&(t=Bt(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(i=Nt(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!n||this._changeInProgress?Zt(this,Xt(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Nt(this)}function Ot(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Ft(e){return this.utcOffset(0,e)}function Rt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Nt(this),"m")),this}function Wt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Bt(this._i)),this}function zt(e){return e=e?St(e).utcOffset():0,(this.utcOffset()-e)%60===0}function Yt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Vt(){if(this._a){var e=this._isUTC?s(this._a):St(this._a);return this.isValid()&&m(this._a,e.toArray())>0}return!1}function jt(){return!this._isUTC}function Gt(){return this._isUTC}function qt(){return this._isUTC&&0===this._offset}function Xt(e,t){var n,i,r,o=e,s=null;return Mt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(s=xr.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:g(s[rr])*n,h:g(s[ar])*n,m:g(s[or])*n,s:g(s[sr])*n,ms:g(s[lr])*n}):(s=wr.exec(e))?(n="-"===s[1]?-1:1,o={y:Ut(s[2],n),M:Ut(s[3],n),d:Ut(s[4],n),h:Ut(s[5],n),m:Ut(s[6],n),s:Ut(s[7],n),w:Ut(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=Qt(St(o.from),St(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new Pt(o),Mt(e)&&a(e,"_locale")&&(i._locale=e._locale),i
}function Ut(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function $t(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Qt(e,t){var n;return t=Lt(t,e),e.isBefore(t)?n=$t(e,t):(n=$t(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function Kt(e,t){return function(n,i){var r,a;return null===i||isNaN(+i)||(J(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),a=n,n=i,i=a),n="string"==typeof n?+n:n,r=Xt(n,i),Zt(this,r,e),this}}function Zt(t,n,i,r){var a=n._milliseconds,o=n._days,s=n._months;r=null==r?!0:r,a&&t._d.setTime(+t._d+a*i),o&&A(t,"Date",D(t,"Date")+o*i),s&&X(t,D(t,"Month")+s*i),r&&e.updateOffset(t,o||s)}function Jt(e){var t=e||St(),n=Lt(t,this).startOf("day"),i=this.diff(n,"days",!0),r=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(r,this,St(t)))}function en(){return new p(this)}function tn(e,t){var n;return t=k("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=f(e)?e:St(e),+this>+e):(n=f(e)?+e:+St(e),n<+this.clone().startOf(t))}function nn(e,t){var n;return t=k("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=f(e)?e:St(e),+e>+this):(n=f(e)?+e:+St(e),+this.clone().endOf(t)<n)}function rn(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function an(e,t){var n;return t=k(t||"millisecond"),"millisecond"===t?(e=f(e)?e:St(e),+this===+e):(n=+St(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function on(e){return 0>e?Math.ceil(e):Math.floor(e)}function sn(e,t,n){var i,r,a=Lt(e,this),o=6e4*(a.utcOffset()-this.utcOffset());return t=k(t),"year"===t||"month"===t||"quarter"===t?(r=ln(this,a),"quarter"===t?r/=3:"year"===t&&(r/=12)):(i=this-a,r="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-o)/864e5:"week"===t?(i-o)/6048e5:i),n?r:on(r)}function ln(e,t){var n,i,r=12*(t.year()-e.year())+(t.month()-e.month()),a=e.clone().add(r,"months");return 0>t-a?(n=e.clone().add(r-1,"months"),i=(t-a)/(a-n)):(n=e.clone().add(r+1,"months"),i=(t-a)/(n-a)),-(r+i)}function dn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function un(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():N(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):N(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function cn(t){var n=N(this,t||e.defaultFormat);return this.localeData().postformat(n)}function hn(e,t){return this.isValid()?Xt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function pn(e){return this.from(St(),e)}function fn(e,t){return this.isValid()?Xt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function gn(e){return this.to(St(),e)}function mn(e){var t;return void 0===e?this._locale._abbr:(t=C(e),null!=t&&(this._locale=t),this)}function vn(){return this._locale}function yn(e){switch(e=k(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function bn(e){return e=k(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function _n(){return+this._d-6e4*(this._offset||0)}function xn(){return Math.floor(+this/1e3)}function wn(){return this._offset?new Date(+this):this._d}function Cn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Tn(){return u(this)}function kn(){return o({},d(this))}function Sn(){return d(this).overflow}function En(e,t){I(0,[e,e.length],0,t)}function Dn(e,t,n){return st(St([e,11,31+t-n]),t,n).week}function An(e){var t=st(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function Pn(e){var t=st(this,1,4).year;return null==e?t:this.add(e-t,"y")}function Mn(){return Dn(this.year(),1,4)}function In(){var e=this.localeData()._week;return Dn(this.year(),e.dow,e.doy)}function Bn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Ln(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function Nn(e){return this._weekdays[e.day()]}function Hn(e){return this._weekdaysShort[e.day()]}function On(e){return this._weekdaysMin[e.day()]}function Fn(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=St([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function Rn(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ln(e,this.localeData()),this.add(e-t,"d")):t}function Wn(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function zn(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Yn(e,t){I(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Vn(e,t){return t._meridiemParse}function jn(e){return"p"===(e+"").toLowerCase().charAt(0)}function Gn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function qn(e){I(0,[e,3],0,"millisecond")}function Xn(){return this._isUTC?"UTC":""}function Un(){return this._isUTC?"Coordinated Universal Time":""}function $n(e){return St(1e3*e)}function Qn(){return St.apply(null,arguments).parseZone()}function Kn(e,t,n){var i=this._calendar[e];return"function"==typeof i?i.call(t,n):i}function Zn(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t}function Jn(){return this._invalidDate}function ei(e){return this._ordinal.replace("%d",e)}function ti(e){return e}function ni(e,t,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(e,t,n,i):r.replace(/%d/i,e)}function ii(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function ri(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ai(e,t,n,i){var r=C(),a=s().set(i,t);return r[n](a,e)}function oi(e,t,n,i,r){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return ai(e,t,n,r);var a,o=[];for(a=0;i>a;a++)o[a]=ai(e,a,n,r);return o}function si(e,t){return oi(e,t,"months",12,"month")}function li(e,t){return oi(e,t,"monthsShort",12,"month")}function di(e,t){return oi(e,t,"weekdays",7,"day")}function ui(e,t){return oi(e,t,"weekdaysShort",7,"day")}function ci(e,t){return oi(e,t,"weekdaysMin",7,"day")}function hi(){var e=this._data;return this._milliseconds=jr(this._milliseconds),this._days=jr(this._days),this._months=jr(this._months),e.milliseconds=jr(e.milliseconds),e.seconds=jr(e.seconds),e.minutes=jr(e.minutes),e.hours=jr(e.hours),e.months=jr(e.months),e.years=jr(e.years),this}function pi(e,t,n,i){var r=Xt(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function fi(e,t){return pi(this,e,t,1)}function gi(e,t){return pi(this,e,t,-1)}function mi(){var e,t,n,i=this._milliseconds,r=this._days,a=this._months,o=this._data,s=0;return o.milliseconds=i%1e3,e=on(i/1e3),o.seconds=e%60,t=on(e/60),o.minutes=t%60,n=on(t/60),o.hours=n%24,r+=on(n/24),s=on(vi(r)),r-=on(yi(s)),a+=on(r/30),r%=30,s+=on(a/12),a%=12,o.days=r,o.months=a,o.years=s,this}function vi(e){return 400*e/146097}function yi(e){return 146097*e/400}function bi(e){var t,n,i=this._milliseconds;if(e=k(e),"month"===e||"year"===e)return t=this._days+i/864e5,n=this._months+12*vi(t),"month"===e?n:n/12;switch(t=this._days+Math.round(yi(this._months/12)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function _i(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)}function xi(e){return function(){return this.as(e)}}function wi(e){return e=k(e),this[e+"s"]()}function Ci(e){return function(){return this._data[e]}}function Ti(){return on(this.days()/7)}function ki(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function Si(e,t,n){var i=Xt(e).abs(),r=oa(i.as("s")),a=oa(i.as("m")),o=oa(i.as("h")),s=oa(i.as("d")),l=oa(i.as("M")),d=oa(i.as("y")),u=r<sa.s&&["s",r]||1===a&&["m"]||a<sa.m&&["mm",a]||1===o&&["h"]||o<sa.h&&["hh",o]||1===s&&["d"]||s<sa.d&&["dd",s]||1===l&&["M"]||l<sa.M&&["MM",l]||1===d&&["y"]||["yy",d];return u[2]=t,u[3]=+e>0,u[4]=n,ki.apply(null,u)}function Ei(e,t){return void 0===sa[e]?!1:void 0===t?sa[e]:(sa[e]=t,!0)}function Di(e){var t=this.localeData(),n=Si(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Ai(){var e=la(this.years()),t=la(this.months()),n=la(this.days()),i=la(this.hours()),r=la(this.minutes()),a=la(this.seconds()+this.milliseconds()/1e3),o=this.asSeconds();return o?(0>o?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(i||r||a?"T":"")+(i?i+"H":"")+(r?r+"M":"")+(a?a+"S":""):"P0D"}var Pi,Mi,Ii=e.momentProperties=[],Bi=!1,Li={},Ni={},Hi=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Oi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Fi={},Ri={},Wi=/\d/,zi=/\d\d/,Yi=/\d{3}/,Vi=/\d{4}/,ji=/[+-]?\d{6}/,Gi=/\d\d?/,qi=/\d{1,3}/,Xi=/\d{1,4}/,Ui=/[+-]?\d{1,6}/,$i=/\d+/,Qi=/[+-]?\d+/,Ki=/Z|[+-]\d\d:?\d\d/gi,Zi=/[+-]?\d+(\.\d{1,3})?/,Ji=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,er={},tr={},nr=0,ir=1,rr=2,ar=3,or=4,sr=5,lr=6;I("M",["MM",2],"Mo",function(){return this.month()+1}),I("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),I("MMMM",0,0,function(e){return this.localeData().months(this,e)}),T("month","M"),O("M",Gi),O("MM",Gi,zi),O("MMM",Ji),O("MMMM",Ji),W(["M","MM"],function(e,t){t[ir]=g(e)-1}),W(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[ir]=r:d(n).invalidMonth=e});var dr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ur="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),cr={};e.suppressDeprecationWarnings=!1;var hr=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],fr=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],gr=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=Z("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),I(0,["YY",2],0,function(){return this.year()%100}),I(0,["YYYY",4],0,"year"),I(0,["YYYYY",5],0,"year"),I(0,["YYYYYY",6,!0],0,"year"),T("year","y"),O("Y",Qi),O("YY",Gi,zi),O("YYYY",Xi,Vi),O("YYYYY",Ui,ji),O("YYYYYY",Ui,ji),W(["YYYY","YYYYY","YYYYYY"],nr),W("YY",function(t,n){n[nr]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(e){return g(e)+(g(e)>68?1900:2e3)};var mr=E("FullYear",!1);I("w",["ww",2],"wo","week"),I("W",["WW",2],"Wo","isoWeek"),T("week","w"),T("isoWeek","W"),O("w",Gi),O("ww",Gi,zi),O("W",Gi),O("WW",Gi,zi),z(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=g(e)});var vr={dow:0,doy:6};I("DDD",["DDDD",3],"DDDo","dayOfYear"),T("dayOfYear","DDD"),O("DDD",qi),O("DDDD",Yi),W(["DDD","DDDD"],function(e,t,n){n._dayOfYear=g(e)}),e.ISO_8601=function(){};var yr=Z("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=St.apply(null,arguments);return this>e?this:e}),br=Z("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=St.apply(null,arguments);return e>this?this:e});It("Z",":"),It("ZZ",""),O("Z",Ki),O("ZZ",Ki),W(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Bt(e)});var _r=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var xr=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,wr=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Xt.fn=Pt.prototype;var Cr=Kt(1,"add"),Tr=Kt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var kr=Z("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});I(0,["gg",2],0,function(){return this.weekYear()%100}),I(0,["GG",2],0,function(){return this.isoWeekYear()%100}),En("gggg","weekYear"),En("ggggg","weekYear"),En("GGGG","isoWeekYear"),En("GGGGG","isoWeekYear"),T("weekYear","gg"),T("isoWeekYear","GG"),O("G",Qi),O("g",Qi),O("GG",Gi,zi),O("gg",Gi,zi),O("GGGG",Xi,Vi),O("gggg",Xi,Vi),O("GGGGG",Ui,ji),O("ggggg",Ui,ji),z(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=g(e)}),z(["gg","GG"],function(t,n,i,r){n[r]=e.parseTwoDigitYear(t)}),I("Q",0,0,"quarter"),T("quarter","Q"),O("Q",Wi),W("Q",function(e,t){t[ir]=3*(g(e)-1)}),I("D",["DD",2],"Do","date"),T("date","D"),O("D",Gi),O("DD",Gi,zi),O("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),W(["D","DD"],rr),W("Do",function(e,t){t[rr]=g(e.match(Gi)[0],10)});var Sr=E("Date",!0);I("d",0,"do","day"),I("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),I("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),I("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),I("e",0,0,"weekday"),I("E",0,0,"isoWeekday"),T("day","d"),T("weekday","e"),T("isoWeekday","E"),O("d",Gi),O("e",Gi),O("E",Gi),O("dd",Ji),O("ddd",Ji),O("dddd",Ji),z(["dd","ddd","dddd"],function(e,t,n){var i=n._locale.weekdaysParse(e);null!=i?t.d=i:d(n).invalidWeekday=e}),z(["d","e","E"],function(e,t,n,i){t[i]=g(e)});var Er="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Dr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ar="Su_Mo_Tu_We_Th_Fr_Sa".split("_");I("H",["HH",2],0,"hour"),I("h",["hh",2],0,function(){return this.hours()%12||12}),Yn("a",!0),Yn("A",!1),T("hour","h"),O("a",Vn),O("A",Vn),O("H",Gi),O("h",Gi),O("HH",Gi,zi),O("hh",Gi,zi),W(["H","HH"],ar),W(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),W(["h","hh"],function(e,t,n){t[ar]=g(e),d(n).bigHour=!0});var Pr=/[ap]\.?m?\.?/i,Mr=E("Hours",!0);I("m",["mm",2],0,"minute"),T("minute","m"),O("m",Gi),O("mm",Gi,zi),W(["m","mm"],or);var Ir=E("Minutes",!1);I("s",["ss",2],0,"second"),T("second","s"),O("s",Gi),O("ss",Gi,zi),W(["s","ss"],sr);var Br=E("Seconds",!1);I("S",0,0,function(){return~~(this.millisecond()/100)}),I(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),qn("SSS"),qn("SSSS"),T("millisecond","ms"),O("S",qi,Wi),O("SS",qi,zi),O("SSS",qi,Yi),O("SSSS",$i),W(["S","SS","SSS","SSSS"],function(e,t){t[lr]=g(1e3*("0."+e))});var Lr=E("Milliseconds",!1);I("z",0,0,"zoneAbbr"),I("zz",0,0,"zoneName");var Nr=p.prototype;Nr.add=Cr,Nr.calendar=Jt,Nr.clone=en,Nr.diff=sn,Nr.endOf=bn,Nr.format=cn,Nr.from=hn,Nr.fromNow=pn,Nr.to=fn,Nr.toNow=gn,Nr.get=P,Nr.invalidAt=Sn,Nr.isAfter=tn,Nr.isBefore=nn,Nr.isBetween=rn,Nr.isSame=an,Nr.isValid=Tn,Nr.lang=kr,Nr.locale=mn,Nr.localeData=vn,Nr.max=br,Nr.min=yr,Nr.parsingFlags=kn,Nr.set=P,Nr.startOf=yn,Nr.subtract=Tr,Nr.toArray=Cn,Nr.toDate=wn,Nr.toISOString=un,Nr.toJSON=un,Nr.toString=dn,Nr.unix=xn,Nr.valueOf=_n,Nr.year=mr,Nr.isLeapYear=ot,Nr.weekYear=An,Nr.isoWeekYear=Pn,Nr.quarter=Nr.quarters=Bn,Nr.month=U,Nr.daysInMonth=$,Nr.week=Nr.weeks=ct,Nr.isoWeek=Nr.isoWeeks=ht,Nr.weeksInYear=In,Nr.isoWeeksInYear=Mn,Nr.date=Sr,Nr.day=Nr.days=Rn,Nr.weekday=Wn,Nr.isoWeekday=zn,Nr.dayOfYear=ft,Nr.hour=Nr.hours=Mr,Nr.minute=Nr.minutes=Ir,Nr.second=Nr.seconds=Br,Nr.millisecond=Nr.milliseconds=Lr,Nr.utcOffset=Ht,Nr.utc=Ft,Nr.local=Rt,Nr.parseZone=Wt,Nr.hasAlignedHourOffset=zt,Nr.isDST=Yt,Nr.isDSTShifted=Vt,Nr.isLocal=jt,Nr.isUtcOffset=Gt,Nr.isUtc=qt,Nr.isUTC=qt,Nr.zoneAbbr=Xn,Nr.zoneName=Un,Nr.dates=Z("dates accessor is deprecated. Use date instead.",Sr),Nr.months=Z("months accessor is deprecated. Use month instead",U),Nr.years=Z("years accessor is deprecated. Use year instead",mr),Nr.zone=Z("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ot);var Hr=Nr,Or={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Fr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Rr="Invalid date",Wr="%d",zr=/\d{1,2}/,Yr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Vr=v.prototype;Vr._calendar=Or,Vr.calendar=Kn,Vr._longDateFormat=Fr,Vr.longDateFormat=Zn,Vr._invalidDate=Rr,Vr.invalidDate=Jn,Vr._ordinal=Wr,Vr.ordinal=ei,Vr._ordinalParse=zr,Vr.preparse=ti,Vr.postformat=ti,Vr._relativeTime=Yr,Vr.relativeTime=ni,Vr.pastFuture=ii,Vr.set=ri,Vr.months=j,Vr._months=dr,Vr.monthsShort=G,Vr._monthsShort=ur,Vr.monthsParse=q,Vr.week=lt,Vr._week=vr,Vr.firstDayOfYear=ut,Vr.firstDayOfWeek=dt,Vr.weekdays=Nn,Vr._weekdays=Er,Vr.weekdaysMin=On,Vr._weekdaysMin=Ar,Vr.weekdaysShort=Hn,Vr._weekdaysShort=Dr,Vr.weekdaysParse=Fn,Vr.isPM=jn,Vr._meridiemParse=Pr,Vr.meridiem=Gn,x("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===g(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=Z("moment.lang is deprecated. Use moment.locale instead.",x),e.langData=Z("moment.langData is deprecated. Use moment.localeData instead.",C);var jr=Math.abs,Gr=xi("ms"),qr=xi("s"),Xr=xi("m"),Ur=xi("h"),$r=xi("d"),Qr=xi("w"),Kr=xi("M"),Zr=xi("y"),Jr=Ci("milliseconds"),ea=Ci("seconds"),ta=Ci("minutes"),na=Ci("hours"),ia=Ci("days"),ra=Ci("months"),aa=Ci("years"),oa=Math.round,sa={s:45,m:45,h:22,d:26,M:11},la=Math.abs,da=Pt.prototype;da.abs=hi,da.add=fi,da.subtract=gi,da.as=bi,da.asMilliseconds=Gr,da.asSeconds=qr,da.asMinutes=Xr,da.asHours=Ur,da.asDays=$r,da.asWeeks=Qr,da.asMonths=Kr,da.asYears=Zr,da.valueOf=_i,da._bubble=mi,da.get=wi,da.milliseconds=Jr,da.seconds=ea,da.minutes=ta,da.hours=na,da.days=ia,da.weeks=Ti,da.months=ra,da.years=aa,da.humanize=Di,da.toISOString=Ai,da.toString=Ai,da.toJSON=Ai,da.locale=mn,da.localeData=vn,da.toIsoString=Z("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ai),da.lang=kr,I("X",0,0,"unix"),I("x",0,0,"valueOf"),O("x",Qi),O("X",Zi),W("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),W("x",function(e,t,n){n._d=new Date(g(e))}),e.version="2.10.3",t(St),e.fn=Hr,e.min=Dt,e.max=At,e.utc=s,e.unix=$n,e.months=si,e.isDate=i,e.locale=x,e.invalid=c,e.duration=Xt,e.isMoment=f,e.weekdays=di,e.parseZone=Qn,e.localeData=C,e.isDuration=Mt,e.monthsShort=li,e.weekdaysMin=ci,e.defineLocale=w,e.weekdaysShort=ui,e.normalizeUnits=k,e.relativeTimeThreshold=Ei;var ua=e;return ua}),function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],e);else if("object"==typeof exports)e(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";e(jQuery,moment)}}(function(e,t){"use strict";if(!t)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var n=function(n,i){var r,a,o,s,l,d={},u=t().startOf("d"),c=u.clone(),h=!0,p=!1,f=!1,g=0,m=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],v=["days","months","years","decades"],y=["top","bottom","auto"],b=["left","right","auto"],_=["default","top","bottom"],x={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},w={},C=function(e){if("string"!=typeof e||e.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(e){case"y":return-1!==o.indexOf("Y");case"M":return-1!==o.indexOf("M");case"d":return-1!==o.toLowerCase().indexOf("d");case"h":case"H":return-1!==o.toLowerCase().indexOf("h");case"m":return-1!==o.indexOf("m");case"s":return-1!==o.indexOf("s");default:return!1}},T=function(){return C("h")||C("m")||C("s")},k=function(){return C("y")||C("M")||C("d")},S=function(){var t=e("<thead>").append(e("<tr>").append(e("<th>").addClass("prev").attr("data-action","previous").append(e("<span>").addClass(i.icons.previous))).append(e("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",i.calendarWeeks?"6":"5")).append(e("<th>").addClass("next").attr("data-action","next").append(e("<span>").addClass(i.icons.next)))),n=e("<tbody>").append(e("<tr>").append(e("<td>").attr("colspan",i.calendarWeeks?"8":"7")));return[e("<div>").addClass("datepicker-days").append(e("<table>").addClass("table-condensed").append(t).append(e("<tbody>"))),e("<div>").addClass("datepicker-months").append(e("<table>").addClass("table-condensed").append(t.clone()).append(n.clone())),e("<div>").addClass("datepicker-years").append(e("<table>").addClass("table-condensed").append(t.clone()).append(n.clone())),e("<div>").addClass("datepicker-decades").append(e("<table>").addClass("table-condensed").append(t.clone()).append(n.clone()))]},E=function(){var t=e("<tr>"),n=e("<tr>"),r=e("<tr>");return C("h")&&(t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:"Increment Hour"}).addClass("btn").attr("data-action","incrementHours").append(e("<span>").addClass(i.icons.up)))),n.append(e("<td>").append(e("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:"Pick Hour"}).attr("data-action","showHours"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:"Decrement Hour"}).addClass("btn").attr("data-action","decrementHours").append(e("<span>").addClass(i.icons.down))))),C("m")&&(C("h")&&(t.append(e("<td>").addClass("separator")),n.append(e("<td>").addClass("separator").html(":")),r.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:"Increment Minute"}).addClass("btn").attr("data-action","incrementMinutes").append(e("<span>").addClass(i.icons.up)))),n.append(e("<td>").append(e("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:"Pick Minute"}).attr("data-action","showMinutes"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:"Decrement Minute"}).addClass("btn").attr("data-action","decrementMinutes").append(e("<span>").addClass(i.icons.down))))),C("s")&&(C("m")&&(t.append(e("<td>").addClass("separator")),n.append(e("<td>").addClass("separator").html(":")),r.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:"Increment Second"}).addClass("btn").attr("data-action","incrementSeconds").append(e("<span>").addClass(i.icons.up)))),n.append(e("<td>").append(e("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:"Pick Second"}).attr("data-action","showSeconds"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:"Decrement Second"}).addClass("btn").attr("data-action","decrementSeconds").append(e("<span>").addClass(i.icons.down))))),a||(t.append(e("<td>").addClass("separator")),n.append(e("<td>").append(e("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:"Toggle Period"}))),r.append(e("<td>").addClass("separator"))),e("<div>").addClass("timepicker-picker").append(e("<table>").addClass("table-condensed").append([t,n,r]))},D=function(){var t=e("<div>").addClass("timepicker-hours").append(e("<table>").addClass("table-condensed")),n=e("<div>").addClass("timepicker-minutes").append(e("<table>").addClass("table-condensed")),i=e("<div>").addClass("timepicker-seconds").append(e("<table>").addClass("table-condensed")),r=[E()];return C("h")&&r.push(t),C("m")&&r.push(n),C("s")&&r.push(i),r},A=function(){var t=[];return i.showTodayButton&&t.push(e("<td>").append(e("<a>").attr({"data-action":"today",title:"Go to today"}).append(e("<span>").addClass(i.icons.today)))),!i.sideBySide&&k()&&T()&&t.push(e("<td>").append(e("<a>").attr({"data-action":"togglePicker",title:"Select Time"}).append(e("<span>").addClass(i.icons.time)))),i.showClear&&t.push(e("<td>").append(e("<a>").attr({"data-action":"clear",title:"Clear selection"}).append(e("<span>").addClass(i.icons.clear)))),i.showClose&&t.push(e("<td>").append(e("<a>").attr({"data-action":"close",title:"Close the picker"}).append(e("<span>").addClass(i.icons.close)))),e("<table>").addClass("table-condensed").append(e("<tbody>").append(e("<tr>").append(t)))},P=function(){var t=e("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),n=e("<div>").addClass("datepicker").append(S()),r=e("<div>").addClass("timepicker").append(D()),o=e("<ul>").addClass("list-unstyled"),s=e("<li>").addClass("picker-switch"+(i.collapse?" accordion-toggle":"")).append(A());return i.inline&&t.removeClass("dropdown-menu"),a&&t.addClass("usetwentyfour"),C("s")&&!a&&t.addClass("wider"),i.sideBySide&&k()&&T()?(t.addClass("timepicker-sbs"),t.append(e("<div>").addClass("row").append(n.addClass("col-sm-6")).append(r.addClass("col-sm-6"))),t.append(s),t):("top"===i.toolbarPlacement&&o.append(s),k()&&o.append(e("<li>").addClass(i.collapse&&T()?"collapse in":"").append(n)),"default"===i.toolbarPlacement&&o.append(s),T()&&o.append(e("<li>").addClass(i.collapse&&k()?"collapse":"").append(r)),"bottom"===i.toolbarPlacement&&o.append(s),t.append(o))},M=function(){var t,r={};return t=n.is("input")||i.inline?n.data():n.find("input").data(),t.dateOptions&&t.dateOptions instanceof Object&&(r=e.extend(!0,r,t.dateOptions)),e.each(i,function(e){var n="date"+e.charAt(0).toUpperCase()+e.slice(1);void 0!==t[n]&&(r[e]=t[n])}),r},I=function(){var t,r=(p||n).position(),a=(p||n).offset(),o=i.widgetPositioning.vertical,s=i.widgetPositioning.horizontal;if(i.widgetParent)t=i.widgetParent.append(f);else if(n.is("input"))t=n.after(f).parent();else{if(i.inline)return void(t=n.append(f));t=n,n.children().first().after(f)}if("auto"===o&&(o=a.top+1.5*f.height()>=e(window).height()+e(window).scrollTop()&&f.height()+n.outerHeight()<a.top?"top":"bottom"),"auto"===s&&(s=t.width()<a.left+f.outerWidth()/2&&a.left+f.outerWidth()>e(window).width()?"right":"left"),"top"===o?f.addClass("top").removeClass("bottom"):f.addClass("bottom").removeClass("top"),"right"===s?f.addClass("pull-right"):f.removeClass("pull-right"),"relative"!==t.css("position")&&(t=t.parents().filter(function(){return"relative"===e(this).css("position")}).first()),0===t.length)throw new Error("datetimepicker component should be placed within a relative positioned container");f.css({top:"top"===o?"auto":r.top+n.outerHeight(),bottom:"top"===o?r.top+n.outerHeight():"auto",left:"left"===s?t===n?0:r.left:"auto",right:"left"===s?"auto":t.outerWidth()-n.outerWidth()-(t===n?0:r.left)})},B=function(e){"dp.change"===e.type&&(e.date&&e.date.isSame(e.oldDate)||!e.date&&!e.oldDate)||n.trigger(e)},L=function(e){"y"===e&&(e="YYYY"),B({type:"dp.update",change:e,viewDate:c.clone()})},N=function(e){f&&(e&&(l=Math.max(g,Math.min(3,l+e))),f.find(".datepicker > div").hide().filter(".datepicker-"+m[l].clsName).show())},H=function(){var t=e("<tr>"),n=c.clone().startOf("w").startOf("d");for(i.calendarWeeks===!0&&t.append(e("<th>").addClass("cw").text("#"));n.isBefore(c.clone().endOf("w"));)t.append(e("<th>").addClass("dow").text(n.format("dd"))),n.add(1,"d");f.find(".datepicker-days thead").append(t)},O=function(e){return i.disabledDates[e.format("YYYY-MM-DD")]===!0},F=function(e){return i.enabledDates[e.format("YYYY-MM-DD")]===!0},R=function(e){return i.disabledHours[e.format("H")]===!0},W=function(e){return i.enabledHours[e.format("H")]===!0},z=function(t,n){if(!t.isValid())return!1;if(i.disabledDates&&"d"===n&&O(t))return!1;if(i.enabledDates&&"d"===n&&!F(t))return!1;if(i.minDate&&t.isBefore(i.minDate,n))return!1;if(i.maxDate&&t.isAfter(i.maxDate,n))return!1;if(i.daysOfWeekDisabled&&"d"===n&&-1!==i.daysOfWeekDisabled.indexOf(t.day()))return!1;if(i.disabledHours&&("h"===n||"m"===n||"s"===n)&&R(t))return!1;if(i.enabledHours&&("h"===n||"m"===n||"s"===n)&&!W(t))return!1;if(i.disabledTimeIntervals&&("h"===n||"m"===n||"s"===n)){var r=!1;if(e.each(i.disabledTimeIntervals,function(){return t.isBetween(this[0],this[1])?(r=!0,!1):void 0}),r)return!1}return!0},Y=function(){for(var t=[],n=c.clone().startOf("y").startOf("d");n.isSame(c,"y");)t.push(e("<span>").attr("data-action","selectMonth").addClass("month").text(n.format("MMM"))),n.add(1,"M");f.find(".datepicker-months td").empty().append(t)},V=function(){var t=f.find(".datepicker-months"),n=t.find("th"),i=t.find("tbody").find("span");n.eq(0).find("span").attr("title","Previous Year"),n.eq(1).attr("title","Select Year"),n.eq(2).find("span").attr("title","Next Year"),t.find(".disabled").removeClass("disabled"),z(c.clone().subtract(1,"y"),"y")||n.eq(0).addClass("disabled"),n.eq(1).text(c.year()),z(c.clone().add(1,"y"),"y")||n.eq(2).addClass("disabled"),i.removeClass("active"),u.isSame(c,"y")&&!h&&i.eq(u.month()).addClass("active"),i.each(function(t){z(c.clone().month(t),"M")||e(this).addClass("disabled")})},j=function(){var e=f.find(".datepicker-years"),t=e.find("th"),n=c.clone().subtract(5,"y"),r=c.clone().add(6,"y"),a="";for(t.eq(0).find("span").attr("title","Previous Decade"),t.eq(1).attr("title","Select Decade"),t.eq(2).find("span").attr("title","Next Decade"),e.find(".disabled").removeClass("disabled"),i.minDate&&i.minDate.isAfter(n,"y")&&t.eq(0).addClass("disabled"),t.eq(1).text(n.year()+"-"+r.year()),i.maxDate&&i.maxDate.isBefore(r,"y")&&t.eq(2).addClass("disabled");!n.isAfter(r,"y");)a+='<span data-action="selectYear" class="year'+(n.isSame(u,"y")&&!h?" active":"")+(z(n,"y")?"":" disabled")+'">'+n.year()+"</span>",n.add(1,"y");e.find("td").html(a)},G=function(){var e=f.find(".datepicker-decades"),n=e.find("th"),r=t(c.isBefore(t({y:1999}))?{y:1899}:{y:1999}),a=r.clone().add(100,"y"),o="";for(n.eq(0).find("span").attr("title","Previous Century"),n.eq(2).find("span").attr("title","Next Century"),e.find(".disabled").removeClass("disabled"),(r.isSame(t({y:1900}))||i.minDate&&i.minDate.isAfter(r,"y"))&&n.eq(0).addClass("disabled"),n.eq(1).text(r.year()+"-"+a.year()),(r.isSame(t({y:2e3}))||i.maxDate&&i.maxDate.isBefore(a,"y"))&&n.eq(2).addClass("disabled");!r.isAfter(a,"y");)o+='<span data-action="selectDecade" class="decade'+(r.isSame(u,"y")?" active":"")+(z(r,"y")?"":" disabled")+'" data-selection="'+(r.year()+6)+'">'+(r.year()+1)+" - "+(r.year()+12)+"</span>",r.add(12,"y");o+="<span></span><span></span><span></span>",e.find("td").html(o)},q=function(){var n,r,a,o,s=f.find(".datepicker-days"),l=s.find("th"),d=[];if(k()){for(l.eq(0).find("span").attr("title","Previous Month"),l.eq(1).attr("title","Select Month"),l.eq(2).find("span").attr("title","Next Month"),s.find(".disabled").removeClass("disabled"),l.eq(1).text(c.format(i.dayViewHeaderFormat)),z(c.clone().subtract(1,"M"),"M")||l.eq(0).addClass("disabled"),z(c.clone().add(1,"M"),"M")||l.eq(2).addClass("disabled"),n=c.clone().startOf("M").startOf("w").startOf("d"),o=0;42>o;o++)0===n.weekday()&&(r=e("<tr>"),i.calendarWeeks&&r.append('<td class="cw">'+n.week()+"</td>"),d.push(r)),a="",n.isBefore(c,"M")&&(a+=" old"),n.isAfter(c,"M")&&(a+=" new"),n.isSame(u,"d")&&!h&&(a+=" active"),z(n,"d")||(a+=" disabled"),n.isSame(t(),"d")&&(a+=" today"),(0===n.day()||6===n.day())&&(a+=" weekend"),r.append('<td data-action="selectDay" data-day="'+n.format("L")+'" class="day'+a+'">'+n.date()+"</td>"),n.add(1,"d");
s.find("tbody").empty().append(d),V(),j(),G()}},X=function(){var t=f.find(".timepicker-hours table"),n=c.clone().startOf("d"),i=[],r=e("<tr>");for(c.hour()>11&&!a&&n.hour(12);n.isSame(c,"d")&&(a||c.hour()<12&&n.hour()<12||c.hour()>11);)n.hour()%4===0&&(r=e("<tr>"),i.push(r)),r.append('<td data-action="selectHour" class="hour'+(z(n,"h")?"":" disabled")+'">'+n.format(a?"HH":"hh")+"</td>"),n.add(1,"h");t.empty().append(i)},U=function(){for(var t=f.find(".timepicker-minutes table"),n=c.clone().startOf("h"),r=[],a=e("<tr>"),o=1===i.stepping?5:i.stepping;c.isSame(n,"h");)n.minute()%(4*o)===0&&(a=e("<tr>"),r.push(a)),a.append('<td data-action="selectMinute" class="minute'+(z(n,"m")?"":" disabled")+'">'+n.format("mm")+"</td>"),n.add(o,"m");t.empty().append(r)},$=function(){for(var t=f.find(".timepicker-seconds table"),n=c.clone().startOf("m"),i=[],r=e("<tr>");c.isSame(n,"m");)n.second()%20===0&&(r=e("<tr>"),i.push(r)),r.append('<td data-action="selectSecond" class="second'+(z(n,"s")?"":" disabled")+'">'+n.format("ss")+"</td>"),n.add(5,"s");t.empty().append(i)},Q=function(){var e,t,n=f.find(".timepicker span[data-time-component]");a||(e=f.find(".timepicker [data-action=togglePeriod]"),t=u.clone().add(u.hours()>=12?-12:12,"h"),e.text(u.format("A")),z(t,"h")?e.removeClass("disabled"):e.addClass("disabled")),n.filter("[data-time-component=hours]").text(u.format(a?"HH":"hh")),n.filter("[data-time-component=minutes]").text(u.format("mm")),n.filter("[data-time-component=seconds]").text(u.format("ss")),X(),U(),$()},K=function(){f&&(q(),Q())},Z=function(e){var t=h?null:u;return e?(e=e.clone().locale(i.locale),1!==i.stepping&&e.minutes(Math.round(e.minutes()/i.stepping)*i.stepping%60).seconds(0),void(z(e)?(u=e,c=u.clone(),r.val(u.format(o)),n.data("date",u.format(o)),h=!1,K(),B({type:"dp.change",date:u.clone(),oldDate:t})):(i.keepInvalid||r.val(h?"":u.format(o)),B({type:"dp.error",date:e})))):(h=!0,r.val(""),n.data("date",""),B({type:"dp.change",date:!1,oldDate:t}),void K())},J=function(){var t=!1;return f?(f.find(".collapse").each(function(){var n=e(this).data("collapse");return n&&n.transitioning?(t=!0,!1):!0}),t?d:(p&&p.hasClass("btn")&&p.toggleClass("active"),f.hide(),e(window).off("resize",I),f.off("click","[data-action]"),f.off("mousedown",!1),f.remove(),f=!1,B({type:"dp.hide",date:u.clone()}),d)):d},et=function(){Z(null)},tt={next:function(){var e=m[l].navFnc;c.add(m[l].navStep,e),q(),L(e)},previous:function(){var e=m[l].navFnc;c.subtract(m[l].navStep,e),q(),L(e)},pickerSwitch:function(){N(1)},selectMonth:function(t){var n=e(t.target).closest("tbody").find("span").index(e(t.target));c.month(n),l===g?(Z(u.clone().year(c.year()).month(c.month())),i.inline||J()):(N(-1),q()),L("M")},selectYear:function(t){var n=parseInt(e(t.target).text(),10)||0;c.year(n),l===g?(Z(u.clone().year(c.year())),i.inline||J()):(N(-1),q()),L("YYYY")},selectDecade:function(t){var n=parseInt(e(t.target).data("selection"),10)||0;c.year(n),l===g?(Z(u.clone().year(c.year())),i.inline||J()):(N(-1),q()),L("YYYY")},selectDay:function(t){var n=c.clone();e(t.target).is(".old")&&n.subtract(1,"M"),e(t.target).is(".new")&&n.add(1,"M"),Z(n.date(parseInt(e(t.target).text(),10))),T()||i.keepOpen||i.inline||J()},incrementHours:function(){var e=u.clone().add(1,"h");z(e,"h")&&Z(e)},incrementMinutes:function(){var e=u.clone().add(i.stepping,"m");z(e,"m")&&Z(e)},incrementSeconds:function(){var e=u.clone().add(1,"s");z(e,"s")&&Z(e)},decrementHours:function(){var e=u.clone().subtract(1,"h");z(e,"h")&&Z(e)},decrementMinutes:function(){var e=u.clone().subtract(i.stepping,"m");z(e,"m")&&Z(e)},decrementSeconds:function(){var e=u.clone().subtract(1,"s");z(e,"s")&&Z(e)},togglePeriod:function(){Z(u.clone().add(u.hours()>=12?-12:12,"h"))},togglePicker:function(t){var n,r=e(t.target),a=r.closest("ul"),o=a.find(".in"),s=a.find(".collapse:not(.in)");if(o&&o.length){if(n=o.data("collapse"),n&&n.transitioning)return;o.collapse?(o.collapse("hide"),s.collapse("show")):(o.removeClass("in"),s.addClass("in")),r.is("span")?r.toggleClass(i.icons.time+" "+i.icons.date):r.find("span").toggleClass(i.icons.time+" "+i.icons.date)}},showPicker:function(){f.find(".timepicker > div:not(.timepicker-picker)").hide(),f.find(".timepicker .timepicker-picker").show()},showHours:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-hours").show()},showMinutes:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var n=parseInt(e(t.target).text(),10);a||(u.hours()>=12?12!==n&&(n+=12):12===n&&(n=0)),Z(u.clone().hours(n)),tt.showPicker.call(d)},selectMinute:function(t){Z(u.clone().minutes(parseInt(e(t.target).text(),10))),tt.showPicker.call(d)},selectSecond:function(t){Z(u.clone().seconds(parseInt(e(t.target).text(),10))),tt.showPicker.call(d)},clear:et,today:function(){z(t(),"d")&&Z(t())},close:J},nt=function(t){return e(t.currentTarget).is(".disabled")?!1:(tt[e(t.currentTarget).data("action")].apply(d,arguments),!1)},it=function(){var n,a={year:function(e){return e.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(e){return e.date(1).hours(0).seconds(0).minutes(0)},day:function(e){return e.hours(0).seconds(0).minutes(0)},hour:function(e){return e.seconds(0).minutes(0)},minute:function(e){return e.seconds(0)}};return r.prop("disabled")||!i.ignoreReadonly&&r.prop("readonly")||f?d:(void 0!==r.val()&&0!==r.val().trim().length?Z(at(r.val().trim())):i.useCurrent&&h&&(r.is("input")&&0===r.val().trim().length||i.inline)&&(n=t(),"string"==typeof i.useCurrent&&(n=a[i.useCurrent](n)),Z(n)),f=P(),H(),Y(),f.find(".timepicker-hours").hide(),f.find(".timepicker-minutes").hide(),f.find(".timepicker-seconds").hide(),K(),N(),e(window).on("resize",I),f.on("click","[data-action]",nt),f.on("mousedown",!1),p&&p.hasClass("btn")&&p.toggleClass("active"),f.show(),I(),i.focusOnShow&&!r.is(":focus")&&r.focus(),B({type:"dp.show"}),d)},rt=function(){return f?J():it()},at=function(e){return e=void 0===i.parseInputDate?t.isMoment(e)||e instanceof Date?t(e):t(e,s,i.useStrict):i.parseInputDate(e),e.locale(i.locale),e},ot=function(e){var t,n,r,a,o=null,s=[],l={},u=e.which,c="p";w[u]=c;for(t in w)w.hasOwnProperty(t)&&w[t]===c&&(s.push(t),parseInt(t,10)!==u&&(l[t]=!0));for(t in i.keyBinds)if(i.keyBinds.hasOwnProperty(t)&&"function"==typeof i.keyBinds[t]&&(r=t.split(" "),r.length===s.length&&x[u]===r[r.length-1])){for(a=!0,n=r.length-2;n>=0;n--)if(!(x[r[n]]in l)){a=!1;break}if(a){o=i.keyBinds[t];break}}o&&(o.call(d,f),e.stopPropagation(),e.preventDefault())},st=function(e){w[e.which]="r",e.stopPropagation(),e.preventDefault()},lt=function(t){var n=e(t.target).val().trim(),i=n?at(n):null;return Z(i),t.stopImmediatePropagation(),!1},dt=function(){r.on({change:lt,blur:i.debug?"":J,keydown:ot,keyup:st,focus:i.allowInputToggle?it:""}),n.is("input")?r.on({focus:it}):p&&(p.on("click",rt),p.on("mousedown",!1))},ut=function(){r.off({change:lt,blur:J,keydown:ot,keyup:st,focus:i.allowInputToggle?J:""}),n.is("input")?r.off({focus:it}):p&&(p.off("click",rt),p.off("mousedown",!1))},ct=function(t){var n={};return e.each(t,function(){var e=at(this);e.isValid()&&(n[e.format("YYYY-MM-DD")]=!0)}),Object.keys(n).length?n:!1},ht=function(t){var n={};return e.each(t,function(){n[this]=!0}),Object.keys(n).length?n:!1},pt=function(){var e=i.format||"L LT";o=e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){var t=u.localeData().longDateFormat(e)||e;return t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return u.localeData().longDateFormat(e)||e})}),s=i.extraFormats?i.extraFormats.slice():[],s.indexOf(e)<0&&s.indexOf(o)<0&&s.push(o),a=o.toLowerCase().indexOf("a")<1&&o.replace(/\[.*?\]/g,"").indexOf("h")<1,C("y")&&(g=2),C("M")&&(g=1),C("d")&&(g=0),l=Math.max(g,l),h||Z(u)};if(d.destroy=function(){J(),ut(),n.removeData("DateTimePicker"),n.removeData("date")},d.toggle=rt,d.show=it,d.hide=J,d.disable=function(){return J(),p&&p.hasClass("btn")&&p.addClass("disabled"),r.prop("disabled",!0),d},d.enable=function(){return p&&p.hasClass("btn")&&p.removeClass("disabled"),r.prop("disabled",!1),d},d.ignoreReadonly=function(e){if(0===arguments.length)return i.ignoreReadonly;if("boolean"!=typeof e)throw new TypeError("ignoreReadonly () expects a boolean parameter");return i.ignoreReadonly=e,d},d.options=function(t){if(0===arguments.length)return e.extend(!0,{},i);if(!(t instanceof Object))throw new TypeError("options() options parameter should be an object");return e.extend(!0,i,t),e.each(i,function(e,t){if(void 0===d[e])throw new TypeError("option "+e+" is not recognized!");d[e](t)}),d},d.date=function(e){if(0===arguments.length)return h?null:u.clone();if(!(null===e||"string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return Z(null===e?null:at(e)),d},d.format=function(e){if(0===arguments.length)return i.format;if("string"!=typeof e&&("boolean"!=typeof e||e!==!1))throw new TypeError("format() expects a sting or boolean:false parameter "+e);return i.format=e,o&&pt(),d},d.dayViewHeaderFormat=function(e){if(0===arguments.length)return i.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return i.dayViewHeaderFormat=e,d},d.extraFormats=function(e){if(0===arguments.length)return i.extraFormats;if(e!==!1&&!(e instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return i.extraFormats=e,s&&pt(),d},d.disabledDates=function(t){if(0===arguments.length)return i.disabledDates?e.extend({},i.disabledDates):i.disabledDates;if(!t)return i.disabledDates=!1,K(),d;if(!(t instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return i.disabledDates=ct(t),i.enabledDates=!1,K(),d},d.enabledDates=function(t){if(0===arguments.length)return i.enabledDates?e.extend({},i.enabledDates):i.enabledDates;if(!t)return i.enabledDates=!1,K(),d;if(!(t instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return i.enabledDates=ct(t),i.disabledDates=!1,K(),d},d.daysOfWeekDisabled=function(e){if(0===arguments.length)return i.daysOfWeekDisabled.splice(0);if("boolean"==typeof e&&!e)return i.daysOfWeekDisabled=!1,K(),d;if(!(e instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(i.daysOfWeekDisabled=e.reduce(function(e,t){return t=parseInt(t,10),t>6||0>t||isNaN(t)?e:(-1===e.indexOf(t)&&e.push(t),e)},[]).sort(),i.useCurrent&&!i.keepInvalid){for(var t=0;!z(u,"d");){if(u.add(1,"d"),7===t)throw"Tried 7 times to find a valid date";t++}Z(u)}return K(),d},d.maxDate=function(e){if(0===arguments.length)return i.maxDate?i.maxDate.clone():i.maxDate;if("boolean"==typeof e&&e===!1)return i.maxDate=!1,K(),d;"string"==typeof e&&("now"===e||"moment"===e)&&(e=t());var n=at(e);if(!n.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(i.minDate&&n.isBefore(i.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+n.format(o));return i.maxDate=n,i.useCurrent&&!i.keepInvalid&&u.isAfter(e)&&Z(i.maxDate),c.isAfter(n)&&(c=n.clone()),K(),d},d.minDate=function(e){if(0===arguments.length)return i.minDate?i.minDate.clone():i.minDate;if("boolean"==typeof e&&e===!1)return i.minDate=!1,K(),d;"string"==typeof e&&("now"===e||"moment"===e)&&(e=t());var n=at(e);if(!n.isValid())throw new TypeError("minDate() Could not parse date parameter: "+e);if(i.maxDate&&n.isAfter(i.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+n.format(o));return i.minDate=n,i.useCurrent&&!i.keepInvalid&&u.isBefore(e)&&Z(i.minDate),c.isBefore(n)&&(c=n.clone()),K(),d},d.defaultDate=function(e){if(0===arguments.length)return i.defaultDate?i.defaultDate.clone():i.defaultDate;if(!e)return i.defaultDate=!1,d;"string"==typeof e&&("now"===e||"moment"===e)&&(e=t());var n=at(e);if(!n.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+e);if(!z(n))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return i.defaultDate=n,(i.defaultDate&&i.inline||""===r.val().trim()&&void 0===r.attr("placeholder"))&&Z(i.defaultDate),d},d.locale=function(e){if(0===arguments.length)return i.locale;if(!t.localeData(e))throw new TypeError("locale() locale "+e+" is not loaded from moment locales!");return i.locale=e,u.locale(i.locale),c.locale(i.locale),o&&pt(),f&&(J(),it()),d},d.stepping=function(e){return 0===arguments.length?i.stepping:(e=parseInt(e,10),(isNaN(e)||1>e)&&(e=1),i.stepping=e,d)},d.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(0===arguments.length)return i.useCurrent;if("boolean"!=typeof e&&"string"!=typeof e)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof e&&-1===t.indexOf(e.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));return i.useCurrent=e,d},d.collapse=function(e){if(0===arguments.length)return i.collapse;if("boolean"!=typeof e)throw new TypeError("collapse() expects a boolean parameter");return i.collapse===e?d:(i.collapse=e,f&&(J(),it()),d)},d.icons=function(t){if(0===arguments.length)return e.extend({},i.icons);if(!(t instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return e.extend(i.icons,t),f&&(J(),it()),d},d.useStrict=function(e){if(0===arguments.length)return i.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");return i.useStrict=e,d},d.sideBySide=function(e){if(0===arguments.length)return i.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");return i.sideBySide=e,f&&(J(),it()),d},d.viewMode=function(e){if(0===arguments.length)return i.viewMode;if("string"!=typeof e)throw new TypeError("viewMode() expects a string parameter");if(-1===v.indexOf(e))throw new TypeError("viewMode() parameter must be one of ("+v.join(", ")+") value");return i.viewMode=e,l=Math.max(v.indexOf(e),g),N(),d},d.toolbarPlacement=function(e){if(0===arguments.length)return i.toolbarPlacement;if("string"!=typeof e)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===_.indexOf(e))throw new TypeError("toolbarPlacement() parameter must be one of ("+_.join(", ")+") value");return i.toolbarPlacement=e,f&&(J(),it()),d},d.widgetPositioning=function(t){if(0===arguments.length)return e.extend({},i.widgetPositioning);if("[object Object]"!=={}.toString.call(t))throw new TypeError("widgetPositioning() expects an object variable");if(t.horizontal){if("string"!=typeof t.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(t.horizontal=t.horizontal.toLowerCase(),-1===b.indexOf(t.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+b.join(", ")+")");i.widgetPositioning.horizontal=t.horizontal}if(t.vertical){if("string"!=typeof t.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(t.vertical=t.vertical.toLowerCase(),-1===y.indexOf(t.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+y.join(", ")+")");i.widgetPositioning.vertical=t.vertical}return K(),d},d.calendarWeeks=function(e){if(0===arguments.length)return i.calendarWeeks;if("boolean"!=typeof e)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return i.calendarWeeks=e,K(),d},d.showTodayButton=function(e){if(0===arguments.length)return i.showTodayButton;if("boolean"!=typeof e)throw new TypeError("showTodayButton() expects a boolean parameter");return i.showTodayButton=e,f&&(J(),it()),d},d.showClear=function(e){if(0===arguments.length)return i.showClear;if("boolean"!=typeof e)throw new TypeError("showClear() expects a boolean parameter");return i.showClear=e,f&&(J(),it()),d},d.widgetParent=function(t){if(0===arguments.length)return i.widgetParent;if("string"==typeof t&&(t=e(t)),null!==t&&"string"!=typeof t&&!(t instanceof e))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return i.widgetParent=t,f&&(J(),it()),d},d.keepOpen=function(e){if(0===arguments.length)return i.keepOpen;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");return i.keepOpen=e,d},d.focusOnShow=function(e){if(0===arguments.length)return i.focusOnShow;if("boolean"!=typeof e)throw new TypeError("focusOnShow() expects a boolean parameter");return i.focusOnShow=e,d},d.inline=function(e){if(0===arguments.length)return i.inline;if("boolean"!=typeof e)throw new TypeError("inline() expects a boolean parameter");return i.inline=e,d},d.clear=function(){return et(),d},d.keyBinds=function(e){return i.keyBinds=e,d},d.debug=function(e){if("boolean"!=typeof e)throw new TypeError("debug() expects a boolean parameter");return i.debug=e,d},d.allowInputToggle=function(e){if(0===arguments.length)return i.allowInputToggle;if("boolean"!=typeof e)throw new TypeError("allowInputToggle() expects a boolean parameter");return i.allowInputToggle=e,d},d.showClose=function(e){if(0===arguments.length)return i.showClose;if("boolean"!=typeof e)throw new TypeError("showClose() expects a boolean parameter");return i.showClose=e,d},d.keepInvalid=function(e){if(0===arguments.length)return i.keepInvalid;if("boolean"!=typeof e)throw new TypeError("keepInvalid() expects a boolean parameter");return i.keepInvalid=e,d},d.datepickerInput=function(e){if(0===arguments.length)return i.datepickerInput;if("string"!=typeof e)throw new TypeError("datepickerInput() expects a string parameter");return i.datepickerInput=e,d},d.parseInputDate=function(e){if(0===arguments.length)return i.parseInputDate;if("function"!=typeof e)throw new TypeError("parseInputDate() sholud be as function");return i.parseInputDate=e,d},d.disabledTimeIntervals=function(t){if(0===arguments.length)return i.disabledTimeIntervals?e.extend({},i.disabledTimeIntervals):i.disabledTimeIntervals;if(!t)return i.disabledTimeIntervals=!1,K(),d;if(!(t instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return i.disabledTimeIntervals=t,K(),d},d.disabledHours=function(t){if(0===arguments.length)return i.disabledHours?e.extend({},i.disabledHours):i.disabledHours;if(!t)return i.disabledHours=!1,K(),d;if(!(t instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(i.disabledHours=ht(t),i.enabledHours=!1,i.useCurrent&&!i.keepInvalid){for(var n=0;!z(u,"h");){if(u.add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}Z(u)}return K(),d},d.enabledHours=function(t){if(0===arguments.length)return i.enabledHours?e.extend({},i.enabledHours):i.enabledHours;if(!t)return i.enabledHours=!1,K(),d;if(!(t instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(i.enabledHours=ht(t),i.disabledHours=!1,i.useCurrent&&!i.keepInvalid){for(var n=0;!z(u,"h");){if(u.add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}Z(u)}return K(),d},d.viewDate=function(e){if(0===arguments.length)return c.clone();if(!e)return c=u.clone(),d;if(!("string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return c=at(e),L(),d},n.is("input"))r=n;else if(r=n.find(i.datepickerInput),0===r.size())r=n.find("input");else if(!r.is("input"))throw new Error('CSS class "'+i.datepickerInput+'" cannot be applied to non input element');if(n.hasClass("input-group")&&(p=n.find(0===n.find(".datepickerbutton").size()?'[class^="input-group-"]':".datepickerbutton")),!i.inline&&!r.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return e.extend(!0,i,M()),d.options(i),pt(),dt(),r.prop("disabled")&&d.disable(),r.is("input")&&0!==r.val().trim().length?Z(at(r.val().trim())):i.defaultDate&&void 0===r.attr("placeholder")&&Z(i.defaultDate),i.inline&&it(),d};e.fn.datetimepicker=function(t){return this.each(function(){var i=e(this);i.data("DateTimePicker")||(t=e.extend(!0,{},e.fn.datetimepicker.defaults,t),i.data("DateTimePicker",n(i,t)))})},e.fn.datetimepicker.defaults={format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:t.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(e){if(e){var n=this.date()||t();this.date(e.find(".datepicker").is(":visible")?n.clone().subtract(7,"d"):n.clone().add(1,"m"))}},down:function(e){if(!e)return void this.show();var n=this.date()||t();this.date(e.find(".datepicker").is(":visible")?n.clone().add(7,"d"):n.clone().subtract(1,"m"))},"control up":function(e){if(e){var n=this.date()||t();this.date(e.find(".datepicker").is(":visible")?n.clone().subtract(1,"y"):n.clone().add(1,"h"))}},"control down":function(e){if(e){var n=this.date()||t();this.date(e.find(".datepicker").is(":visible")?n.clone().add(1,"y"):n.clone().subtract(1,"h"))}},left:function(e){if(e){var n=this.date()||t();e.find(".datepicker").is(":visible")&&this.date(n.clone().subtract(1,"d"))}},right:function(e){if(e){var n=this.date()||t();e.find(".datepicker").is(":visible")&&this.date(n.clone().add(1,"d"))}},pageUp:function(e){if(e){var n=this.date()||t();e.find(".datepicker").is(":visible")&&this.date(n.clone().subtract(1,"M"))}},pageDown:function(e){if(e){var n=this.date()||t();e.find(".datepicker").is(":visible")&&this.date(n.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(e){e.find(".timepicker").is(":visible")&&e.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(t())},"delete":function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1}}),function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,r=this,a=r.EventEmitter;i.getListeners=function(e){var t,n,i=this._getEvents();if("object"==typeof e){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;e.length>t;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,n){var i,r=this.getListenersAsObject(e),a="object"==typeof n;for(i in r)r.hasOwnProperty(i)&&-1===t(r[i],n)&&r[i].push(a?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,n){var i,r,a=this.getListenersAsObject(e);for(r in a)a.hasOwnProperty(r)&&(i=t(a[r],n),-1!==i&&a[r].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,r,a=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)a.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?a.call(this,i,r):o.call(this,i,r));return this},i.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if("object"===n)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(e,t){var n,i,r,a,o=this.getListenersAsObject(e);for(r in o)if(o.hasOwnProperty(r))for(i=o[r].length;i--;)n=o[r][i],n.once===!0&&this.removeListener(e,n.listener),a=n.listener.apply(this,t||[]),a===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=a,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(e){function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(i=function(e,n,i){e[n+i]=i.handleEvent?function(){var n=t(e);i.handleEvent.call(i,n)}:function(){var n=t(e);i.call(e,n)},e.attachEvent("on"+n,e[n+i])});var r=function(){};n.removeEventListener?r=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(r=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(i){e[t+n]=void 0}});var a={bind:i,unbind:r};"function"==typeof define&&define.amd?define("eventie/eventie",a):e.eventie=a}(this),function(e,t){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(n,i){return t(e,n,i)}):"object"==typeof exports?module.exports=t(e,require("wolfy87-eventemitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(window,function(e,t,n){function i(e,t){for(var n in t)e[n]=t[n];return e}function r(e){return"[object Array]"===h.call(e)}function a(e){var t=[];if(r(e))t=e;else if("number"==typeof e.length)for(var n=0,i=e.length;i>n;n++)t.push(e[n]);else t.push(e);return t}function o(e,t,n){if(!(this instanceof o))return new o(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=a(e),this.options=i({},this.options),"function"==typeof t?n=t:i(this.options,t),n&&this.on("always",n),this.getImages(),d&&(this.jqDeferred=new d.Deferred);var r=this;setTimeout(function(){r.check()})}function s(e){this.img=e}function l(e){this.src=e,p[e]=this}var d=e.jQuery,u=e.console,c=void 0!==u,h=Object.prototype.toString;o.prototype=new t,o.prototype.options={},o.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);var i=n.nodeType;if(i&&(1===i||9===i||11===i))for(var r=n.querySelectorAll("img"),a=0,o=r.length;o>a;a++){var s=r[a];this.addImage(s)}}},o.prototype.addImage=function(e){var t=new s(e);this.images.push(t)},o.prototype.check=function(){function e(e,r){return t.options.debug&&c&&u.log("confirm",e,r),t.progress(e),n++,n===i&&t.complete(),!0}var t=this,n=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return void this.complete();for(var r=0;i>r;r++){var a=this.images[r];a.on("confirm",e),a.check()}},o.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},o.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var n=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[n](t)}})},d&&(d.fn.imagesLoaded=function(e,t){var n=new o(this,e,t);return n.jqDeferred.promise(d(this))}),s.prototype=new t,s.prototype.check=function(){var e=p[this.img.src]||new l(this.img.src);if(e.isConfirmed)return void this.confirm(e.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var t=this;e.on("confirm",function(e,n){return t.confirm(e.isLoaded,n),!0}),e.check()},s.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var p={};return l.prototype=new t,l.prototype.check=function(){if(!this.isChecked){var e=new Image;n.bind(e,"load",this),n.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},l.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},l.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},l.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},l.prototype.unbindProxyEvents=function(e){n.unbind(e.target,"load",this),n.unbind(e.target,"error",this)},o}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e,t){"use strict";e.infinitescroll=function(t,n,i){this.element=e(i),this._create(t,n)||(this.failed=!0)},e.infinitescroll.defaults={loading:{finished:t,finishedMsg:"<em>Congratulations, you've reached the end of the internet.</em>",img:"data:image/gif;base64,R0lGODlh3AATAPQeAPDy+MnQ6LW/4N3h8MzT6rjC4sTM5r/I5NHX7N7j8c7U6tvg8OLl8uXo9Ojr9b3G5MfP6Ovu9tPZ7PT1+vX2+tbb7vf4+8/W69jd7rC73vn5/O/x+K243ai02////wAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQECgD/ACwAAAAA3AATAAAF/6AnjmRpnmiqrmzrvnAsz3Rt33iu73zv/8CgcEj0BAScpHLJbDqf0Kh0Sq1ar9isdioItAKGw+MAKYMFhbF63CW438f0mg1R2O8EuXj/aOPtaHx7fn96goR4hmuId4qDdX95c4+RBIGCB4yAjpmQhZN0YGYGXitdZBIVGAsLoq4BBKQDswm1CQRkcG6ytrYKubq8vbfAcMK9v7q7EMO1ycrHvsW6zcTKsczNz8HZw9vG3cjTsMIYqQkCLBwHCgsMDQ4RDAYIqfYSFxDxEfz88/X38Onr16+Bp4ADCco7eC8hQYMAEe57yNCew4IVBU7EGNDiRn8Z831cGLHhSIgdFf9chIeBg7oA7gjaWUWTVQAGE3LqBDCTlc9WOHfm7PkTqNCh54rePDqB6M+lR536hCpUqs2gVZM+xbrTqtGoWqdy1emValeXKzggYBBB5y1acFNZmEvXAoN2cGfJrTv3bl69Ffj2xZt3L1+/fw3XRVw4sGDGcR0fJhxZsF3KtBTThZxZ8mLMgC3fRatCbYMNFCzwLEqLgE4NsDWs/tvqdezZf13Hvk2A9Szdu2X3pg18N+68xXn7rh1c+PLksI/Dhe6cuO3ow3NfV92bdArTqC2Ebd3A8vjf5QWfH6Bg7Nz17c2fj69+fnq+8N2Lty+fuP78/eV2X13neIcCeBRwxorbZrA1ANoCDGrgoG8RTshahQ9iSKEEzUmYIYfNWViUhheCGJyIP5E4oom7WWjgCeBFAJNv1DVV01MAdJhhjdkplWNzO/5oXI846njjVEIqR2OS2B1pE5PVscajkxhMycqLJghQSwT40PgfAl4GqNSXYdZXJn5gSkmmmmJu1aZYb14V51do+pTOCmA40AqVCIhG5IJ9PvYnhIFOxmdqhpaI6GeHCtpooisuutmg+Eg62KOMKuqoTaXgicQWoIYq6qiklmoqFV0UoeqqrLbq6quwxirrrLTWauutJ4QAACH5BAUKABwALAcABADOAAsAAAX/IPd0D2dyRCoUp/k8gpHOKtseR9yiSmGbuBykler9XLAhkbDavXTL5k2oqFqNOxzUZPU5YYZd1XsD72rZpBjbeh52mSNnMSC8lwblKZGwi+0QfIJ8CncnCoCDgoVnBHmKfByGJimPkIwtiAeBkH6ZHJaKmCeVnKKTHIihg5KNq4uoqmEtcRUtEREMBggtEr4QDrjCuRC8h7/BwxENeicSF8DKy82pyNLMOxzWygzFmdvD2L3P0dze4+Xh1Arkyepi7dfFvvTtLQkZBC0T/FX3CRgCMOBHsJ+EHYQY7OinAGECgQsB+Lu3AOK+CewcWjwxQeJBihtNGHSoQOE+iQ3//4XkwBBhRZMcUS6YSXOAwIL8PGqEaSJCiYt9SNoCmnJPAgUVLChdaoFBURN8MAzl2PQphwQLfDFd6lTowglHve6rKpbjhK7/pG5VinZP1qkiz1rl4+tr2LRwWU64cFEihwEtZgbgR1UiHaMVvxpOSwBA37kzGz9e8G+B5MIEKLutOGEsAH2ATQwYfTmuX8aETWdGPZmiZcccNSzeTCA1Sw0bdiitC7LBWgu8jQr8HRzqgpK6gX88QbrB14z/kF+ELpwB8eVQj/JkqdylAudji/+ts3039vEEfK8Vz2dlvxZKG0CmbkKDBvllRd6fCzDvBLKBDSCeffhRJEFebFk1k/Mv9jVIoIJZSeBggwUaNeB+Qk34IE0cXlihcfRxkOAJFFhwGmKlmWDiakZhUJtnLBpnWWcnKaAZcxI0piFGGLBm1mc90kajSCveeBVWKeYEoU2wqeaQi0PetoE+rr14EpVC7oAbAUHqhYExbn2XHHsVqbcVew9tx8+XJKk5AZsqqdlddGpqAKdbAYBn1pcczmSTdWvdmZ17c1b3FZ99vnTdCRFM8OEcAhLwm1NdXnWcBBSMRWmfkWZqVlsmLIiAp/o1gGV2vpS4lalGYsUOqXrddcKCmK61aZ8SjEpUpVFVoCpTj4r661Km7kBHjrDyc1RAIQAAIfkEBQoAGwAsBwAEAM4ACwAABf/gtmUCd4goQQgFKj6PYKi0yrrbc8i4ohQt12EHcal+MNSQiCP8gigdz7iCioaCIvUmZLp8QBzW0EN2vSlCuDtFKaq4RyHzQLEKZNdiQDhRDVooCwkbfm59EAmKi4SGIm+AjIsKjhsqB4mSjT2IOIOUnICeCaB/mZKFNTSRmqVpmJqklSqskq6PfYYCDwYHDC4REQwGCBLGxxIQDsHMwhAIX8bKzcENgSLGF9PU1j3Sy9zX2NrgzQziChLk1BHWxcjf7N046tvN82715czn9Pryz6Ilc4ACj4EBOCZM8KEnAYYADBRKnACAYUMFv1wotIhCEcaJCisqwJFgAUSQGyX/kCSVUUTIdKMwJlyo0oXHlhskwrTJciZHEXsgaqS4s6PJiCAr1uzYU8kBBSgnWFqpoMJMUjGtDmUwkmfVmVypakWhEKvXsS4nhLW5wNjVroJIoc05wSzTr0PtiigpYe4EC2vj4iWrFu5euWIMRBhacaVJhYQBEFjA9jHjyQ0xEABwGceGAZYjY0YBOrRLCxUp29QM+bRkx5s7ZyYgVbTqwwti2ybJ+vLtDYpycyZbYOlptxdx0kV+V7lC5iJAyyRrwYKxAdiz82ng0/jnAdMJFz0cPi104Ec1Vj9/M6F173vKL/feXv156dw11tlqeMMnv4V5Ap53GmjQQH97nFfg+IFiucfgRX5Z8KAgbUlQ4IULIlghhhdOSB6AgX0IVn8eReghen3NRIBsRgnH4l4LuEidZBjwRpt6NM5WGwoW0KSjCwX6yJSMab2GwwAPDXfaBCtWpluRTQqC5JM5oUZAjUNS+VeOLWpJEQ7VYQANW0INJSZVDFSnZphjSikfmzE5N4EEbQI1QJmnWXCmHulRp2edwDXF43txukenJwvI9xyg9Q26Z3MzGUcBYFEChZh6DVTq34AU8Iflh51Sd+CnKFYQ6mmZkhqfBKfSxZWqA9DZanWjxmhrWwi0qtCrt/43K6WqVjjpmhIqgEGvculaGKklKstAACEAACH5BAUKABwALAcABADOAAsAAAX/ICdyQmaMYyAUqPgIBiHPxNpy79kqRXH8wAPsRmDdXpAWgWdEIYm2llCHqjVHU+jjJkwqBTecwItShMXkEfNWSh8e1NGAcLgpDGlRgk7EJ/6Ae3VKfoF/fDuFhohVeDeCfXkcCQqDVQcQhn+VNDOYmpSWaoqBlUSfmowjEA+iEAEGDRGztAwGCDcXEA60tXEiCrq8vREMEBLIyRLCxMWSHMzExnbRvQ2Sy7vN0zvVtNfU2tLY3rPgLdnDvca4VQS/Cpk3ABwSLQkYAQwT/P309vcI7OvXr94jBQMJ/nskkGA/BQBRLNDncAIAiDcG6LsxAWOLiQzmeURBKWSLCQbv/1F0eDGinJUKR47YY1IEgQASKk7Yc7ACRwZm7mHweRJoz59BJUogisKCUaFMR0x4SlJBVBFTk8pZivTR0K73rN5wqlXEAq5Fy3IYgHbEzQ0nLy4QSoCjXLoom96VOJEeCosK5n4kkFfqXjl94wa+l1gvAcGICbewAOAxY8l/Ky/QhAGz4cUkGxu2HNozhwMGBnCUqUdBg9UuW9eUynqSwLHIBujePef1ZGQZXcM+OFuEBeBhi3OYgLyqcuaxbT9vLkf4SeqyWxSQpKGB2gQpm1KdWbu72rPRzR9Ne2Nu9Kzr/1Jqj0yD/fvqP4aXOt5sW/5qsXXVcv1Nsp8IBUAmgswGF3llGgeU1YVXXKTN1FlhWFXW3gIE+DVChApysACHHo7Q4A35lLichh+ROBmLKAzgYmYEYDAhCgxKGOOMn4WR4kkDaoBBOxJtdNKQxFmg5JIWIBnQc07GaORfUY4AEkdV6jHlCEISSZ5yTXpp1pbGZbkWmcuZmQCaE6iJ0FhjMaDjTMsgZaNEHFRAQVp3bqXnZED1qYcECOz5V6BhSWCoVJQIKuKQi2KFKEkEFAqoAo7uYSmO3jk61wUUMKmknJ4SGimBmAa0qVQBhAAAIfkEBQoAGwAsBwAEAM4ACwAABf/gJm5FmRlEqhJC+bywgK5pO4rHI0D3pii22+Mg6/0Ej96weCMAk7cDkXf7lZTTnrMl7eaYoy10JN0ZFdco0XAuvKI6qkgVFJXYNwjkIBcNBgR8TQoGfRsJCRuCYYQQiI+ICosiCoGOkIiKfSl8mJkHZ4U9kZMbKaI3pKGXmJKrngmug4WwkhA0lrCBWgYFCCMQFwoQDRHGxwwGCBLMzRLEx8iGzMMO0cYNeCMKzBDW19lnF9DXDIY/48Xg093f0Q3s1dcR8OLe8+Y91OTv5wrj7o7B+7VNQqABIoRVCMBggsOHE36kSoCBIcSH3EbFangxogJYFi8CkJhqQciLJEf/LDDJEeJIBT0GsOwYUYJGBS0fjpQAMidGmyVP6sx4Y6VQhzs9VUwkwqaCCh0tmKoFtSMDmBOf9phg4SrVrROuasRQAaxXpVUhdsU6IsECZlvX3kwLUWzRt0BHOLTbNlbZG3vZinArge5Dvn7wbqtQkSYAAgtKmnSsYKVKo2AfW048uaPmG386i4Q8EQMBAIAnfB7xBxBqvapJ9zX9WgRS2YMpnvYMGdPK3aMjt/3dUcNI4blpj7iwkMFWDXDvSmgAlijrt9RTR78+PS6z1uAJZIe93Q8g5zcsWCi/4Y+C8bah5zUv3vv89uft30QP23punGCx5954oBBwnwYaNCDY/wYrsYeggnM9B2Fpf8GG2CEUVWhbWAtGouEGDy7Y4IEJVrbSiXghqGKIo7z1IVcXIkKWWR361QOLWWnIhwERpLaaCCee5iMBGJQmJGyPFTnbkfHVZGRtIGrg5HALEJAZbu39BuUEUmq1JJQIPtZilY5hGeSWsSk52G9XqsmgljdIcABytq13HyIM6RcUA+r1qZ4EBF3WHWB29tBgAzRhEGhig8KmqKFv8SeCeo+mgsF7YFXa1qWSbkDpom/mqR1PmHCqJ3fwNRVXjC7S6CZhFVCQ2lWvZiirhQq42SACt25IK2hv8TprriUV1usGgeka7LFcNmCldMLi6qZMgFLgpw16Cipb7bC1knXsBiEAACH5BAUKABsALAcABADOAAsAAAX/4FZsJPkUmUGsLCEUTywXglFuSg7fW1xAvNWLF6sFFcPb42C8EZCj24EJdCp2yoegWsolS0Uu6fmamg8n8YYcLU2bXSiRaXMGvqV6/KAeJAh8VgZqCX+BexCFioWAYgqNi4qAR4ORhRuHY408jAeUhAmYYiuVlpiflqGZa5CWkzc5fKmbbhIpsAoQDRG8vQwQCBLCwxK6vb5qwhfGxxENahvCEA7NzskSy7vNzzzK09W/PNHF1NvX2dXcN8K55cfh69Luveol3vO8zwi4Yhj+AQwmCBw4IYclDAAJDlQggVOChAoLKkgFkSCAHDwWLKhIEOONARsDKryogFPIiAUb/95gJNIiw4wnI778GFPhzBKFOAq8qLJEhQpiNArjMcHCmlTCUDIouTKBhApELSxFWiGiVKY4E2CAekPgUphDu0742nRrVLJZnyrFSqKQ2ohoSYAMW6IoDpNJ4bLdILTnAj8KUF7UeENjAKuDyxIgOuGiOI0EBBMgLNew5AUrDTMGsFixwBIaNCQuAXJB57qNJ2OWm2Aj4skwCQCIyNkhhtMkdsIuodE0AN4LJDRgfLPtn5YDLdBlraAByuUbBgxQwICxMOnYpVOPej074OFdlfc0TqC62OIbcppHjV4o+LrieWhfT8JC/I/T6W8oCl29vQ0XjLdBaA3s1RcPBO7lFvpX8BVoG4O5jTXRQRDuJ6FDTzEWF1/BCZhgbyAKE9qICYLloQYOFtahVRsWYlZ4KQJHlwHS/IYaZ6sZd9tmu5HQm2xi1UaTbzxYwJk/wBF5g5EEYOBZeEfGZmNdFyFZmZIR4jikbLThlh5kUUVJGmRT7sekkziRWUIACABk3T4qCsedgO4xhgGcY7q5pHJ4klBBTQRJ0CeHcoYHHUh6wgfdn9uJdSdMiebGJ0zUPTcoS286FCkrZxnYoYYKWLkBowhQoBeaOlZAgVhLidrXqg2GiqpQpZ4apwSwRtjqrB3muoF9BboaXKmshlqWqsWiGt2wphJkQbAU5hoCACH5BAUKABsALAcABADOAAsAAAX/oGFw2WZuT5oZROsSQnGaKjRvilI893MItlNOJ5v5gDcFrHhKIWcEYu/xFEqNv6B1N62aclysF7fsZYe5aOx2yL5aAUGSaT1oTYMBwQ5VGCAJgYIJCnx1gIOBhXdwiIl7d0p2iYGQUAQBjoOFSQR/lIQHnZ+Ue6OagqYzSqSJi5eTpTxGcjcSChANEbu8DBAIEsHBChe5vL13G7fFuscRDcnKuM3H0La3EA7Oz8kKEsXazr7Cw9/Gztar5uHHvte47MjktznZ2w0G1+D3BgirAqJmJMAQgMGEgwgn5Ei0gKDBhBMALGRYEOJBb5QcWlQo4cbAihZz3GgIMqFEBSM1/4ZEOWPAgpIIJXYU+PIhRG8ja1qU6VHlzZknJNQ6UanCjQkWCIGSUGEjAwVLjc44+DTqUQtPPS5gejUrTa5TJ3g9sWCr1BNUWZI161StiQUDmLYdGfesibQ3XMq1OPYthrwuA2yU2LBs2cBHIypYQPPlYAKFD5cVvNPtW8eVGbdcQADATsiNO4cFAPkvHpedPzc8kUcPgNGgZ5RNDZG05reoE9s2vSEP79MEGiQGy1qP8LA4ZcdtsJE48ONoLTBtTV0B9LsTnPceoIDBDQvS7W7vfjVY3q3eZ4A339J4eaAmKqU/sV58HvJh2RcnIBsDUw0ABqhBA5aV5V9XUFGiHfVeAiWwoFgJJrIXRH1tEMiDFV4oHoAEGlaWhgIGSGBO2nFomYY3mKjVglidaNYJGJDkWW2xxTfbjCbVaOGNqoX2GloR8ZeTaECS9pthRGJH2g0b3Agbk6hNANtteHD2GJUucfajCQBy5OOTQ25ZgUPvaVVQmbKh9510/qQpwXx3SQdfk8tZJOd5b6JJFplT3ZnmmX3qd5l1eg5q00HrtUkUn0AKaiGjClSAgKLYZcgWXwocGRcCFGCKwSB6ceqphwmYRUFYT/1WKlOdUpipmxW0mlCqHjYkAaeoZlqrqZ4qd+upQKaapn/AmgAegZ8KUtYtFAQQAgAh+QQFCgAbACwHAAQAzgALAAAF/+C2PUcmiCiZGUTrEkKBis8jQEquKwU5HyXIbEPgyX7BYa5wTNmEMwWsSXsqFbEh8DYs9mrgGjdK6GkPY5GOeU6ryz7UFopSQEzygOGhJBjoIgMDBAcBM0V/CYqLCQqFOwobiYyKjn2TlI6GKC2YjJZknouaZAcQlJUHl6eooJwKooobqoewrJSEmyKdt59NhRKFMxLEEA4RyMkMEAjDEhfGycqAG8TQx9IRDRDE3d3R2ctD1RLg0ttKEnbY5wZD3+zJ6M7X2RHi9Oby7u/r9g38UFjTh2xZJBEBMDAboogAgwkQI07IMUORwocSJwCgWDFBAIwZOaJIsOBjRogKJP8wTODw5ESVHVtm3AhzpEeQElOuNDlTZ0ycEUWKWFASqEahGwYUPbnxoAgEdlYSqDBkgoUNClAlIHbSAoOsqCRQnQHxq1axVb06FWFxLIqyaze0Tft1JVqyE+pWXMD1pF6bYl3+HTqAWNW8cRUFzmih0ZAAB2oGKukSAAGGRHWJgLiR6AylBLpuHKKUMlMCngMpDSAa9QIUggZVVvDaJobLeC3XZpvgNgCmtPcuwP3WgmXSq4do0DC6o2/guzcseECtUoO0hmcsGKDgOt7ssBd07wqesAIGZC1YIBa7PQHvb1+SFo+++HrJSQfB33xfav3i5eX3Hnb4CTJgegEq8tH/YQEOcIJzbm2G2EoYRLgBXFpVmFYDcREV4HIcnmUhiGBRouEMJGJGzHIspqgdXxK0yCKHRNXoIX4uorCdTyjkyNtdPWrA4Up82EbAbzMRxxZRR54WXVLDIRmRcag5d2R6ugl3ZXzNhTecchpMhIGVAKAYpgJjjsSklBEd99maZoo535ZvdamjBEpusJyctg3h4X8XqodBMx0tiNeg/oGJaKGABpogS40KSqiaEgBqlQWLUtqoVQnytekEjzo0hHqhRorppOZt2p923M2AAV+oBtpAnnPNoB6HaU6mAAIU+IXmi3j2mtFXuUoHKwXpzVrsjcgGOauKEjQrwq157hitGq2NoWmjh7z6Wmxb0m5w66+2VRAuXN/yFUAIACH5BAUKABsALAcABADOAAsAAAX/4CZuRiaM45MZqBgIRbs9AqTcuFLE7VHLOh7KB5ERdjJaEaU4ClO/lgKWjKKcMiJQ8KgumcieVdQMD8cbBeuAkkC6LYLhOxoQ2PF5Ys9PKPBMen17f0CCg4VSh32JV4t8jSNqEIOEgJKPlkYBlJWRInKdiJdkmQlvKAsLBxdABA4RsbIMBggtEhcQsLKxDBC2TAS6vLENdJLDxMZAubu8vjIbzcQRtMzJz79S08oQEt/guNiyy7fcvMbh4OezdAvGrakLAQwyABsELQkY9BP+//ckyPDD4J9BfAMh1GsBoImMeQUN+lMgUJ9CiRMa5msxoB9Gh/o8GmxYMZXIgxtR/yQ46S/gQAURR0pDwYDfywoyLPip5AdnCwsMFPBU4BPFhKBDi444quCmDKZOfwZ9KEGpCKgcN1jdALSpPqIYsabS+nSqvqplvYqQYAeDPgwKwjaMtiDl0oaqUAyo+3TuWwUAMPpVCfee0cEjVBGQq2ABx7oTWmQk4FglZMGN9fGVDMCuiH2AOVOu/PmyxM630gwM0CCn6q8LjVJ8GXvpa5Uwn95OTC/nNxkda1/dLSK475IjCD6dHbK1ZOa4hXP9DXs5chJ00UpVm5xo2qRpoxptwF2E4/IbJpB/SDz9+q9b1aNfQH08+p4a8uvX8B53fLP+ycAfemjsRUBgp1H20K+BghHgVgt1GXZXZpZ5lt4ECjxYR4ScUWiShEtZqBiIInRGWnERNnjiBglw+JyGnxUmGowsyiiZg189lNtPGACjV2+S9UjbU0JWF6SPvEk3QZEqsZYTk3UAaRSUnznJI5LmESCdBVSyaOWUWLK4I5gDUYVeV1T9l+FZClCAUVA09uSmRHBCKAECFEhW51ht6rnmWBXkaR+NjuHpJ40D3DmnQXt2F+ihZxlqVKOfQRACACH5BAUKABwALAcABADOAAsAAAX/ICdyUCkUo/g8mUG8MCGkKgspeC6j6XEIEBpBUeCNfECaglBcOVfJFK7YQwZHQ6JRZBUqTrSuVEuD3nI45pYjFuWKvjjSkCoRaBUMWxkwBGgJCXspQ36Bh4EEB0oKhoiBgyNLjo8Ki4QElIiWfJqHnISNEI+Ql5J9o6SgkqKkgqYihamPkW6oNBgSfiMMDQkGCBLCwxIQDhHIyQwQCGMKxsnKVyPCF9DREQ3MxMPX0cu4wt7J2uHWx9jlKd3o39MiuefYEcvNkuLt5O8c1ePI2tyELXGQwoGDAQf+iEC2xByDCRAjTlAgIUWCBRgCPJQ4AQBFXAs0coT40WLIjRxL/47AcHLkxIomRXL0CHPERZkpa4q4iVKiyp0tR/7kwHMkTUBBJR5dOCEBAVcKKtCAyOHpowXCpk7goABqBZdcvWploACpBKkpIJI1q5OD2rIWE0R1uTZu1LFwbWL9OlKuWb4c6+o9i3dEgw0RCGDUG9KlRw56gDY2qmCByZBaASi+TACA0TucAaTteCcy0ZuOK3N2vJlx58+LRQyY3Xm0ZsgjZg+oPQLi7dUcNXi0LOJw1pgNtB7XG6CBy+U75SYfPTSQAgZTNUDnQHt67wnbZyvwLgKiMN3oCZB3C76tdewpLFgIP2C88rbi4Y+QT3+8S5USMICZXWj1pkEDeUU3lOYGB3alSoEiMIjgX4WlgNF2EibIwQIXauWXSRg2SAOHIU5IIIMoZkhhWiJaiFVbKo6AQEgQXrTAazO1JhkBrBG3Y2Y6EsUhaGn95hprSN0oWpFE7rhkeaQBchGOEWnwEmc0uKWZj0LeuNV3W4Y2lZHFlQCSRjTIl8uZ+kG5HU/3sRlnTG2ytyadytnD3HrmuRcSn+0h1dycexIK1KCjYaCnjCCVqOFFJTZ5GkUUjESWaUIKU2lgCmAKKQIUjHapXRKE+t2og1VgankNYnohqKJ2CmKplso6GKz7WYCgqxeuyoF8u9IQAgA7",msg:null,msgText:"<em>Loading the next set of posts...</em>",selector:null,speed:"fast",start:t},state:{isDuringAjax:!1,isInvalidPage:!1,isDestroyed:!1,isDone:!1,isPaused:!1,isBeyondMaxPage:!1,currPage:1},debug:!1,behavior:t,binder:e(window),nextSelector:"div.navigation a:first",navSelector:"div.navigation",contentSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:!1,pathParse:t,dataType:"html",appendCallback:!0,bufferPx:40,errorCallback:function(){},infid:0,pixelsFromNavToBottom:t,path:t,prefill:!1,maxPage:t},e.infinitescroll.prototype={_binding:function(e){var n=this,i=n.options;
return i.v="2.0b2.120520",i.behavior&&this["_binding_"+i.behavior]!==t?void this["_binding_"+i.behavior].call(this):"bind"!==e&&"unbind"!==e?(this._debug("Binding value  "+e+" not valid"),!1):("unbind"===e?this.options.binder.unbind("smartscroll.infscr."+n.options.infid):this.options.binder[e]("smartscroll.infscr."+n.options.infid,function(){n.scroll()}),void this._debug("Binding",e))},_create:function(n,i){var r=e.extend(!0,{},e.infinitescroll.defaults,n);this.options=r;var a=e(window),o=this;if(!o._validate(n))return!1;var s=e(r.nextSelector).attr("href");if(!s)return this._debug("Navigation selector not found"),!1;r.path=r.path||this._determinepath(s),r.contentSelector=r.contentSelector||this.element,r.loading.selector=r.loading.selector||r.contentSelector,r.loading.msg=r.loading.msg||e('<div id="infscr-loading"><img alt="Loading..." src="'+r.loading.img+'" /><div>'+r.loading.msgText+"</div></div>"),(new Image).src=r.loading.img,r.pixelsFromNavToBottom===t&&(r.pixelsFromNavToBottom=e(document).height()-e(r.navSelector).offset().top,this._debug("pixelsFromNavToBottom: "+r.pixelsFromNavToBottom));var l=this;return r.loading.start=r.loading.start||function(){e(r.navSelector).hide(),r.loading.msg.appendTo(r.loading.selector).show(r.loading.speed,e.proxy(function(){this.beginAjax(r)},l))},r.loading.finished=r.loading.finished||function(){r.state.isBeyondMaxPage||r.loading.msg.fadeOut(r.loading.speed)},r.callback=function(n,o,s){r.behavior&&n["_callback_"+r.behavior]!==t&&n["_callback_"+r.behavior].call(e(r.contentSelector)[0],o,s),i&&i.call(e(r.contentSelector)[0],o,r,s),r.prefill&&a.bind("resize.infinite-scroll",n._prefill)},n.debug&&(!Function.prototype.bind||"object"!=typeof console&&"function"!=typeof console||"object"!=typeof console.log||["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(e){console[e]=this.call(console[e],console)},Function.prototype.bind)),this._setup(),r.prefill&&this._prefill(),!0},_prefill:function(){function t(){return e(n.options.contentSelector).height()<=i.height()}var n=this,i=e(window);this._prefill=function(){t()&&n.scroll(),i.bind("resize.infinite-scroll",function(){t()&&(i.unbind("resize.infinite-scroll"),n.scroll())})},this._prefill()},_debug:function(){!0===this.options.debug&&("undefined"!=typeof console&&"function"==typeof console.log?console.log(1===Array.prototype.slice.call(arguments).length&&"string"==typeof Array.prototype.slice.call(arguments)[0]?Array.prototype.slice.call(arguments).toString():Array.prototype.slice.call(arguments)):Function.prototype.bind||"undefined"==typeof console||"object"!=typeof console.log||Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments)))},_determinepath:function(e){var n=this.options;if(n.behavior&&this["_determinepath_"+n.behavior]!==t)return this["_determinepath_"+n.behavior].call(this,e);if(n.pathParse)return this._debug("pathParse manual"),n.pathParse(e,this.options.state.currPage+1);if(e.match(/^(.*?)\b2\b(.*?$)/))e=e.match(/^(.*?)\b2\b(.*?$)/).slice(1);else if(e.match(/^(.*?)2(.*?$)/)){if(e.match(/^(.*?page=)2(\/.*|$)/))return e=e.match(/^(.*?page=)2(\/.*|$)/).slice(1);e=e.match(/^(.*?)2(.*?$)/).slice(1)}else{if(e.match(/^(.*?page=)1(\/.*|$)/))return e=e.match(/^(.*?page=)1(\/.*|$)/).slice(1);this._debug("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com."),n.state.isInvalidPage=!0}return this._debug("determinePath",e),e},_error:function(e){var n=this.options;return n.behavior&&this["_error_"+n.behavior]!==t?void this["_error_"+n.behavior].call(this,e):("destroy"!==e&&"end"!==e&&(e="unknown"),this._debug("Error",e),("end"===e||n.state.isBeyondMaxPage)&&this._showdonemsg(),n.state.isDone=!0,n.state.currPage=1,n.state.isPaused=!1,n.state.isBeyondMaxPage=!1,void this._binding("unbind"))},_loadcallback:function(n,i,r){var a,o=this.options,s=this.options.callback,l=o.state.isDone?"done":o.appendCallback?"append":"no-append";if(o.behavior&&this["_loadcallback_"+o.behavior]!==t)return void this["_loadcallback_"+o.behavior].call(this,n,i,r);switch(l){case"done":return this._showdonemsg(),!1;case"no-append":if("html"===o.dataType&&(i="<div>"+i+"</div>",i=e(i).find(o.itemSelector)),0===i.length)return this._error("end");break;case"append":var d=n.children();if(0===d.length)return this._error("end");for(a=document.createDocumentFragment();n[0].firstChild;)a.appendChild(n[0].firstChild);this._debug("contentSelector",e(o.contentSelector)[0]),e(o.contentSelector)[0].appendChild(a),i=d.get()}if(o.loading.finished.call(e(o.contentSelector)[0],o),o.animate){var u=e(window).scrollTop()+e(o.loading.msg).height()+o.extraScrollPx+"px";e("html,body").animate({scrollTop:u},800,function(){o.state.isDuringAjax=!1})}o.animate||(o.state.isDuringAjax=!1),s(this,i,r),o.prefill&&this._prefill()},_nearbottom:function(){var n=this.options,i=0+e(document).height()-n.binder.scrollTop()-e(window).height();return n.behavior&&this["_nearbottom_"+n.behavior]!==t?this["_nearbottom_"+n.behavior].call(this):(this._debug("math:",i,n.pixelsFromNavToBottom),i-n.bufferPx<n.pixelsFromNavToBottom)},_pausing:function(e){var n=this.options;if(n.behavior&&this["_pausing_"+n.behavior]!==t)return void this["_pausing_"+n.behavior].call(this,e);switch("pause"!==e&&"resume"!==e&&null!==e&&this._debug("Invalid argument. Toggling pause value instead"),e=!e||"pause"!==e&&"resume"!==e?"toggle":e){case"pause":n.state.isPaused=!0;break;case"resume":n.state.isPaused=!1;break;case"toggle":n.state.isPaused=!n.state.isPaused}return this._debug("Paused",n.state.isPaused),!1},_setup:function(){var e=this.options;return e.behavior&&this["_setup_"+e.behavior]!==t?void this["_setup_"+e.behavior].call(this):(this._binding("bind"),!1)},_showdonemsg:function(){var n=this.options;return n.behavior&&this["_showdonemsg_"+n.behavior]!==t?void this["_showdonemsg_"+n.behavior].call(this):(n.loading.msg.find("img").hide().parent().find("div").html(n.loading.finishedMsg).animate({opacity:1},2e3,function(){e(this).parent().fadeOut(n.loading.speed)}),void n.errorCallback.call(e(n.contentSelector)[0],"done"))},_validate:function(t){for(var n in t)if(n.indexOf&&n.indexOf("Selector")>-1&&0===e(t[n]).length)return this._debug("Your "+n+" found no elements."),!1;return!0},bind:function(){this._binding("bind")},destroy:function(){return this.options.state.isDestroyed=!0,this.options.loading.finished(),this._error("destroy")},pause:function(){this._pausing("pause")},resume:function(){this._pausing("resume")},beginAjax:function(n){var i,r,a,o,s=this,l=n.path;if(n.state.currPage++,n.maxPage!==t&&n.state.currPage>n.maxPage)return n.state.isBeyondMaxPage=!0,void this.destroy();switch(i=e(e(n.contentSelector).is("table, tbody")?"<tbody/>":"<div/>"),r="function"==typeof l?l(n.state.currPage):l.join(n.state.currPage),s._debug("heading into ajax",r),a="html"===n.dataType||"json"===n.dataType?n.dataType:"html+callback",n.appendCallback&&"html"===n.dataType&&(a+="+callback"),a){case"html+callback":s._debug("Using HTML via .load() method"),i.load(r+" "+n.itemSelector,t,function(e){s._loadcallback(i,e,r)});break;case"html":s._debug("Using "+a.toUpperCase()+" via $.ajax() method"),e.ajax({url:r,dataType:n.dataType,complete:function(e,t){o="undefined"!=typeof e.isResolved?e.isResolved():"success"===t||"notmodified"===t,o?s._loadcallback(i,e.responseText,r):s._error("end")}});break;case"json":s._debug("Using "+a.toUpperCase()+" via $.ajax() method"),e.ajax({dataType:"json",type:"GET",url:r,success:function(e,a,l){if(o="undefined"!=typeof l.isResolved?l.isResolved():"success"===a||"notmodified"===a,n.appendCallback)if(n.template!==t){var d=n.template(e);i.append(d),o?s._loadcallback(i,d):s._error("end")}else s._debug("template must be defined."),s._error("end");else o?s._loadcallback(i,e,r):s._error("end")},error:function(){s._debug("JSON ajax request failed."),s._error("end")}})}},retrieve:function(n){n=n||null;var i=this,r=i.options;return r.behavior&&this["retrieve_"+r.behavior]!==t?void this["retrieve_"+r.behavior].call(this,n):r.state.isDestroyed?(this._debug("Instance is destroyed"),!1):(r.state.isDuringAjax=!0,void r.loading.start.call(e(r.contentSelector)[0],r))},scroll:function(){var e=this.options,n=e.state;return e.behavior&&this["scroll_"+e.behavior]!==t?void this["scroll_"+e.behavior].call(this):void(n.isDuringAjax||n.isInvalidPage||n.isDone||n.isDestroyed||n.isPaused||this._nearbottom()&&this.retrieve())},toggle:function(){this._pausing()},unbind:function(){this._binding("unbind")},update:function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))}},e.fn.infinitescroll=function(t,n){var i=typeof t;switch(i){case"string":var r=Array.prototype.slice.call(arguments,1);this.each(function(){var n=e.data(this,"infinitescroll");return n&&e.isFunction(n[t])&&"_"!==t.charAt(0)?void n[t].apply(n,r):!1});break;case"object":this.each(function(){var i=e.data(this,"infinitescroll");i?i.update(t):(i=new e.infinitescroll(t,n,this),i.failed||e.data(this,"infinitescroll",i))})}return this};var n,i=e.event;i.special.smartscroll={setup:function(){e(this).bind("scroll",i.special.smartscroll.handler)},teardown:function(){e(this).unbind("scroll",i.special.smartscroll.handler)},handler:function(t,i){var r=this,a=arguments;t.type="smartscroll",n&&clearTimeout(n),n=setTimeout(function(){e(r).trigger("smartscroll",a)},"execAsap"===i?0:100)}},e.fn.smartscroll=function(e){return e?this.bind("smartscroll",e):this.trigger("smartscroll",["execAsap"])}}),function(){}.call(this),$(document).ready(function(){$("#create_post").length>0,$(".datetimepicker").datetimepicker({format:"dddd, MMMM Do YYYY, H:mm:ss ZZ"}),$("#add_friend_btn").click(function(e){e.preventDefault(),$("#submit_friend_btn").show(),$("#friend_list").append("<span class='friend_input_wrapper'> <input class='friend_email_input form_control' name='user_emails[]' placeholder=\"Enter your buddy's email \"/> <a class='friend_cancel'>X</a></span> "),$(".friend_input_wrapper > .friend_cancel ").off("click"),$(".friend_input_wrapper > .friend_cancel ").on("click",function(){$(this).parent(".friend_input_wrapper").remove()})}),$("#submit_friend_btn").click(function(){var e=[];$(".friend_email_input").each(function(){""!=$(this).val()&&e.unshift($(this).val())}),e.length>0&&$.ajax({type:"POST",url:"/batch_invite",data:{user_emails:e},success:function(e){$("#friend_list").html("<p>Invite successful</p>"),$("#progress_level").html(e.progess_level+"%"),$("#progress_name").html(e.progess_name)}})})});var PostsModel=function(){self=this,this.initLoadMore=function(){$(".ui.cards").infinitescroll({navSelector:".pagination",nextSelector:".pagination a[rel=next]",itemSelector:".card"},function(e){var t=$(e);self.$grid.masonry("appended",t),self.$grid.masonry("layout")})},this.init=function(){self.$grid=$("#con").masonry({itemSelector:".card",columnWidth:".card",gutter:10}),self.$grid.imagesLoaded().progress(function(){self.$grid.masonry("layout")}),$('[data-toggle="tooltip"]').tooltip(),self.initLoadMore()}};!function(e){function t(){}function n(e){function n(t){t.prototype.option||(t.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))})}function r(t,n){e.fn[t]=function(r){if("string"==typeof r){for(var o=i.call(arguments,1),s=0,l=this.length;l>s;s++){var d=this[s],u=e.data(d,t);if(u)if(e.isFunction(u[r])&&"_"!==r.charAt(0)){var c=u[r].apply(u,o);if(void 0!==c)return c}else a("no such method '"+r+"' for "+t+" instance");else a("cannot call methods on "+t+" prior to initialization; attempted to call '"+r+"'")}return this}return this.each(function(){var i=e.data(this,t);i?(i.option(r),i._init()):(i=new n(this,r),e.data(this,t,i))})}}if(e){var a="undefined"==typeof console?t:function(e){console.error(e)};return e.bridget=function(e,t){n(t),r(e,t)},e.bridget}}var i=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],n):n("object"==typeof exports?require("jquery"):e.jQuery)}(window),function(e){function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(i=function(e,n,i){e[n+i]=i.handleEvent?function(){var n=t(e);i.handleEvent.call(i,n)}:function(){var n=t(e);i.call(e,n)},e.attachEvent("on"+n,e[n+i])});var r=function(){};n.removeEventListener?r=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(r=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(i){e[t+n]=void 0}});var a={bind:i,unbind:r};"function"==typeof define&&define.amd?define("eventie/eventie",a):"object"==typeof exports?module.exports=a:e.eventie=a}(window),function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,r=this,a=r.EventEmitter;i.getListeners=function(e){var t,n,i=this._getEvents();if(e instanceof RegExp){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,n){var i,r=this.getListenersAsObject(e),a="object"==typeof n;for(i in r)r.hasOwnProperty(i)&&-1===t(r[i],n)&&r[i].push(a?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,n){var i,r,a=this.getListenersAsObject(e);for(r in a)a.hasOwnProperty(r)&&(i=t(a[r],n),-1!==i&&a[r].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,r,a=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)a.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?a.call(this,i,r):o.call(this,i,r));return this},i.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if(e instanceof RegExp)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(e,t){var n,i,r,a,o=this.getListenersAsObject(e);for(r in o)if(o.hasOwnProperty(r))for(i=o[r].length;i--;)n=o[r][i],n.once===!0&&this.removeListener(e,n.listener),a=n.listener.apply(this,t||[]),a===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=a,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:r.EventEmitter=e}.call(this),function(e){function t(e){if(e){if("string"==typeof i[e])return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var t,r=0,a=n.length;a>r;r++)if(t=n[r]+e,"string"==typeof i[t])return t}}var n="Webkit Moz ms Ms O".split(" "),i=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return t}):"object"==typeof exports?module.exports=t:e.getStyleProperty=t}(window),function(e){function t(e){var t=parseFloat(e),n=-1===e.indexOf("%")&&!isNaN(t);return n&&t}function n(){}function i(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0,n=o.length;n>t;t++){var i=o[t];e[i]=0}return e}function r(n){function r(){if(!h){h=!0;var i=e.getComputedStyle;if(d=function(){var e=i?function(e){return i(e,null)}:function(e){return e.currentStyle};return function(t){var n=e(t);return n||a("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),n}}(),u=n("boxSizing")){var r=document.createElement("div");r.style.width="200px",r.style.padding="1px 2px 3px 4px",r.style.borderStyle="solid",r.style.borderWidth="1px 2px 3px 4px",r.style[u]="border-box";var o=document.body||document.documentElement;o.appendChild(r);var s=d(r);c=200===t(s.width),o.removeChild(r)}}}function s(e){if(r(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var n=d(e);if("none"===n.display)return i();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;for(var s=a.isBorderBox=!(!u||!n[u]||"border-box"!==n[u]),h=0,p=o.length;p>h;h++){var f=o[h],g=n[f];g=l(e,g);var m=parseFloat(g);a[f]=isNaN(m)?0:m}var v=a.paddingLeft+a.paddingRight,y=a.paddingTop+a.paddingBottom,b=a.marginLeft+a.marginRight,_=a.marginTop+a.marginBottom,x=a.borderLeftWidth+a.borderRightWidth,w=a.borderTopWidth+a.borderBottomWidth,C=s&&c,T=t(n.width);T!==!1&&(a.width=T+(C?0:v+x));var k=t(n.height);return k!==!1&&(a.height=k+(C?0:y+w)),a.innerWidth=a.width-(v+x),a.innerHeight=a.height-(y+w),a.outerWidth=a.width+b,a.outerHeight=a.height+_,a}}function l(t,n){if(e.getComputedStyle||-1===n.indexOf("%"))return n;var i=t.style,r=i.left,a=t.runtimeStyle,o=a&&a.left;return o&&(a.left=t.currentStyle.left),i.left=n,n=i.pixelLeft,i.left=r,o&&(a.left=o),n}var d,u,c,h=!1;return s}var a="undefined"==typeof console?n:function(e){console.error(e)},o=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],r):"object"==typeof exports?module.exports=r(require("desandro-get-style-property")):e.getSize=r(e.getStyleProperty)}(window),function(e){function t(e){"function"==typeof e&&(t.isReady?e():o.push(e))}function n(e){var n="readystatechange"===e.type&&"complete"!==a.readyState;t.isReady||n||i()}function i(){t.isReady=!0;for(var e=0,n=o.length;n>e;e++){var i=o[e];i()}}function r(r){return"complete"===a.readyState?i():(r.bind(a,"DOMContentLoaded",n),r.bind(a,"readystatechange",n),r.bind(e,"load",n)),t}var a=e.document,o=[];t.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],r):"object"==typeof exports?module.exports=r(require("eventie")):e.docReady=r(e.eventie)}(window),function(e){function t(e,t){return e[o](t)}function n(e){if(!e.parentNode){var t=document.createDocumentFragment();t.appendChild(e)}}function i(e,t){n(e);for(var i=e.parentNode.querySelectorAll(t),r=0,a=i.length;a>r;r++)if(i[r]===e)return!0;return!1}function r(e,i){return n(e),t(e,i)}var a,o=function(){if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0,i=t.length;i>n;n++){var r=t[n],a=r+"MatchesSelector";if(e[a])return a}}();if(o){var s=document.createElement("div"),l=t(s,"div");a=l?t:r}else a=i;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return a}):"object"==typeof exports?module.exports=a:window.matchesSelector=a}(Element.prototype),function(e,t){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(n,i){return t(e,n,i)}):"object"==typeof exports?module.exports=t(e,require("doc-ready"),require("desandro-matches-selector")):e.fizzyUIUtils=t(e,e.docReady,e.matchesSelector)}(window,function(e,t,n){var i={};i.extend=function(e,t){for(var n in t)e[n]=t[n];return e},i.modulo=function(e,t){return(e%t+t)%t};var r=Object.prototype.toString;i.isArray=function(e){return"[object Array]"==r.call(e)},i.makeArray=function(e){var t=[];if(i.isArray(e))t=e;else if(e&&"number"==typeof e.length)for(var n=0,r=e.length;r>n;n++)t.push(e[n]);else t.push(e);return t},i.indexOf=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},i.removeFrom=function(e,t){var n=i.indexOf(e,t);-1!=n&&e.splice(n,1)},i.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1==e.nodeType&&"string"==typeof e.nodeName},i.setText=function(){function e(e,n){t=t||(void 0!==document.documentElement.textContent?"textContent":"innerText"),e[t]=n}var t;return e}(),i.getParent=function(e,t){for(;e!=document.body;)if(e=e.parentNode,n(e,t))return e},i.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},i.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},i.filterFindElements=function(e,t){e=i.makeArray(e);for(var r=[],a=0,o=e.length;o>a;a++){var s=e[a];if(i.isElement(s))if(t){n(s,t)&&r.push(s);for(var l=s.querySelectorAll(t),d=0,u=l.length;u>d;d++)r.push(l[d])}else r.push(s)}return r},i.debounceMethod=function(e,t,n){var i=e.prototype[t],r=t+"Timeout";e.prototype[t]=function(){var e=this[r];e&&clearTimeout(e);var t=arguments,a=this;this[r]=setTimeout(function(){i.apply(a,t),delete a[r]},n||100)}},i.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()};var a=e.console;return i.htmlInit=function(n,r){t(function(){for(var t=i.toDashed(r),o=document.querySelectorAll(".js-"+t),s="data-"+t+"-options",l=0,d=o.length;d>l;l++){var u,c=o[l],h=c.getAttribute(s);try{u=h&&JSON.parse(h)}catch(p){a&&a.error("Error parsing "+s+" on "+c.nodeName.toLowerCase()+(c.id?"#"+c.id:"")+": "+p);continue}var f=new n(c,u),g=e.jQuery;g&&g.data(c,r,f)}})},i}),function(e,t){"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(n,i,r,a){return t(e,n,i,r,a)}):"object"==typeof exports?module.exports=t(e,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(e.Outlayer={},e.Outlayer.Item=t(e,e.EventEmitter,e.getSize,e.getStyleProperty,e.fizzyUIUtils))}(window,function(e,t,n,i,r){function a(e){for(var t in e)return!1;return t=null,!0}function o(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var s=e.getComputedStyle,l=s?function(e){return s(e,null)}:function(e){return e.currentStyle},d=i("transition"),u=i("transform"),c=d&&u,h=!!i("perspective"),p={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[d],f=["transform","transition","transitionDuration","transitionProperty"],g=function(){for(var e={},t=0,n=f.length;n>t;t++){var r=f[t],a=i(r);a&&a!==r&&(e[r]=a)}return e}();r.extend(o.prototype,t.prototype),o.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},o.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},o.prototype.getSize=function(){this.size=n(this.element)},o.prototype.css=function(e){var t=this.element.style;for(var n in e){var i=g[n]||n;t[i]=e[n]}},o.prototype.getPosition=function(){var e=l(this.element),t=this.layout.options,n=t.isOriginLeft,i=t.isOriginTop,r=parseInt(e[n?"left":"right"],10),a=parseInt(e[i?"top":"bottom"],10);r=isNaN(r)?0:r,a=isNaN(a)?0:a;var o=this.layout.size;r-=n?o.paddingLeft:o.paddingRight,a-=i?o.paddingTop:o.paddingBottom,this.position.x=r,this.position.y=a},o.prototype.layoutPosition=function(){var e=this.layout.size,t=this.layout.options,n={},i=t.isOriginLeft?"paddingLeft":"paddingRight",r=t.isOriginLeft?"left":"right",a=t.isOriginLeft?"right":"left",o=this.position.x+e[i];o=t.percentPosition&&!t.isHorizontal?o/e.width*100+"%":o+"px",n[r]=o,n[a]="";var s=t.isOriginTop?"paddingTop":"paddingBottom",l=t.isOriginTop?"top":"bottom",d=t.isOriginTop?"bottom":"top",u=this.position.y+e[s];u=t.percentPosition&&t.isHorizontal?u/e.height*100+"%":u+"px",n[l]=u,n[d]="",this.css(n),this.emitEvent("layout",[this])};var m=h?function(e,t){return"translate3d("+e+"px, "+t+"px, 0)"}:function(e,t){return"translate("+e+"px, "+t+"px)"};o.prototype._transitionTo=function(e,t){this.getPosition();var n=this.position.x,i=this.position.y,r=parseInt(e,10),a=parseInt(t,10),o=r===this.position.x&&a===this.position.y;if(this.setPosition(e,t),o&&!this.isTransitioning)return void this.layoutPosition();var s=e-n,l=t-i,d={},u=this.layout.options;s=u.isOriginLeft?s:-s,l=u.isOriginTop?l:-l,d.transform=m(s,l),this.transition({to:d,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},o.prototype.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},o.prototype.moveTo=c?o.prototype._transitionTo:o.prototype.goTo,o.prototype.setPosition=function(e,t){this.position.x=parseInt(e,10),this.position.y=parseInt(t,10)},o.prototype._nonTransition=function(e){this.css(e.to),e.isCleaning&&this._removeStyles(e.to);for(var t in e.onTransitionEnd)e.onTransitionEnd[t].call(this)},o.prototype._transition=function(e){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(e);var t=this._transn;for(var n in e.onTransitionEnd)t.onEnd[n]=e.onTransitionEnd[n];for(n in e.to)t.ingProperties[n]=!0,e.isCleaning&&(t.clean[n]=!0);if(e.from){this.css(e.from);var i=this.element.offsetHeight;i=null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0};var v=u&&r.toDashed(u)+",opacity";o.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:v,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(p,this,!1))},o.prototype.transition=o.prototype[d?"_transition":"_nonTransition"],o.prototype.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},o.prototype.onotransitionend=function(e){this.ontransitionend(e)};var y={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};o.prototype.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,n=y[e.propertyName]||e.propertyName;if(delete t.ingProperties[n],a(t.ingProperties)&&this.disableTransition(),n in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[n]),n in t.onEnd){var i=t.onEnd[n];i.call(this),delete t.onEnd[n]}this.emitEvent("transitionEnd",[this])}},o.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(p,this,!1),this.isTransitioning=!1},o.prototype._removeStyles=function(e){var t={};for(var n in e)t[n]="";this.css(t)};var b={transitionProperty:"",transitionDuration:""};return o.prototype.removeTransitionStyles=function(){this.css(b)},o.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},o.prototype.remove=function(){if(!d||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var e=this;this.once("transitionEnd",function(){e.removeElem()}),this.hide()},o.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={},n=this.getHideRevealTransitionEndProperty("visibleStyle");t[n]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},o.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},o.prototype.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var n in t)return n},o.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={},n=this.getHideRevealTransitionEndProperty("hiddenStyle");t[n]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},o.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},o.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},o}),function(e,t){"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(n,i,r,a,o){return t(e,n,i,r,a,o)}):"object"==typeof exports?module.exports=t(e,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):e.Outlayer=t(e,e.eventie,e.EventEmitter,e.getSize,e.fizzyUIUtils,e.Outlayer.Item)}(window,function(e,t,n,i,r,a){function o(e,t){var n=r.getQueryElement(e);if(!n)return void(s&&s.error("Bad element for "+this.constructor.namespace+": "+(n||e)));this.element=n,l&&(this.$element=l(this.element)),this.options=r.extend({},this.constructor.defaults),this.option(t);var i=++u;this.element.outlayerGUID=i,c[i]=this,this._create(),this.options.isInitLayout&&this.layout()}var s=e.console,l=e.jQuery,d=function(){},u=0,c={};return o.namespace="outlayer",o.Item=a,o.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},r.extend(o.prototype,n.prototype),o.prototype.option=function(e){r.extend(this.options,e)},o.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),r.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},o.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},o.prototype._itemize=function(e){for(var t=this._filterFindItemElements(e),n=this.constructor.Item,i=[],r=0,a=t.length;a>r;r++){var o=t[r],s=new n(o,this);i.push(s)}return i},o.prototype._filterFindItemElements=function(e){return r.filterFindElements(e,this.options.itemSelector)},o.prototype.getItemElements=function(){for(var e=[],t=0,n=this.items.length;n>t;t++)e.push(this.items[t].element);return e},o.prototype.layout=function(){this._resetLayout(),this._manageStamps();var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},o.prototype._init=o.prototype.layout,o.prototype._resetLayout=function(){this.getSize()},o.prototype.getSize=function(){this.size=i(this.element)},o.prototype._getMeasurement=function(e,t){var n,a=this.options[e];a?("string"==typeof a?n=this.element.querySelector(a):r.isElement(a)&&(n=a),this[e]=n?i(n)[t]:a):this[e]=0},o.prototype.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},o.prototype._getItemsForLayout=function(e){for(var t=[],n=0,i=e.length;i>n;n++){var r=e[n];r.isIgnored||t.push(r)}return t},o.prototype._layoutItems=function(e,t){if(this._emitCompleteOnItems("layout",e),e&&e.length){for(var n=[],i=0,r=e.length;r>i;i++){var a=e[i],o=this._getItemLayoutPosition(a);o.item=a,o.isInstant=t||a.isLayoutInstant,n.push(o)}this._processLayoutQueue(n)}},o.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},o.prototype._processLayoutQueue=function(e){for(var t=0,n=e.length;n>t;t++){var i=e[t];this._positionItem(i.item,i.x,i.y,i.isInstant)}},o.prototype._positionItem=function(e,t,n,i){i?e.goTo(t,n):e.moveTo(t,n)},o.prototype._postLayout=function(){this.resizeContainer()},o.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},o.prototype._getContainerSize=d,o.prototype._setContainerMeasure=function(e,t){if(void 0!==e){var n=this.size;n.isBorderBox&&(e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},o.prototype._emitCompleteOnItems=function(e,t){function n(){r.emitEvent(e+"Complete",[t])}function i(){o++,o===a&&n()}var r=this,a=t.length;if(!t||!a)return void n();for(var o=0,s=0,l=t.length;l>s;s++){var d=t[s];d.once(e,i)}},o.prototype.ignore=function(e){var t=this.getItem(e);
t&&(t.isIgnored=!0)},o.prototype.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},o.prototype.stamp=function(e){if(e=this._find(e)){this.stamps=this.stamps.concat(e);for(var t=0,n=e.length;n>t;t++){var i=e[t];this.ignore(i)}}},o.prototype.unstamp=function(e){if(e=this._find(e))for(var t=0,n=e.length;n>t;t++){var i=e[t];r.removeFrom(this.stamps,i),this.unignore(i)}},o.prototype._find=function(e){return e?("string"==typeof e&&(e=this.element.querySelectorAll(e)),e=r.makeArray(e)):void 0},o.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var e=0,t=this.stamps.length;t>e;e++){var n=this.stamps[e];this._manageStamp(n)}}},o.prototype._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},o.prototype._manageStamp=d,o.prototype._getElementOffset=function(e){var t=e.getBoundingClientRect(),n=this._boundingRect,r=i(e),a={left:t.left-n.left-r.marginLeft,top:t.top-n.top-r.marginTop,right:n.right-t.right-r.marginRight,bottom:n.bottom-t.bottom-r.marginBottom};return a},o.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},o.prototype.bindResize=function(){this.isResizeBound||(t.bind(e,"resize",this),this.isResizeBound=!0)},o.prototype.unbindResize=function(){this.isResizeBound&&t.unbind(e,"resize",this),this.isResizeBound=!1},o.prototype.onresize=function(){function e(){t.resize(),delete t.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout(e,100)},o.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},o.prototype.needsResizeLayout=function(){var e=i(this.element),t=this.size&&e;return t&&e.innerWidth!==this.size.innerWidth},o.prototype.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},o.prototype.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},o.prototype.prepended=function(e){var t=this._itemize(e);if(t.length){var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(n)}},o.prototype.reveal=function(e){this._emitCompleteOnItems("reveal",e);for(var t=e&&e.length,n=0;t&&t>n;n++){var i=e[n];i.reveal()}},o.prototype.hide=function(e){this._emitCompleteOnItems("hide",e);for(var t=e&&e.length,n=0;t&&t>n;n++){var i=e[n];i.hide()}},o.prototype.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},o.prototype.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},o.prototype.getItem=function(e){for(var t=0,n=this.items.length;n>t;t++){var i=this.items[t];if(i.element===e)return i}},o.prototype.getItems=function(e){e=r.makeArray(e);for(var t=[],n=0,i=e.length;i>n;n++){var a=e[n],o=this.getItem(a);o&&t.push(o)}return t},o.prototype.remove=function(e){var t=this.getItems(e);if(this._emitCompleteOnItems("remove",t),t&&t.length)for(var n=0,i=t.length;i>n;n++){var a=t[n];a.remove(),r.removeFrom(this.items,a)}},o.prototype.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="";for(var t=0,n=this.items.length;n>t;t++){var i=this.items[t];i.destroy()}this.unbindResize();var r=this.element.outlayerGUID;delete c[r],delete this.element.outlayerGUID,l&&l.removeData(this.element,this.constructor.namespace)},o.data=function(e){e=r.getQueryElement(e);var t=e&&e.outlayerGUID;return t&&c[t]},o.create=function(e,t){function n(){o.apply(this,arguments)}return Object.create?n.prototype=Object.create(o.prototype):r.extend(n.prototype,o.prototype),n.prototype.constructor=n,n.defaults=r.extend({},o.defaults),r.extend(n.defaults,t),n.prototype.settings={},n.namespace=e,n.data=o.data,n.Item=function(){a.apply(this,arguments)},n.Item.prototype=new a,r.htmlInit(n,e),l&&l.bridget&&l.bridget(e,n),n},o.Item=a,o}),function(e,t){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],t):"object"==typeof exports?module.exports=t(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):e.Masonry=t(e.Outlayer,e.getSize,e.fizzyUIUtils)}(window,function(e,t,n){var i=e.create("masonry");return i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;for(this.colYs=[];e--;)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],n=e&&e.element;this.columnWidth=n&&t(n).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,r=this.containerWidth+this.gutter,a=r/i,o=i-r%i,s=o&&1>o?"round":"floor";a=Math[s](a),this.cols=Math.max(a,1)},i.prototype.getContainerWidth=function(){var e=this.options.isFitWidth?this.element.parentNode:this.element,n=t(e);this.containerWidth=n&&n.innerWidth},i.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,i=t&&1>t?"round":"ceil",r=Math[i](e.size.outerWidth/this.columnWidth);r=Math.min(r,this.cols);for(var a=this._getColGroup(r),o=Math.min.apply(Math,a),s=n.indexOf(a,o),l={x:this.columnWidth*s,y:o},d=o+e.size.outerHeight,u=this.cols+1-a.length,c=0;u>c;c++)this.colYs[s+c]=d;return l},i.prototype._getColGroup=function(e){if(2>e)return this.colYs;for(var t=[],n=this.cols+1-e,i=0;n>i;i++){var r=this.colYs.slice(i,i+e);t[i]=Math.max.apply(Math,r)}return t},i.prototype._manageStamp=function(e){var n=t(e),i=this._getElementOffset(e),r=this.options.isOriginLeft?i.left:i.right,a=r+n.outerWidth,o=Math.floor(r/this.columnWidth);o=Math.max(0,o);var s=Math.floor(a/this.columnWidth);s-=a%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var l=(this.options.isOriginTop?i.top:i.bottom)+n.outerHeight,d=o;s>=d;d++)this.colYs[d]=Math.max(l,this.colYs[d])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this.options.isFitWidth&&(e.width=this._getContainerFitWidth()),e},i.prototype._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!==this.containerWidth},i}),function(){}.call(this),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t){var r,a=t||window.event,o=[].slice.call(arguments,1),s=0,l=0,d=0,u=0,c=0;return t=e.event.fix(a),t.type="mousewheel",a.wheelDelta&&(s=a.wheelDelta),a.detail&&(s=-1*a.detail),a.deltaY&&(d=-1*a.deltaY,s=d),a.deltaX&&(l=a.deltaX,s=-1*l),void 0!==a.wheelDeltaY&&(d=a.wheelDeltaY),void 0!==a.wheelDeltaX&&(l=-1*a.wheelDeltaX),u=Math.abs(s),(!n||n>u)&&(n=u),c=Math.max(Math.abs(d),Math.abs(l)),(!i||i>c)&&(i=c),r=s>0?"floor":"ceil",s=Math[r](s/n),l=Math[r](l/i),d=Math[r](d/i),o.unshift(t,s,l,d),(e.event.dispatch||e.event.handle).apply(this,o)}var n,i,r=["wheel","mousewheel","DOMMouseScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(e.event.fixHooks)for(var o=r.length;o;)e.event.fixHooks[r[--o]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=a.length;e;)this.addEventListener(a[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=a.length;e;)this.removeEventListener(a[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(){function e(){var e={};return e.FRAMERATE=30,e.MAX_VIRTUAL_PIXELS=3e4,e.init=function(t){e.Definitions={},e.Styles={},e.Animations=[],e.Images=[],e.ctx=t,e.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(e,t){this.viewPorts.push({width:e,height:t})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(e){return null!=e&&"number"==typeof e?e:"x"==e?this.width():"y"==e?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},e.init(),e.ImagesLoaded=function(){for(var t=0;t<e.Images.length;t++)if(!e.Images[t].loaded)return!1;return!0},e.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},e.compressSpaces=function(e){return e.replace(/[\s\r\t\n]+/gm," ")},e.ajax=function(e){var t;return t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),t?(t.open("GET",e,!1),t.send(null),t.responseText):null},e.parseXml=function(e){if(window.DOMParser){var t=new DOMParser;return t.parseFromString(e,"text/xml")}e=e.replace(/<!DOCTYPE svg[^>]*>/,"");var n=new ActiveXObject("Microsoft.XMLDOM");return n.async="false",n.loadXML(e),n},e.Property=function(e,t){this.name=e,this.value=t},e.Property.prototype.getValue=function(){return this.value},e.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},e.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var e=parseFloat(this.value);return(this.value+"").match(/%$/)&&(e/=100),e},e.Property.prototype.valueOrDefault=function(e){return this.hasValue()?this.value:e},e.Property.prototype.numValueOrDefault=function(e){return this.hasValue()?this.numValue():e},e.Property.prototype.addOpacity=function(t){var n=this.value;if(null!=t&&""!=t&&"string"==typeof this.value){var i=new a(this.value);i.ok&&(n="rgba("+i.r+", "+i.g+", "+i.b+", "+t+")")}return new e.Property(this.name,n)},e.Property.prototype.getDefinition=function(){var t=this.value.match(/#([^\)']+)/);return t&&(t=t[1]),t||(t=this.value),e.Definitions[t]},e.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},e.Property.prototype.getFillStyleDefinition=function(t,n){var i=this.getDefinition();return null!=i&&i.createGradient?i.createGradient(e.ctx,t,n):null!=i&&i.createPattern?i.createPattern(e.ctx,t):null},e.Property.prototype.getDPI=function(){return 96},e.Property.prototype.getEM=function(t){var n=12,i=new e.Property("fontSize",e.Font.Parse(e.ctx.font).fontSize);return i.hasValue()&&(n=i.toPixels(t)),n},e.Property.prototype.getUnits=function(){var e=this.value+"";return e.replace(/[0-9\.\-]/g,"")},e.Property.prototype.toPixels=function(t,n){if(!this.hasValue())return 0;var i=this.value+"";if(i.match(/em$/))return this.numValue()*this.getEM(t);if(i.match(/ex$/))return this.numValue()*this.getEM(t)/2;if(i.match(/px$/))return this.numValue();if(i.match(/pt$/))return this.numValue()*this.getDPI(t)*(1/72);if(i.match(/pc$/))return 15*this.numValue();if(i.match(/cm$/))return this.numValue()*this.getDPI(t)/2.54;if(i.match(/mm$/))return this.numValue()*this.getDPI(t)/25.4;if(i.match(/in$/))return this.numValue()*this.getDPI(t);if(i.match(/%$/))return this.numValue()*e.ViewPort.ComputeSize(t);var r=this.numValue();return n&&1>r?r*e.ViewPort.ComputeSize(t):r},e.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(/s$/)?1e3*this.numValue():(e.match(/ms$/),this.numValue())},e.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var e=this.value+"";return e.match(/deg$/)?this.numValue()*(Math.PI/180):e.match(/grad$/)?this.numValue()*(Math.PI/200):e.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)},e.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(t,n,i,r,a,o){var s=null!=o?this.Parse(o):this.CreateFont("","","","","",e.ctx.font);return{fontFamily:a||s.fontFamily,fontSize:r||s.fontSize,fontStyle:t||s.fontStyle,fontWeight:i||s.fontWeight,fontVariant:n||s.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var t=this;this.Parse=function(n){for(var i={},r=e.trim(e.compressSpaces(n||"")).split(" "),a={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},o="",s=0;s<r.length;s++)a.fontStyle||-1==t.Styles.indexOf(r[s])?a.fontVariant||-1==t.Variants.indexOf(r[s])?a.fontWeight||-1==t.Weights.indexOf(r[s])?a.fontSize?"inherit"!=r[s]&&(o+=r[s]):("inherit"!=r[s]&&(i.fontSize=r[s].split("/")[0]),a.fontStyle=a.fontVariant=a.fontWeight=a.fontSize=!0):("inherit"!=r[s]&&(i.fontWeight=r[s]),a.fontStyle=a.fontVariant=a.fontWeight=!0):("inherit"!=r[s]&&(i.fontVariant=r[s]),a.fontStyle=a.fontVariant=!0):("inherit"!=r[s]&&(i.fontStyle=r[s]),a.fontStyle=!0);return""!=o&&(i.fontFamily=o),i}},e.ToNumberArray=function(t){for(var n=e.trim(e.compressSpaces((t||"").replace(/,/g," "))).split(" "),i=0;i<n.length;i++)n[i]=parseFloat(n[i]);return n},e.Point=function(e,t){this.x=e,this.y=t},e.Point.prototype.angleTo=function(e){return Math.atan2(e.y-this.y,e.x-this.x)},e.Point.prototype.applyTransform=function(e){var t=this.x*e[0]+this.y*e[2]+e[4],n=this.x*e[1]+this.y*e[3]+e[5];this.x=t,this.y=n},e.CreatePoint=function(t){var n=e.ToNumberArray(t);return new e.Point(n[0],n[1])},e.CreatePath=function(t){for(var n=e.ToNumberArray(t),i=[],r=0;r<n.length;r+=2)i.push(new e.Point(n[r],n[r+1]));return i},e.BoundingBox=function(e,t,n,r){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(e,t){null!=e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),null!=t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},this.addX=function(e){this.addPoint(e,null)},this.addY=function(e){this.addPoint(null,e)},this.addBoundingBox=function(e){this.addPoint(e.x1,e.y1),this.addPoint(e.x2,e.y2)},this.addQuadraticCurve=function(e,t,n,i,r,a){var o=e+2/3*(n-e),s=t+2/3*(i-t),l=o+1/3*(r-e),d=s+1/3*(a-t);this.addBezierCurve(e,t,o,l,s,d,r,a)},this.addBezierCurve=function(e,t,n,r,a,o,s,l){var d=[e,t],u=[n,r],c=[a,o],h=[s,l];for(this.addPoint(d[0],d[1]),this.addPoint(h[0],h[1]),i=0;1>=i;i++){var p=function(e){return Math.pow(1-e,3)*d[i]+3*Math.pow(1-e,2)*e*u[i]+3*(1-e)*Math.pow(e,2)*c[i]+Math.pow(e,3)*h[i]},f=6*d[i]-12*u[i]+6*c[i],g=-3*d[i]+9*u[i]-9*c[i]+3*h[i],m=3*u[i]-3*d[i];if(0!=g){var v=Math.pow(f,2)-4*m*g;if(!(0>v)){var y=(-f+Math.sqrt(v))/(2*g);y>0&&1>y&&(0==i&&this.addX(p(y)),1==i&&this.addY(p(y)));var b=(-f-Math.sqrt(v))/(2*g);b>0&&1>b&&(0==i&&this.addX(p(b)),1==i&&this.addY(p(b)))}}else{if(0==f)continue;var _=-m/f;_>0&&1>_&&(0==i&&this.addX(p(_)),1==i&&this.addY(p(_)))}}},this.isPointInBox=function(e,t){return this.x1<=e&&e<=this.x2&&this.y1<=t&&t<=this.y2},this.addPoint(e,t),this.addPoint(n,r)},e.Transform=function(t){var n=this;this.Type={},this.Type.translate=function(t){this.p=e.CreatePoint(t),this.apply=function(e){e.translate(this.p.x||0,this.p.y||0)},this.applyToPoint=function(e){e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(t){var n=e.ToNumberArray(t);this.angle=new e.Property("angle",n[0]),this.cx=n[1]||0,this.cy=n[2]||0,this.apply=function(e){e.translate(this.cx,this.cy),e.rotate(this.angle.toRadians()),e.translate(-this.cx,-this.cy)},this.applyToPoint=function(e){var t=this.angle.toRadians();e.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),e.applyTransform([Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0]),e.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(t){this.p=e.CreatePoint(t),this.apply=function(e){e.scale(this.p.x||1,this.p.y||this.p.x||1)},this.applyToPoint=function(e){e.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(t){this.m=e.ToNumberArray(t),this.apply=function(e){e.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.applyToPoint=function(e){e.applyTransform(this.m)}},this.Type.SkewBase=function(t){this.base=n.Type.matrix,this.base(t),this.angle=new e.Property("angle",t)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(e){this.base=n.Type.SkewBase,this.base(e),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(e){this.base=n.Type.SkewBase,this.base(e),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].apply(e)},this.applyToPoint=function(e){for(var t=0;t<this.transforms.length;t++)this.transforms[t].applyToPoint(e)};for(var i=e.trim(e.compressSpaces(t)).replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),r=0;r<i.length;r++){var a=i[r].split("(")[0],o=i[r].split("(")[1].replace(")",""),s=new this.Type[a](o);s.type=a,this.transforms.push(s)}},e.AspectRatio=function(t,n,i,r,a,o,s,l,d,u){n=e.compressSpaces(n),n=n.replace(/^defer\s/,"");var c=n.split(" ")[0]||"xMidYMid",h=n.split(" ")[1]||"meet",p=i/r,f=a/o,g=Math.min(p,f),m=Math.max(p,f);"meet"==h&&(r*=g,o*=g),"slice"==h&&(r*=m,o*=m),d=new e.Property("refX",d),u=new e.Property("refY",u),d.hasValue()&&u.hasValue()?t.translate(-g*d.toPixels("x"),-g*u.toPixels("y")):(c.match(/^xMid/)&&("meet"==h&&g==f||"slice"==h&&m==f)&&t.translate(i/2-r/2,0),c.match(/YMid$/)&&("meet"==h&&g==p||"slice"==h&&m==p)&&t.translate(0,a/2-o/2),c.match(/^xMax/)&&("meet"==h&&g==f||"slice"==h&&m==f)&&t.translate(i-r,0),c.match(/YMax$/)&&("meet"==h&&g==p||"slice"==h&&m==p)&&t.translate(0,a-o)),"none"==c?t.scale(p,f):"meet"==h?t.scale(g,g):"slice"==h&&t.scale(m,m),t.translate(null==s?0:-s,null==l?0:-l)},e.Element={},e.EmptyProperty=new e.Property("EMPTY",""),e.Element.ElementBase=function(t){if(this.attributes={},this.styles={},this.children=[],this.attribute=function(t,n){var i=this.attributes[t];return null!=i?i:(1==n&&(i=new e.Property(t,""),this.attributes[t]=i),i||e.EmptyProperty)},this.style=function(t,n){var i=this.styles[t];if(null!=i)return i;var r=this.attribute(t);if(null!=r&&r.hasValue())return this.styles[t]=r,r;var a=this.parent;if(null!=a){var o=a.style(t);if(null!=o&&o.hasValue())return o}return 1==n&&(i=new e.Property(t,""),this.styles[t]=i),i||e.EmptyProperty},this.render=function(e){if("none"!=this.style("display").value&&"hidden"!=this.attribute("visibility").value){if(e.save(),this.attribute("mask").hasValue()){var t=this.attribute("mask").getDefinition();null!=t&&t.apply(e,this)}else if(this.style("filter").hasValue()){var n=this.style("filter").getDefinition();null!=n&&n.apply(e,this)}else this.setContext(e),this.renderChildren(e),this.clearContext(e);e.restore()}},this.setContext=function(){},this.clearContext=function(){},this.renderChildren=function(e){for(var t=0;t<this.children.length;t++)this.children[t].render(e)},this.addChild=function(t,n){var i=t;n&&(i=e.CreateElement(t)),i.parent=this,this.children.push(i)},null!=t&&1==t.nodeType){for(var n=0;n<t.childNodes.length;n++){var i=t.childNodes[n];1==i.nodeType&&this.addChild(i,!0),this.captureTextNodes&&3==i.nodeType&&this.addChild(new e.Element.tspan(i),!1)}for(var n=0;n<t.attributes.length;n++){var r=t.attributes[n];this.attributes[r.nodeName]=new e.Property(r.nodeName,r.nodeValue)}var a=e.Styles[t.nodeName];if(null!=a)for(var o in a)this.styles[o]=a[o];if(this.attribute("class").hasValue())for(var s=e.compressSpaces(this.attribute("class").value).split(" "),l=0;l<s.length;l++){if(a=e.Styles["."+s[l]],null!=a)for(var o in a)this.styles[o]=a[o];if(a=e.Styles[t.nodeName+"."+s[l]],null!=a)for(var o in a)this.styles[o]=a[o]}if(this.attribute("id").hasValue()){var a=e.Styles["#"+this.attribute("id").value];if(null!=a)for(var o in a)this.styles[o]=a[o]}if(this.attribute("style").hasValue())for(var a=this.attribute("style").value.split(";"),n=0;n<a.length;n++)if(""!=e.trim(a[n])){var d=a[n].split(":"),o=e.trim(d[0]),u=e.trim(d[1]);this.styles[o]=new e.Property(o,u)}this.attribute("id").hasValue()&&null==e.Definitions[this.attribute("id").value]&&(e.Definitions[this.attribute("id").value]=this)}},e.Element.RenderedElementBase=function(t){this.base=e.Element.ElementBase,this.base(t),this.setContext=function(t){if(this.style("fill").isUrlDefinition()){var n=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity"));null!=n&&(t.fillStyle=n)}else if(this.style("fill").hasValue()){var i=this.style("fill");"currentColor"==i.value&&(i.value=this.style("color").value),t.fillStyle="none"==i.value?"rgba(0,0,0,0)":i.value}if(this.style("fill-opacity").hasValue()){var i=new e.Property("fill",t.fillStyle);i=i.addOpacity(this.style("fill-opacity").value),t.fillStyle=i.value}if(this.style("stroke").isUrlDefinition()){var n=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity"));null!=n&&(t.strokeStyle=n)}else if(this.style("stroke").hasValue()){var r=this.style("stroke");"currentColor"==r.value&&(r.value=this.style("color").value),t.strokeStyle="none"==r.value?"rgba(0,0,0,0)":r.value}if(this.style("stroke-opacity").hasValue()){var r=new e.Property("stroke",t.strokeStyle);r=r.addOpacity(this.style("stroke-opacity").value),t.strokeStyle=r.value}if(this.style("stroke-width").hasValue()){var a=this.style("stroke-width").toPixels();t.lineWidth=0==a?.001:a}if(this.style("stroke-linecap").hasValue()&&(t.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(t.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(t.miterLimit=this.style("stroke-miterlimit").value),"undefined"!=typeof t.font&&(t.font=e.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.attribute("transform").hasValue()){var o=new e.Transform(this.attribute("transform").value);o.apply(t)}if(this.attribute("clip-path").hasValue()){var s=this.attribute("clip-path").getDefinition();null!=s&&s.apply(t)}this.style("opacity").hasValue()&&(t.globalAlpha=this.style("opacity").numValue())}},e.Element.RenderedElementBase.prototype=new e.Element.ElementBase,e.Element.PathElementBase=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.path=function(t){return null!=t&&t.beginPath(),new e.BoundingBox},this.renderChildren=function(t){this.path(t),e.Mouse.checkPath(this,t),""!=t.fillStyle&&t.fill(),""!=t.strokeStyle&&t.stroke();var n=this.getMarkers();if(null!=n){if(this.style("marker-start").isUrlDefinition()){var i=this.style("marker-start").getDefinition();i.render(t,n[0][0],n[0][1])}if(this.style("marker-mid").isUrlDefinition())for(var i=this.style("marker-mid").getDefinition(),r=1;r<n.length-1;r++)i.render(t,n[r][0],n[r][1]);if(this.style("marker-end").isUrlDefinition()){var i=this.style("marker-end").getDefinition();i.render(t,n[n.length-1][0],n[n.length-1][1])}}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},e.Element.PathElementBase.prototype=new e.Element.RenderedElementBase,e.Element.svg=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.baseClearContext=this.clearContext,this.clearContext=function(t){this.baseClearContext(t),e.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(t){t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,this.baseSetContext(t),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),t.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var n=e.ViewPort.width(),i=e.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),"undefined"==typeof this.root){n=this.attribute("width").toPixels("x"),i=this.attribute("height").toPixels("y");var r=0,a=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(r=-this.attribute("refX").toPixels("x"),a=-this.attribute("refY").toPixels("y")),t.beginPath(),t.moveTo(r,a),t.lineTo(n,a),t.lineTo(n,i),t.lineTo(r,i),t.closePath(),t.clip()}if(e.ViewPort.SetCurrent(n,i),this.attribute("viewBox").hasValue()){var o=e.ToNumberArray(this.attribute("viewBox").value),s=o[0],l=o[1];n=o[2],i=o[3],e.AspectRatio(t,this.attribute("preserveAspectRatio").value,e.ViewPort.width(),n,e.ViewPort.height(),i,s,l,this.attribute("refX").value,this.attribute("refY").value),e.ViewPort.RemoveCurrent(),e.ViewPort.SetCurrent(o[2],o[3])}}},e.Element.svg.prototype=new e.Element.RenderedElementBase,e.Element.rect=function(t){this.base=e.Element.PathElementBase,this.base(t),this.path=function(t){var n=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y"),o=this.attribute("rx").toPixels("x"),s=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(s=o),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(o=s),o=Math.min(o,r/2),s=Math.min(s,a/2),null!=t&&(t.beginPath(),t.moveTo(n+o,i),t.lineTo(n+r-o,i),t.quadraticCurveTo(n+r,i,n+r,i+s),t.lineTo(n+r,i+a-s),t.quadraticCurveTo(n+r,i+a,n+r-o,i+a),t.lineTo(n+o,i+a),t.quadraticCurveTo(n,i+a,n,i+a-s),t.lineTo(n,i+s),t.quadraticCurveTo(n,i,n+o,i),t.closePath()),new e.BoundingBox(n,i,n+r,i+a)}},e.Element.rect.prototype=new e.Element.PathElementBase,e.Element.circle=function(t){this.base=e.Element.PathElementBase,this.base(t),this.path=function(t){var n=this.attribute("cx").toPixels("x"),i=this.attribute("cy").toPixels("y"),r=this.attribute("r").toPixels();return null!=t&&(t.beginPath(),t.arc(n,i,r,0,2*Math.PI,!0),t.closePath()),new e.BoundingBox(n-r,i-r,n+r,i+r)}},e.Element.circle.prototype=new e.Element.PathElementBase,e.Element.ellipse=function(t){this.base=e.Element.PathElementBase,this.base(t),this.path=function(t){var n=4*((Math.sqrt(2)-1)/3),i=this.attribute("rx").toPixels("x"),r=this.attribute("ry").toPixels("y"),a=this.attribute("cx").toPixels("x"),o=this.attribute("cy").toPixels("y");return null!=t&&(t.beginPath(),t.moveTo(a,o-r),t.bezierCurveTo(a+n*i,o-r,a+i,o-n*r,a+i,o),t.bezierCurveTo(a+i,o+n*r,a+n*i,o+r,a,o+r),t.bezierCurveTo(a-n*i,o+r,a-i,o+n*r,a-i,o),t.bezierCurveTo(a-i,o-n*r,a-n*i,o-r,a,o-r),t.closePath()),new e.BoundingBox(a-i,o-r,a+i,o+r)}},e.Element.ellipse.prototype=new e.Element.PathElementBase,e.Element.line=function(t){this.base=e.Element.PathElementBase,this.base(t),this.getPoints=function(){return[new e.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new e.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(t){var n=this.getPoints();return null!=t&&(t.beginPath(),t.moveTo(n[0].x,n[0].y),t.lineTo(n[1].x,n[1].y)),new e.BoundingBox(n[0].x,n[0].y,n[1].x,n[1].y)},this.getMarkers=function(){var e=this.getPoints(),t=e[0].angleTo(e[1]);return[[e[0],t],[e[1],t]]}},e.Element.line.prototype=new e.Element.PathElementBase,e.Element.polyline=function(t){this.base=e.Element.PathElementBase,this.base(t),this.points=e.CreatePath(this.attribute("points").value),this.path=function(t){var n=new e.BoundingBox(this.points[0].x,this.points[0].y);null!=t&&(t.beginPath(),t.moveTo(this.points[0].x,this.points[0].y));for(var i=1;i<this.points.length;i++)n.addPoint(this.points[i].x,this.points[i].y),null!=t&&t.lineTo(this.points[i].x,this.points[i].y);return n},this.getMarkers=function(){for(var e=[],t=0;t<this.points.length-1;t++)e.push([this.points[t],this.points[t].angleTo(this.points[t+1])]);return e.push([this.points[this.points.length-1],e[e.length-1][1]]),e}},e.Element.polyline.prototype=new e.Element.PathElementBase,e.Element.polygon=function(t){this.base=e.Element.polyline,this.base(t),this.basePath=this.path,this.path=function(e){var t=this.basePath(e);return null!=e&&(e.lineTo(this.points[0].x,this.points[0].y),e.closePath()),t}},e.Element.polygon.prototype=new e.Element.polyline,e.Element.path=function(t){this.base=e.Element.PathElementBase,this.base(t);var n=this.attribute("d").value;n=n.replace(/,/gm," "),n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2"),n=n.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([0-9])([+\-])/gm,"$1 $2"),n=n.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),n=n.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),n=e.compressSpaces(n),n=e.trim(n),this.PathParser=new function(t){this.tokens=t.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new e.Point(0,0),this.control=new e.Point(0,0),this.current=new e.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return this.isEnd()?!0:null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var t=new e.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(t)},this.getAsControlPoint=function(){var e=this.getPoint();return this.control=e,e},this.getAsCurrentPoint=function(){var e=this.getPoint();return this.current=e,e},this.getReflectedControlPoint=function(){if("c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase())return this.current;var t=new e.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return t},this.makeAbsolute=function(e){return this.isRelativeCommand()&&(e.x+=this.current.x,e.y+=this.current.y),e},this.addMarker=function(e,t,n){null!=n&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(n)),this.addMarkerAngle(e,null==t?null:t.angleTo(e))},this.addMarkerAngle=function(e,t){this.points.push(e),this.angles.push(t)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var e=0;e<this.angles.length;e++)if(null==this.angles[e])for(var t=e+1;t<this.angles.length;t++)if(null!=this.angles[t]){this.angles[e]=this.angles[t];break}return this.angles}}(n),this.path=function(t){var n=this.PathParser;n.reset();var i=new e.BoundingBox;for(null!=t&&t.beginPath();!n.isEnd();)switch(n.nextCommand(),n.command){case"M":case"m":var r=n.getAsCurrentPoint();for(n.addMarker(r),i.addPoint(r.x,r.y),null!=t&&t.moveTo(r.x,r.y),n.start=n.current;!n.isCommandOrEnd();){var r=n.getAsCurrentPoint();n.addMarker(r,n.start),i.addPoint(r.x,r.y),null!=t&&t.lineTo(r.x,r.y)}break;case"L":case"l":for(;!n.isCommandOrEnd();){var a=n.current,r=n.getAsCurrentPoint();n.addMarker(r,a),i.addPoint(r.x,r.y),null!=t&&t.lineTo(r.x,r.y)}break;case"H":case"h":for(;!n.isCommandOrEnd();){var o=new e.Point((n.isRelativeCommand()?n.current.x:0)+n.getScalar(),n.current.y);n.addMarker(o,n.current),n.current=o,i.addPoint(n.current.x,n.current.y),null!=t&&t.lineTo(n.current.x,n.current.y)}break;case"V":case"v":for(;!n.isCommandOrEnd();){var o=new e.Point(n.current.x,(n.isRelativeCommand()?n.current.y:0)+n.getScalar());n.addMarker(o,n.current),n.current=o,i.addPoint(n.current.x,n.current.y),null!=t&&t.lineTo(n.current.x,n.current.y)}break;case"C":case"c":for(;!n.isCommandOrEnd();){var s=n.current,l=n.getPoint(),d=n.getAsControlPoint(),u=n.getAsCurrentPoint();n.addMarker(u,d,l),i.addBezierCurve(s.x,s.y,l.x,l.y,d.x,d.y,u.x,u.y),null!=t&&t.bezierCurveTo(l.x,l.y,d.x,d.y,u.x,u.y)}break;case"S":case"s":for(;!n.isCommandOrEnd();){var s=n.current,l=n.getReflectedControlPoint(),d=n.getAsControlPoint(),u=n.getAsCurrentPoint();n.addMarker(u,d,l),i.addBezierCurve(s.x,s.y,l.x,l.y,d.x,d.y,u.x,u.y),null!=t&&t.bezierCurveTo(l.x,l.y,d.x,d.y,u.x,u.y)}break;case"Q":case"q":for(;!n.isCommandOrEnd();){var s=n.current,d=n.getAsControlPoint(),u=n.getAsCurrentPoint();
n.addMarker(u,d,d),i.addQuadraticCurve(s.x,s.y,d.x,d.y,u.x,u.y),null!=t&&t.quadraticCurveTo(d.x,d.y,u.x,u.y)}break;case"T":case"t":for(;!n.isCommandOrEnd();){var s=n.current,d=n.getReflectedControlPoint();n.control=d;var u=n.getAsCurrentPoint();n.addMarker(u,d,d),i.addQuadraticCurve(s.x,s.y,d.x,d.y,u.x,u.y),null!=t&&t.quadraticCurveTo(d.x,d.y,u.x,u.y)}break;case"A":case"a":for(;!n.isCommandOrEnd();){var s=n.current,c=n.getScalar(),h=n.getScalar(),p=n.getScalar()*(Math.PI/180),f=n.getScalar(),g=n.getScalar(),u=n.getAsCurrentPoint(),m=new e.Point(Math.cos(p)*(s.x-u.x)/2+Math.sin(p)*(s.y-u.y)/2,-Math.sin(p)*(s.x-u.x)/2+Math.cos(p)*(s.y-u.y)/2),v=Math.pow(m.x,2)/Math.pow(c,2)+Math.pow(m.y,2)/Math.pow(h,2);v>1&&(c*=Math.sqrt(v),h*=Math.sqrt(v));var y=(f==g?-1:1)*Math.sqrt((Math.pow(c,2)*Math.pow(h,2)-Math.pow(c,2)*Math.pow(m.y,2)-Math.pow(h,2)*Math.pow(m.x,2))/(Math.pow(c,2)*Math.pow(m.y,2)+Math.pow(h,2)*Math.pow(m.x,2)));isNaN(y)&&(y=0);var b=new e.Point(y*c*m.y/h,y*-h*m.x/c),_=new e.Point((s.x+u.x)/2+Math.cos(p)*b.x-Math.sin(p)*b.y,(s.y+u.y)/2+Math.sin(p)*b.x+Math.cos(p)*b.y),x=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},w=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(x(e)*x(t))},C=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(w(e,t))},T=C([1,0],[(m.x-b.x)/c,(m.y-b.y)/h]),k=[(m.x-b.x)/c,(m.y-b.y)/h],S=[(-m.x-b.x)/c,(-m.y-b.y)/h],E=C(k,S);w(k,S)<=-1&&(E=Math.PI),w(k,S)>=1&&(E=0);var D=1-g?1:-1,A=T+D*(E/2),P=new e.Point(_.x+c*Math.cos(A),_.y+h*Math.sin(A));if(n.addMarkerAngle(P,A-D*Math.PI/2),n.addMarkerAngle(u,A-D*Math.PI),i.addPoint(u.x,u.y),null!=t){var w=c>h?c:h,M=c>h?1:c/h,I=c>h?h/c:1;t.translate(_.x,_.y),t.rotate(p),t.scale(M,I),t.arc(0,0,w,T,T+E,1-g),t.scale(1/M,1/I),t.rotate(-p),t.translate(-_.x,-_.y)}}break;case"Z":case"z":null!=t&&t.closePath(),n.current=n.start}return i},this.getMarkers=function(){for(var e=this.PathParser.getMarkerPoints(),t=this.PathParser.getMarkerAngles(),n=[],i=0;i<e.length;i++)n.push([e[i],t[i]]);return n}},e.Element.path.prototype=new e.Element.PathElementBase,e.Element.pattern=function(t){this.base=e.Element.ElementBase,this.base(t),this.createPattern=function(t){var n=this.attribute("width").toPixels("x",!0),i=this.attribute("height").toPixels("y",!0),r=new e.Element.svg;r.attributes.viewBox=new e.Property("viewBox",this.attribute("viewBox").value),r.attributes.width=new e.Property("width",n+"px"),r.attributes.height=new e.Property("height",i+"px"),r.attributes.transform=new e.Property("transform",this.attribute("patternTransform").value),r.children=this.children;var a=document.createElement("canvas");a.width=n,a.height=i;var o=a.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&o.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(var s=-1;1>=s;s++)for(var l=-1;1>=l;l++)o.save(),o.translate(s*a.width,l*a.height),r.render(o),o.restore();var d=t.createPattern(a,"repeat");return d}},e.Element.pattern.prototype=new e.Element.ElementBase,e.Element.marker=function(t){this.base=e.Element.ElementBase,this.base(t),this.baseRender=this.render,this.render=function(t,n,i){t.translate(n.x,n.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&t.rotate(i),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&t.scale(t.lineWidth,t.lineWidth),t.save();var r=new e.Element.svg;r.attributes.viewBox=new e.Property("viewBox",this.attribute("viewBox").value),r.attributes.refX=new e.Property("refX",this.attribute("refX").value),r.attributes.refY=new e.Property("refY",this.attribute("refY").value),r.attributes.width=new e.Property("width",this.attribute("markerWidth").value),r.attributes.height=new e.Property("height",this.attribute("markerHeight").value),r.attributes.fill=new e.Property("fill",this.attribute("fill").valueOrDefault("black")),r.attributes.stroke=new e.Property("stroke",this.attribute("stroke").valueOrDefault("none")),r.children=this.children,r.render(t),t.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&t.scale(1/t.lineWidth,1/t.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&t.rotate(-i),t.translate(-n.x,-n.y)}},e.Element.marker.prototype=new e.Element.ElementBase,e.Element.defs=function(t){this.base=e.Element.ElementBase,this.base(t),this.render=function(){}},e.Element.defs.prototype=new e.Element.ElementBase,e.Element.GradientBase=function(t){this.base=e.Element.ElementBase,this.base(t),this.gradientUnits=this.attribute("gradientUnits").valueOrDefault("objectBoundingBox"),this.stops=[];for(var n=0;n<this.children.length;n++){var i=this.children[n];"stop"==i.type&&this.stops.push(i)}this.getGradient=function(){},this.createGradient=function(t,n,i){var r=this;this.attribute("xlink:href").hasValue()&&(r=this.attribute("xlink:href").getDefinition());var a=function(t){if(i.hasValue()){var n=new e.Property("color",t);return n.addOpacity(i.value).value}return t},o=this.getGradient(t,n);if(null==o)return a(r.stops[r.stops.length-1].color);for(var s=0;s<r.stops.length;s++)o.addColorStop(r.stops[s].offset,a(r.stops[s].color));if(this.attribute("gradientTransform").hasValue()){var l=e.ViewPort.viewPorts[0],d=new e.Element.rect;d.attributes.x=new e.Property("x",-e.MAX_VIRTUAL_PIXELS/3),d.attributes.y=new e.Property("y",-e.MAX_VIRTUAL_PIXELS/3),d.attributes.width=new e.Property("width",e.MAX_VIRTUAL_PIXELS),d.attributes.height=new e.Property("height",e.MAX_VIRTUAL_PIXELS);var u=new e.Element.g;u.attributes.transform=new e.Property("transform",this.attribute("gradientTransform").value),u.children=[d];var c=new e.Element.svg;c.attributes.x=new e.Property("x",0),c.attributes.y=new e.Property("y",0),c.attributes.width=new e.Property("width",l.width),c.attributes.height=new e.Property("height",l.height),c.children=[u];var h=document.createElement("canvas");h.width=l.width,h.height=l.height;var p=h.getContext("2d");return p.fillStyle=o,c.render(p),p.createPattern(h,"no-repeat")}return o}},e.Element.GradientBase.prototype=new e.Element.ElementBase,e.Element.linearGradient=function(t){this.base=e.Element.GradientBase,this.base(t),this.getGradient=function(e,t){var n=t.getBoundingBox();this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var i="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),r="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),a="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),o="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return i==a&&r==o?null:e.createLinearGradient(i,r,a,o)}},e.Element.linearGradient.prototype=new e.Element.GradientBase,e.Element.radialGradient=function(t){this.base=e.Element.GradientBase,this.base(t),this.getGradient=function(e,t){var n=t.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var i="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),r="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),a=i,o=r;this.attribute("fx").hasValue()&&(a="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(o="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var s="objectBoundingBox"==this.gradientUnits?(n.width()+n.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return e.createRadialGradient(a,o,0,i,r,s)}},e.Element.radialGradient.prototype=new e.Element.GradientBase,e.Element.stop=function(t){this.base=e.Element.ElementBase,this.base(t),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),this.offset>1&&(this.offset=1);var n=this.style("stop-color");this.style("stop-opacity").hasValue()&&(n=n.addOpacity(this.style("stop-opacity").value)),this.color=n.value},e.Element.stop.prototype=new e.Element.ElementBase,e.Element.AnimateBase=function(t){this.base=e.Element.ElementBase,this.base(t),e.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var e=this.attribute("attributeType").value,t=this.attribute("attributeName").value;return"CSS"==e?this.parent.style(t,!0):this.parent.attribute(t,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(e){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"!=this.attribute("repeatCount").value&&"indefinite"!=this.attribute("repeatDur").value)return"remove"!=this.attribute("fill").valueOrDefault("remove")||this.removed?!1:(this.removed=!0,this.getProperty().value=this.initialValue,!0);this.duration=0}this.duration=this.duration+e;var t=!1;if(this.begin<this.duration){var n=this.calcValue();if(this.attribute("type").hasValue()){var i=this.attribute("type").value;n=i+"("+n+")"}this.getProperty().value=n,t=!0}return t},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var t={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var n=t.progress*(this.values.value.length-1),i=Math.floor(n),r=Math.ceil(n);t.from=new e.Property("from",parseFloat(this.values.value[i])),t.to=new e.Property("to",parseFloat(this.values.value[r])),t.progress=(n-i)/(r-i)}else t.from=this.from,t.to=this.to;return t}},e.Element.AnimateBase.prototype=new e.Element.ElementBase,e.Element.animate=function(t){this.base=e.Element.AnimateBase,this.base(t),this.calcValue=function(){var e=this.progress(),t=e.from.numValue()+(e.to.numValue()-e.from.numValue())*e.progress;return t+this.initialUnits}},e.Element.animate.prototype=new e.Element.AnimateBase,e.Element.animateColor=function(t){this.base=e.Element.AnimateBase,this.base(t),this.calcValue=function(){var e=this.progress(),t=new a(e.from.value),n=new a(e.to.value);if(t.ok&&n.ok){var i=t.r+(n.r-t.r)*e.progress,r=t.g+(n.g-t.g)*e.progress,o=t.b+(n.b-t.b)*e.progress;return"rgb("+parseInt(i,10)+","+parseInt(r,10)+","+parseInt(o,10)+")"}return this.attribute("from").value}},e.Element.animateColor.prototype=new e.Element.AnimateBase,e.Element.animateTransform=function(t){this.base=e.Element.AnimateBase,this.base(t),this.calcValue=function(){for(var t=this.progress(),n=e.ToNumberArray(t.from.value),i=e.ToNumberArray(t.to.value),r="",a=0;a<n.length;a++)r+=n[a]+(i[a]-n[a])*t.progress+" ";return r}},e.Element.animateTransform.prototype=new e.Element.animate,e.Element.font=function(t){this.base=e.Element.ElementBase,this.base(t),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var n=0;n<this.children.length;n++){var i=this.children[n];"font-face"==i.type?(this.fontFace=i,i.style("font-family").hasValue()&&(e.Definitions[i.style("font-family").value]=this)):"missing-glyph"==i.type?this.missingGlyph=i:"glyph"==i.type&&(""!=i.arabicForm?(this.isRTL=!0,this.isArabic=!0,"undefined"==typeof this.glyphs[i.unicode]&&(this.glyphs[i.unicode]=[]),this.glyphs[i.unicode][i.arabicForm]=i):this.glyphs[i.unicode]=i)}},e.Element.font.prototype=new e.Element.ElementBase,e.Element.fontface=function(t){this.base=e.Element.ElementBase,this.base(t),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},e.Element.fontface.prototype=new e.Element.ElementBase,e.Element.missingglyph=function(t){this.base=e.Element.path,this.base(t),this.horizAdvX=0},e.Element.missingglyph.prototype=new e.Element.path,e.Element.glyph=function(t){this.base=e.Element.path,this.base(t),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},e.Element.glyph.prototype=new e.Element.path,e.Element.text=function(t){this.captureTextNodes=!0,this.base=e.Element.RenderedElementBase,this.base(t),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),this.style("dominant-baseline").hasValue()&&(e.textBaseline=this.style("dominant-baseline").value),this.style("alignment-baseline").hasValue()&&(e.textBaseline=this.style("alignment-baseline").value)},this.renderChildren=function(e){this.textAnchor=this.style("text-anchor").valueOrDefault("start"),this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y");for(var t=0;t<this.children.length;t++)this.renderChild(e,this,t)},this.renderChild=function(e,t,n){var i=t.children[n];i.attribute("x").hasValue()?i.x=i.attribute("x").toPixels("x"):(this.attribute("dx").hasValue()&&(this.y+=this.attribute("dx").toPixels("x")),i.attribute("dx").hasValue()&&(this.x+=i.attribute("dx").toPixels("x")),i.x=this.x);var r=i.measureText(e);if("start"!=this.textAnchor&&(0==n||i.attribute("x").hasValue())){for(var a=r,o=n+1;o<this.children.length;o++){var s=this.children[o];if(s.attribute("x").hasValue())break;a+=s.measureText(e)}i.x-="end"==this.textAnchor?a:a/2}this.x=i.x+r,i.attribute("y").hasValue()?i.y=i.attribute("y").toPixels("y"):(this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),i.attribute("dy").hasValue()&&(this.y+=i.attribute("dy").toPixels("y")),i.y=this.y),this.y=i.y,i.render(e);for(var n=0;n<i.children.length;n++)this.renderChild(e,i,n)}},e.Element.text.prototype=new e.Element.RenderedElementBase,e.Element.TextElementBase=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.getGlyph=function(e,t,n){var i=t[n],r=null;if(e.isArabic){var a="isolated";(0==n||" "==t[n-1])&&n<t.length-2&&" "!=t[n+1]&&(a="terminal"),n>0&&" "!=t[n-1]&&n<t.length-2&&" "!=t[n+1]&&(a="medial"),n>0&&" "!=t[n-1]&&(n==t.length-1||" "==t[n+1])&&(a="initial"),"undefined"!=typeof e.glyphs[i]&&(r=e.glyphs[i][a],null==r&&"glyph"==e.glyphs[i].type&&(r=e.glyphs[i]))}else r=e.glyphs[i];return null==r&&(r=e.missingGlyph),r},this.renderChildren=function(t){var n=this.parent.style("font-family").getDefinition();if(null==n)""!=t.fillStyle&&t.fillText(e.compressSpaces(this.getText()),this.x,this.y),""!=t.strokeStyle&&t.strokeText(e.compressSpaces(this.getText()),this.x,this.y);else{var i=this.parent.style("font-size").numValueOrDefault(e.Font.Parse(e.ctx.font).fontSize),r=this.parent.style("font-style").valueOrDefault(e.Font.Parse(e.ctx.font).fontStyle),a=this.getText();n.isRTL&&(a=a.split("").reverse().join(""));for(var o=e.ToNumberArray(this.parent.attribute("dx").value),s=0;s<a.length;s++){var l=this.getGlyph(n,a,s),d=i/n.fontFace.unitsPerEm;t.translate(this.x,this.y),t.scale(d,-d);var u=t.lineWidth;t.lineWidth=t.lineWidth*n.fontFace.unitsPerEm/i,"italic"==r&&t.transform(1,0,.4,1,0,0),l.render(t),"italic"==r&&t.transform(1,0,-.4,1,0,0),t.lineWidth=u,t.scale(1/d,-1/d),t.translate(-this.x,-this.y),this.x+=i*(l.horizAdvX||n.horizAdvX)/n.fontFace.unitsPerEm,"undefined"==typeof o[s]||isNaN(o[s])||(this.x+=o[s])}}},this.getText=function(){},this.measureText=function(t){var n=this.parent.style("font-family").getDefinition();if(null!=n){var i=this.parent.style("font-size").numValueOrDefault(e.Font.Parse(e.ctx.font).fontSize),r=0,a=this.getText();n.isRTL&&(a=a.split("").reverse().join(""));for(var o=e.ToNumberArray(this.parent.attribute("dx").value),s=0;s<a.length;s++){var l=this.getGlyph(n,a,s);r+=(l.horizAdvX||n.horizAdvX)*i/n.fontFace.unitsPerEm,"undefined"==typeof o[s]||isNaN(o[s])||(r+=o[s])}return r}var d=e.compressSpaces(this.getText());if(!t.measureText)return 10*d.length;t.save(),this.setContext(t);var u=t.measureText(d).width;return t.restore(),u}},e.Element.TextElementBase.prototype=new e.Element.RenderedElementBase,e.Element.tspan=function(t){this.captureTextNodes=!0,this.base=e.Element.TextElementBase,this.base(t),this.text=t.nodeValue||t.text||"",this.getText=function(){return this.text}},e.Element.tspan.prototype=new e.Element.TextElementBase,e.Element.tref=function(t){this.base=e.Element.TextElementBase,this.base(t),this.getText=function(){var e=this.attribute("xlink:href").getDefinition();return null!=e?e.children[0].getText():void 0}},e.Element.tref.prototype=new e.Element.TextElementBase,e.Element.a=function(t){this.base=e.Element.TextElementBase,this.base(t),this.hasText=!0;for(var n=0;n<t.childNodes.length;n++)3!=t.childNodes[n].nodeType&&(this.hasText=!1);this.text=this.hasText?t.childNodes[0].nodeValue:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(t){if(this.hasText){this.baseRenderChildren(t);var n=new e.Property("fontSize",e.Font.Parse(e.ctx.font).fontSize);e.Mouse.checkBoundingBox(this,new e.BoundingBox(this.x,this.y-n.toPixels("y"),this.x+this.measureText(t),this.y))}else{var i=new e.Element.g;i.children=this.children,i.parent=this,i.render(t)}},this.onclick=function(){window.open(this.attribute("xlink:href").value)},this.onmousemove=function(){e.ctx.canvas.style.cursor="pointer"}},e.Element.a.prototype=new e.Element.TextElementBase,e.Element.image=function(t){this.base=e.Element.RenderedElementBase,this.base(t);var n=this.attribute("xlink:href").value,i=n.match(/\.svg$/);if(e.Images.push(this),this.loaded=!1,i)this.img=e.ajax(n),this.loaded=!0;else{this.img=document.createElement("img");var r=this;this.img.onload=function(){r.loaded=!0},this.img.onerror=function(){console&&console.log('ERROR: image "'+n+'" not found'),r.loaded=!0},this.img.src=n}this.renderChildren=function(t){var n=this.attribute("x").toPixels("x"),r=this.attribute("y").toPixels("y"),a=this.attribute("width").toPixels("x"),o=this.attribute("height").toPixels("y");0!=a&&0!=o&&(t.save(),i?t.drawSvg(this.img,n,r,a,o):(t.translate(n,r),e.AspectRatio(t,this.attribute("preserveAspectRatio").value,a,this.img.width,o,this.img.height,0,0),t.drawImage(this.img,0,0)),t.restore())},this.getBoundingBox=function(){var t=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),i=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y");return new e.BoundingBox(t,n,t+i,n+r)}},e.Element.image.prototype=new e.Element.RenderedElementBase,e.Element.g=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.getBoundingBox=function(){for(var t=new e.BoundingBox,n=0;n<this.children.length;n++)t.addBoundingBox(this.children[n].getBoundingBox());return t}},e.Element.g.prototype=new e.Element.RenderedElementBase,e.Element.symbol=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.baseSetContext=this.setContext,this.setContext=function(t){if(this.baseSetContext(t),this.attribute("viewBox").hasValue()){var n=e.ToNumberArray(this.attribute("viewBox").value),i=n[0],r=n[1];width=n[2],height=n[3],e.AspectRatio(t,this.attribute("preserveAspectRatio").value,this.attribute("width").toPixels("x"),width,this.attribute("height").toPixels("y"),height,i,r),e.ViewPort.SetCurrent(n[2],n[3])}}},e.Element.symbol.prototype=new e.Element.RenderedElementBase,e.Element.style=function(t){this.base=e.Element.ElementBase,this.base(t);for(var n="",i=0;i<t.childNodes.length;i++)n+=t.childNodes[i].nodeValue;n=n.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,""),n=e.compressSpaces(n);for(var r=n.split("}"),i=0;i<r.length;i++)if(""!=e.trim(r[i]))for(var a=r[i].split("{"),o=a[0].split(","),s=a[1].split(";"),l=0;l<o.length;l++){var d=e.trim(o[l]);if(""!=d){for(var u={},c=0;c<s.length;c++){var h=s[c].indexOf(":"),p=s[c].substr(0,h),f=s[c].substr(h+1,s[c].length-h);null!=p&&null!=f&&(u[e.trim(p)]=new e.Property(e.trim(p),e.trim(f)))}if(e.Styles[d]=u,"@font-face"==d)for(var g=u["font-family"].value.replace(/"/g,""),m=u.src.value.split(","),v=0;v<m.length;v++)if(m[v].indexOf('format("svg")')>0)for(var y=m[v].indexOf("url"),b=m[v].indexOf(")",y),_=m[v].substr(y+5,b-y-6),x=e.parseXml(e.ajax(_)),w=x.getElementsByTagName("font"),C=0;C<w.length;C++){var T=e.CreateElement(w[C]);e.Definitions[g]=T}}}},e.Element.style.prototype=new e.Element.ElementBase,e.Element.use=function(t){this.base=e.Element.RenderedElementBase,this.base(t),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),this.attribute("x").hasValue()&&e.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&e.translate(0,this.attribute("y").toPixels("y"))},this.getDefinition=function(){var e=this.attribute("xlink:href").getDefinition();return this.attribute("width").hasValue()&&(e.attribute("width",!0).value=this.attribute("width").value),this.attribute("height").hasValue()&&(e.attribute("height",!0).value=this.attribute("height").value),e},this.path=function(e){var t=this.getDefinition();null!=t&&t.path(e)},this.renderChildren=function(e){var t=this.getDefinition();if(null!=t){var n=t.parent;t.parent=null,t.render(e),t.parent=n}}},e.Element.use.prototype=new e.Element.RenderedElementBase,e.Element.mask=function(t){this.base=e.Element.ElementBase,this.base(t),this.apply=function(e,t){var n=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y"),o=t.attribute("mask").value;t.attribute("mask").value="";var s=document.createElement("canvas");s.width=n+r,s.height=i+a;var l=s.getContext("2d");this.renderChildren(l);var d=document.createElement("canvas");d.width=n+r,d.height=i+a;var u=d.getContext("2d");t.render(u),u.globalCompositeOperation="destination-in",u.fillStyle=l.createPattern(s,"no-repeat"),u.fillRect(0,0,n+r,i+a),e.fillStyle=u.createPattern(d,"no-repeat"),e.fillRect(0,0,n+r,i+a),t.attribute("mask").value=o},this.render=function(){}},e.Element.mask.prototype=new e.Element.ElementBase,e.Element.clipPath=function(t){this.base=e.Element.ElementBase,this.base(t),this.apply=function(e){for(var t=0;t<this.children.length;t++)this.children[t].path&&(this.children[t].path(e),e.clip())},this.render=function(){}},e.Element.clipPath.prototype=new e.Element.ElementBase,e.Element.filter=function(t){this.base=e.Element.ElementBase,this.base(t),this.apply=function(e,t){var n=t.getBoundingBox(),i=this.attribute("x").toPixels("x"),r=this.attribute("y").toPixels("y");("image"==t.type||0==i||0==r)&&(i=n.x1,r=n.y1);var a=this.attribute("width").toPixels("x"),o=this.attribute("height").toPixels("y");("image"==t.type||0==a||0==o)&&(a=n.width(),o=n.height());var s=t.style("filter").value;t.style("filter").value="";var l="image"==t.type?0:.2,d=l*a,u=l*o,c=document.createElement("canvas");c.width=a+2*d,c.height=o+2*u;var h=c.getContext("2d");h.translate(-i+d,-r+u),t.render(h);for(var p=0;p<this.children.length;p++)this.children[p].apply(h,0,0,a+2*d,o+2*u);e.drawImage(c,0,0,a+2*d,o+2*u,i-d,r-u,a+2*d,o+2*u),t.style("filter",!0).value=s},this.render=function(){}},e.Element.filter.prototype=new e.Element.ElementBase,e.Element.feColorMatrix=function(t){function n(e,t,n,i,r,a){return e[n*i*4+4*t+a]}function i(e,t,n,i,r,a,o){e[n*i*4+4*t+a]=o}this.base=e.Element.ElementBase,this.base(t),this.apply=function(e,t,r,a,o){for(var s=e.getImageData(0,0,a,o),r=0;o>r;r++)for(var t=0;a>t;t++){var l=n(s.data,t,r,a,o,0),d=n(s.data,t,r,a,o,1),u=n(s.data,t,r,a,o,2),c=(l+d+u)/3;i(s.data,t,r,a,o,0,c),i(s.data,t,r,a,o,1,c),i(s.data,t,r,a,o,2,c)}e.clearRect(0,0,a,o),e.putImageData(s,0,0)}},e.Element.filter.prototype=new e.Element.feColorMatrix,e.Element.feGaussianBlur=function(t){function n(e){e=Math.max(e,.01);var t=Math.ceil(4*e)+1;mask=[];for(var n=0;t>n;n++)mask[n]=Math.exp(-.5*(n/e)*(n/e));return mask}function i(e){for(var t=0,n=1;n<e.length;n++)t+=Math.abs(e[n]);t=2*t+Math.abs(e[0]);for(var n=0;n<e.length;n++)e[n]/=t;return e}function r(e,t,n,i,r){for(var s=0;r>s;s++)for(var l=0;i>l;l++)for(var d=a(e,l,s,i,r,3)/255,u=0;4>u;u++){for(var c=n[0]*(0==d?255:a(e,l,s,i,r,u))*(0==d||3==u?1:d),h=1;h<n.length;h++){var p=a(e,Math.max(l-h,0),s,i,r,3)/255,f=a(e,Math.min(l+h,i-1),s,i,r,3)/255;c+=n[h]*((0==p?255:a(e,Math.max(l-h,0),s,i,r,u))*(0==p||3==u?1:p)+(0==f?255:a(e,Math.min(l+h,i-1),s,i,r,u))*(0==f||3==u?1:f))}o(t,s,l,r,i,u,c)}}function a(e,t,n,i,r,a){return e[n*i*4+4*t+a]}function o(e,t,n,i,r,a,o){e[n*i*4+4*t+a]=o}function s(e,t,a,o){var s=e.getImageData(0,0,t,a),l=n(o);l=i(l),tmp=[],r(s.data,tmp,l,t,a),r(tmp,s.data,l,a,t),e.clearRect(0,0,t,a),e.putImageData(s,0,0)}this.base=e.Element.ElementBase,this.base(t),this.apply=function(e,t,n,i,r){s(e,i,r,this.attribute("stdDeviation").numValue())}},e.Element.filter.prototype=new e.Element.feGaussianBlur,e.Element.title=function(){},e.Element.title.prototype=new e.Element.ElementBase,e.Element.desc=function(){},e.Element.desc.prototype=new e.Element.ElementBase,e.Element.MISSING=function(e){console&&console.log("ERROR: Element '"+e.nodeName+"' not yet implemented.")},e.Element.MISSING.prototype=new e.Element.ElementBase,e.CreateElement=function(t){var n=t.nodeName.replace(/^[^:]+:/,"");n=n.replace(/\-/g,"");var i=null;return i="undefined"!=typeof e.Element[n]?new e.Element[n](t):new e.Element.MISSING(t),i.type=t.nodeName,i},e.load=function(t,n){e.loadXml(t,e.ajax(n))},e.loadXml=function(t,n){e.loadXmlDoc(t,e.parseXml(n))},e.loadXmlDoc=function(t,n){e.init(t);var i=function(e){for(var n=t.canvas;n;)e.x-=n.offsetLeft,e.y-=n.offsetTop,n=n.offsetParent;return window.scrollX&&(e.x+=window.scrollX),window.scrollY&&(e.y+=window.scrollY),e};1!=e.opts.ignoreMouse&&(t.canvas.onclick=function(t){var n=i(new e.Point(null!=t?t.clientX:event.clientX,null!=t?t.clientY:event.clientY));e.Mouse.onclick(n.x,n.y)},t.canvas.onmousemove=function(t){var n=i(new e.Point(null!=t?t.clientX:event.clientX,null!=t?t.clientY:event.clientY));e.Mouse.onmousemove(n.x,n.y)});var r=e.CreateElement(n.documentElement);r.root=!0;var a=!0,o=function(){e.ViewPort.Clear(),t.canvas.parentNode&&e.ViewPort.SetCurrent(t.canvas.parentNode.clientWidth,t.canvas.parentNode.clientHeight),1!=e.opts.ignoreDimensions&&(r.style("width").hasValue()&&(t.canvas.width=r.style("width").toPixels("x"),t.canvas.style.width=t.canvas.width+"px"),r.style("height").hasValue()&&(t.canvas.height=r.style("height").toPixels("y"),t.canvas.style.height=t.canvas.height+"px"));var n=t.canvas.clientWidth||t.canvas.width,i=t.canvas.clientHeight||t.canvas.height;if(1==e.opts.ignoreDimensions&&r.style("width").hasValue()&&r.style("height").hasValue()&&(n=r.style("width").toPixels("x"),i=r.style("height").toPixels("y")),e.ViewPort.SetCurrent(n,i),null!=e.opts.offsetX&&(r.attribute("x",!0).value=e.opts.offsetX),null!=e.opts.offsetY&&(r.attribute("y",!0).value=e.opts.offsetY),null!=e.opts.scaleWidth&&null!=e.opts.scaleHeight){var o=1,s=1,l=e.ToNumberArray(r.attribute("viewBox").value);r.attribute("width").hasValue()?o=r.attribute("width").toPixels("x")/e.opts.scaleWidth:isNaN(l[2])||(o=l[2]/e.opts.scaleWidth),r.attribute("height").hasValue()?s=r.attribute("height").toPixels("y")/e.opts.scaleHeight:isNaN(l[3])||(s=l[3]/e.opts.scaleHeight),r.attribute("width",!0).value=e.opts.scaleWidth,r.attribute("height",!0).value=e.opts.scaleHeight,r.attribute("viewBox",!0).value="0 0 "+n*o+" "+i*s,r.attribute("preserveAspectRatio",!0).value="none"}1!=e.opts.ignoreClear&&t.clearRect(0,0,n,i),r.render(t),a&&(a=!1,"function"==typeof e.opts.renderCallback&&e.opts.renderCallback())},s=!0;e.ImagesLoaded()&&(s=!1,o()),e.intervalID=setInterval(function(){var t=!1;if(s&&e.ImagesLoaded()&&(s=!1,t=!0),1!=e.opts.ignoreMouse&&(t|=e.Mouse.hasEvents()),1!=e.opts.ignoreAnimation)for(var n=0;n<e.Animations.length;n++)t|=e.Animations[n].update(1e3/e.FRAMERATE);"function"==typeof e.opts.forceRedraw&&1==e.opts.forceRedraw()&&(t=!0),t&&(o(),e.Mouse.runEvents())},1e3/e.FRAMERATE)},e.stop=function(){e.intervalID&&clearInterval(e.intervalID)},e.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(e,t){this.events.push({type:"onclick",x:e,y:t,run:function(e){e.onclick&&e.onclick()}})},this.onmousemove=function(e,t){this.events.push({type:"onmousemove",x:e,y:t,run:function(e){e.onmousemove&&e.onmousemove()}})},this.eventElements=[],this.checkPath=function(e,t){for(var n=0;n<this.events.length;n++){var i=this.events[n];t.isPointInPath&&t.isPointInPath(i.x,i.y)&&(this.eventElements[n]=e)}},this.checkBoundingBox=function(e,t){for(var n=0;n<this.events.length;n++){var i=this.events[n];t.isPointInBox(i.x,i.y)&&(this.eventElements[n]=e)}},this.runEvents=function(){e.ctx.canvas.style.cursor="";for(var t=0;t<this.events.length;t++)for(var n=this.events[t],i=this.eventElements[t];i;)n.run(i),i=i.parent;this.events=[],this.eventElements=[]}},e}this.canvg=function(t,n,i){if(null!=t||null!=n||null!=i){i=i||{},"string"==typeof t&&(t=document.getElementById(t)),null!=t.svg&&t.svg.stop();var r=e();(1!=t.childNodes.length||"OBJECT"!=t.childNodes[0].nodeName)&&(t.svg=r),r.opts=i;var a=t.getContext("2d");"undefined"!=typeof n.documentElement?r.loadXmlDoc(a,n):"<"==n.substr(0,1)?r.loadXml(a,n):r.load(a,n)}else for(var o=document.getElementsByTagName("svg"),s=0;s<o.length;s++){var l=o[s],d=document.createElement("canvas");d.width=l.clientWidth,d.height=l.clientHeight,l.parentNode.insertBefore(d,l),l.parentNode.removeChild(l);var u=document.createElement("div");u.appendChild(l),canvg(d,u.innerHTML)}}}(),window.CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(e,t,n,i,r){canvg(this.canvas,e,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:t,offsetY:n,scaleWidth:i,scaleHeight:r})}),function(e,t){var n,i,r,a,o,s,l,d,u,c,h,p,f,g,m,v,y,b,_,x,w,C,T,k;n=function(e){return new n.prototype.init(e)},"undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=n:e.Globalize=n,n.cultures={},n.prototype={constructor:n,init:function(e){return this.cultures=n.cultures,this.cultureSelector=e,this}},n.prototype.init.prototype=n.prototype,n.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},n.cultures["default"].calendar=n.cultures["default"].calendars.standard,n.cultures.en=n.cultures["default"],n.cultureSelector="en",i=/^0x[a-f0-9]+$/i,r=/^[+\-]?infinity$/i,a=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,o=/^\s+|\s+$/g,s=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},l=function(e,t){return e.substr(e.length-t.length)===t},d=function(){var e,n,i,r,a,o,s=arguments[0]||{},l=1,p=arguments.length,f=!1;for("boolean"==typeof s&&(f=s,s=arguments[1]||{},l=2),"object"==typeof s||c(s)||(s={});p>l;l++)if(null!=(e=arguments[l]))for(n in e)i=s[n],r=e[n],s!==r&&(f&&r&&(h(r)||(a=u(r)))?(a?(a=!1,o=i&&u(i)?i:[]):o=i&&h(i)?i:{},s[n]=d(f,o,r)):r!==t&&(s[n]=r));return s},u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=function(e){return"[object Function]"===Object.prototype.toString.call(e)
},h=function(e){return"[object Object]"===Object.prototype.toString.call(e)},p=function(e,t){return 0===e.indexOf(t)},f=function(e){return(e+"").replace(o,"")},g=function(e){return isNaN(e)?0/0:Math[0>e?"ceil":"floor"](e)},m=function(e,t,n){var i;for(i=e.length;t>i;i+=1)e=n?"0"+e:e+"0";return e},v=function(e,t){for(var n=0,i=!1,r=0,a=e.length;a>r;r++){var o=e.charAt(r);switch(o){case"'":i?t.push("'"):n++,i=!1;break;case"\\":i&&t.push("\\"),i=!i;break;default:t.push(o),i=!1}}return n},y=function(e,t){t=t||"F";var n,i=e.patterns,r=t.length;if(1===r){if(n=i[t],!n)throw"Invalid date format string '"+t+"'.";t=n}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},b=function(e,t,n){function i(e,t){var n,i=e+"";return t>1&&i.length<t?(n=_[t-2]+i,n.substr(n.length-t,t)):n=i}function r(){return f||g?f:(f=T.test(t),g=!0,f)}function a(e,t){if(m)return m[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();default:throw"Invalid part value "+t}}var o,s=n.calendar,l=s.convert;if(!t||!t.length||"i"===t){if(n&&n.name.length)if(l)o=b(e,s.patterns.F,n);else{var d=new Date(e.getTime()),u=w(e,s.eras);d.setFullYear(C(e,s,u)),o=d.toLocaleString()}else o=e.toString();return o}var c=s.eras,h="s"===t;t=y(s,t),o=[];var p,f,g,m,_=["0","00","000"],T=/([^d]|^)(d|dd)([^d]|$)/g,k=0,S=x();for(!h&&l&&(m=l.fromGregorian(e));;){var E=S.lastIndex,D=S.exec(t),A=t.slice(E,D?D.index:t.length);if(k+=v(A,o),!D)break;if(k%2)o.push(D[0]);else{var P=D[0],M=P.length;switch(P){case"ddd":case"dddd":var I=3===M?s.days.namesAbbr:s.days.names;o.push(I[e.getDay()]);break;case"d":case"dd":f=!0,o.push(i(a(e,2),M));break;case"MMM":case"MMMM":var B=a(e,1);o.push(s.monthsGenitive&&r()?s.monthsGenitive[3===M?"namesAbbr":"names"][B]:s.months[3===M?"namesAbbr":"names"][B]);break;case"M":case"MM":o.push(i(a(e,1)+1,M));break;case"y":case"yy":case"yyyy":B=m?m[0]:C(e,s,w(e,c),h),4>M&&(B%=100),o.push(i(B,M));break;case"h":case"hh":p=e.getHours()%12,0===p&&(p=12),o.push(i(p,M));break;case"H":case"HH":o.push(i(e.getHours(),M));break;case"m":case"mm":o.push(i(e.getMinutes(),M));break;case"s":case"ss":o.push(i(e.getSeconds(),M));break;case"t":case"tt":B=e.getHours()<12?s.AM?s.AM[0]:" ":s.PM?s.PM[0]:" ",o.push(1===M?B.charAt(0):B);break;case"f":case"ff":case"fff":o.push(i(e.getMilliseconds(),3).substr(0,M));break;case"z":case"zz":p=e.getTimezoneOffset()/60,o.push((0>=p?"+":"-")+i(Math.floor(Math.abs(p)),M));break;case"zzz":p=e.getTimezoneOffset()/60,o.push((0>=p?"+":"-")+i(Math.floor(Math.abs(p)),2)+":"+i(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":s.eras&&o.push(s.eras[w(e,c)].name);break;case"/":o.push(s["/"]);break;default:throw"Invalid date format pattern '"+P+"'."}}}return o.join("")},function(){var e;e=function(e,t,n){var i=n.groupSizes,r=i[0],a=1,o=Math.pow(10,t),s=Math.round(e*o)/o;isFinite(s)||(s=e),e=s;var l=e+"",d="",u=l.split(/e/i),c=u.length>1?parseInt(u[1],10):0;l=u[0],u=l.split("."),l=u[0],d=u.length>1?u[1]:"",c>0?(d=m(d,c,!1),l+=d.slice(0,c),d=d.substr(c)):0>c&&(c=-c,l=m(l,c+1,!0),d=l.slice(-c,l.length)+d,l=l.slice(0,-c)),d=t>0?n["."]+(d.length>t?d.slice(0,t):m(d,t)):"";for(var h=l.length-1,p=n[","],f="";h>=0;){if(0===r||r>h)return l.slice(0,h+1)+(f.length?p+f+d:d);f=l.slice(h-r+1,h+1)+(f.length?p+f:""),h-=r,a<i.length&&(r=i[a],a++)}return l.slice(0,h+1)+p+f+d},_=function(t,n,i){if(!isFinite(t))return 1/0===t?i.numberFormat.positiveInfinity:t===-1/0?i.numberFormat.negativeInfinity:i.numberFormat.NaN;if(!n||"i"===n)return i.name.length?t.toLocaleString():t.toString();n=n||"D";var r,a=i.numberFormat,o=Math.abs(t),s=-1;n.length>1&&(s=parseInt(n.slice(1),10));var l,d=n.charAt(0).toUpperCase();switch(d){case"D":r="n",o=g(o),-1!==s&&(o=m(""+o,s,!0)),0>t&&(o="-"+o);break;case"N":l=a;case"C":l=l||a.currency;case"P":l=l||a.percent,r=0>t?l.pattern[0]:l.pattern[1]||"n",-1===s&&(s=l.decimals),o=e(o*("P"===d?100:1),s,l);break;default:throw"Bad number format specifier: "+d}for(var u=/n|\$|-|%/g,c="";;){var h=u.lastIndex,p=u.exec(r);if(c+=r.slice(h,p?p.index:r.length),!p)break;switch(p[0]){case"n":c+=o;break;case"$":c+=a.currency.symbol;break;case"-":/[1-9]/.test(o)&&(c+=a["-"]);break;case"%":c+=a.percent.symbol}}return c}}(),x=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},w=function(e,t){if(!t)return 0;for(var n,i=e.getTime(),r=0,a=t.length;a>r;r++)if(n=t[r].start,null===n||i>=n)return r;return 0},C=function(e,t,n,i){var r=e.getFullYear();return!i&&t.eras&&(r-=t.eras[n].offset),r},function(){var e,t,n,i,r,a,o;e=function(e,t){if(100>t){var n=new Date,i=w(n),r=C(n,e,i),a=e.twoDigitYearMax;a="string"==typeof a?(new Date).getFullYear()%100+parseInt(a,10):a,t+=r-r%100,t>a&&(t-=100)}return t},t=function(e,t,n){var i,r=e.days,l=e._upperDays;return l||(e._upperDays=l=[o(r.names),o(r.namesAbbr),o(r.namesShort)]),t=a(t),n?(i=s(l[1],t),-1===i&&(i=s(l[2],t))):i=s(l[0],t),i},n=function(e,t,n){var i=e.months,r=e.monthsGenitive||e.months,l=e._upperMonths,d=e._upperMonthsGen;l||(e._upperMonths=l=[o(i.names),o(i.namesAbbr)],e._upperMonthsGen=d=[o(r.names),o(r.namesAbbr)]),t=a(t);var u=s(n?l[1]:l[0],t);return 0>u&&(u=s(n?d[1]:d[0],t)),u},i=function(e,t){var n=e._parseRegExp;if(n){var i=n[t];if(i)return i}else e._parseRegExp=n={};for(var r,a=y(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),o=["^"],s=[],l=0,d=0,u=x();null!==(r=u.exec(a));){var c=a.slice(l,r.index);if(l=u.lastIndex,d+=v(c,o),d%2)o.push(r[0]);else{var h,p=r[0],f=p.length;switch(p){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":h="(\\D+)";break;case"tt":case"t":h="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":h="(\\d{"+f+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":h="(\\d\\d?)";break;case"zzz":h="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":h="([+-]?\\d\\d?)";break;case"/":h="(\\/)";break;default:throw"Invalid date format pattern '"+p+"'."}h&&o.push(h),s.push(r[0])}}v(a.slice(l),o),o.push("$");var g=o.join("").replace(/\s+/g,"\\s+"),m={regExp:g,groups:s};return n[t]=m},r=function(e,t,n){return t>e||e>n},a=function(e){return e.split("\xc2 ").join(" ").toUpperCase()},o=function(e){for(var t=[],n=0,i=e.length;i>n;n++)t[n]=a(e[n]);return t},T=function(a,o,s){a=f(a);var l=s.calendar,d=i(l,o),u=new RegExp(d.regExp).exec(a);if(null===u)return null;for(var c,h=d.groups,g=null,m=null,v=null,y=null,b=null,_=0,x=0,w=0,C=0,T=null,k=!1,S=0,E=h.length;E>S;S++){var D=u[S+1];if(D){var A=h[S],P=A.length,M=parseInt(D,10);switch(A){case"dd":case"d":if(y=M,r(y,1,31))return null;break;case"MMM":case"MMMM":if(v=n(l,D,3===P),r(v,0,11))return null;break;case"M":case"MM":if(v=M-1,r(v,0,11))return null;break;case"y":case"yy":case"yyyy":if(m=4>P?e(l,M):M,r(m,0,9999))return null;break;case"h":case"hh":if(_=M,12===_&&(_=0),r(_,0,11))return null;break;case"H":case"HH":if(_=M,r(_,0,23))return null;break;case"m":case"mm":if(x=M,r(x,0,59))return null;break;case"s":case"ss":if(w=M,r(w,0,59))return null;break;case"tt":case"t":if(k=l.PM&&(D===l.PM[0]||D===l.PM[1]||D===l.PM[2]),!k&&(!l.AM||D!==l.AM[0]&&D!==l.AM[1]&&D!==l.AM[2]))return null;break;case"f":case"ff":case"fff":if(C=M*Math.pow(10,3-P),r(C,0,999))return null;break;case"ddd":case"dddd":if(b=t(l,D,3===P),r(b,0,6))return null;break;case"zzz":var I=D.split(/:/);if(2!==I.length)return null;if(c=parseInt(I[0],10),r(c,-12,13))return null;var B=parseInt(I[1],10);if(r(B,0,59))return null;T=60*c+(p(D,"-")?-B:B);break;case"z":case"zz":if(c=M,r(c,-12,13))return null;T=60*c;break;case"g":case"gg":var L=D;if(!L||!l.eras)return null;L=f(L.toLowerCase());for(var N=0,H=l.eras.length;H>N;N++)if(L===l.eras[N].name.toLowerCase()){g=N;break}if(null===g)return null}}}var O,F=new Date,R=l.convert;if(O=R?R.fromGregorian(F)[0]:F.getFullYear(),null===m?m=O:l.eras&&(m+=l.eras[g||0].offset),null===v&&(v=0),null===y&&(y=1),R){if(F=R.toGregorian(m,v,y),null===F)return null}else{if(F.setFullYear(m,v,y),F.getDate()!==y)return null;if(null!==b&&F.getDay()!==b)return null}if(k&&12>_&&(_+=12),F.setHours(_,x,w,C),null!==T){var W=F.getMinutes()-(T+F.getTimezoneOffset());F.setHours(F.getHours()+parseInt(W/60,10),W%60)}return F}}(),k=function(e,t,n){var i,r=t["-"],a=t["+"];switch(n){case"n -":r=" "+r,a=" "+a;case"n-":l(e,r)?i=["-",e.substr(0,e.length-r.length)]:l(e,a)&&(i=["+",e.substr(0,e.length-a.length)]);break;case"- n":r+=" ",a+=" ";case"-n":p(e,r)?i=["-",e.substr(r.length)]:p(e,a)&&(i=["+",e.substr(a.length)]);break;case"(n)":p(e,"(")&&l(e,")")&&(i=["-",e.substr(1,e.length-2)])}return i||["",e]},n.prototype.findClosestCulture=function(e){return n.findClosestCulture.call(this,e)},n.prototype.format=function(e,t,i){return n.format.call(this,e,t,i)},n.prototype.localize=function(e,t){return n.localize.call(this,e,t)},n.prototype.parseInt=function(e,t,i){return n.parseInt.call(this,e,t,i)},n.prototype.parseFloat=function(e,t,i){return n.parseFloat.call(this,e,t,i)},n.prototype.culture=function(e){return n.culture.call(this,e)},n.addCultureInfo=function(e,t,n){var i={},r=!1;"string"!=typeof e?(n=e,e=this.culture().name,i=this.cultures[e]):"string"!=typeof t?(n=t,r=null==this.cultures[e],i=this.cultures[e]||this.cultures["default"]):(r=!0,i=this.cultures[t]),this.cultures[e]=d(!0,{},i,n),r&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},n.findClosestCulture=function(e){var t;if(!e)return this.findClosestCulture(this.cultureSelector)||this.cultures["default"];if("string"==typeof e&&(e=e.split(",")),u(e)){var n,i,r=this.cultures,a=e,o=a.length,s=[];for(i=0;o>i;i++){e=f(a[i]);var l,d=e.split(";");n=f(d[0]),1===d.length?l=1:(e=f(d[1]),0===e.indexOf("q=")?(e=e.substr(2),l=parseFloat(e),l=isNaN(l)?0:l):l=1),s.push({lang:n,pri:l})}for(s.sort(function(e,t){return e.pri<t.pri?1:e.pri>t.pri?-1:0}),i=0;o>i;i++)if(n=s[i].lang,t=r[n])return t;for(i=0;o>i;i++)for(n=s[i].lang;;){var c=n.lastIndexOf("-");if(-1===c)break;if(n=n.substr(0,c),t=r[n])return t}for(i=0;o>i;i++){n=s[i].lang;for(var h in r){var p=r[h];if(p.language==n)return p}}}else if("object"==typeof e)return e;return t||null},n.format=function(e,t,n){var i=this.findClosestCulture(n);return e instanceof Date?e=b(e,t,i):"number"==typeof e&&(e=_(e,t,i)),e},n.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures["default"].messages[e]},n.parseDate=function(e,t,n){n=this.findClosestCulture(n);var i,r,a;if(t){if("string"==typeof t&&(t=[t]),t.length)for(var o=0,s=t.length;s>o;o++){var l=t[o];if(l&&(i=T(e,l,n)))break}}else{a=n.calendar.patterns;for(r in a)if(i=T(e,a[r],n))break}return i||null},n.parseInt=function(e,t,i){return g(n.parseFloat(e,t,i))},n.parseFloat=function(e,t,n){"number"!=typeof t&&(n=t,t=10);var o=this.findClosestCulture(n),s=0/0,l=o.numberFormat;if(e.indexOf(o.numberFormat.currency.symbol)>-1&&(e=e.replace(o.numberFormat.currency.symbol,""),e=e.replace(o.numberFormat.currency["."],o.numberFormat["."])),e.indexOf(o.numberFormat.percent.symbol)>-1&&(e=e.replace(o.numberFormat.percent.symbol,"")),e=e.replace(/ /g,""),r.test(e))s=parseFloat(e);else if(!t&&i.test(e))s=parseInt(e,16);else{var d=k(e,l,l.pattern[0]),u=d[0],c=d[1];""===u&&"(n)"!==l.pattern[0]&&(d=k(e,l,"(n)"),u=d[0],c=d[1]),""===u&&"-n"!==l.pattern[0]&&(d=k(e,l,"-n"),u=d[0],c=d[1]),u=u||"+";var h,p,f=c.indexOf("e");0>f&&(f=c.indexOf("E")),0>f?(p=c,h=null):(p=c.substr(0,f),h=c.substr(f+1));var g,m,v=l["."],y=p.indexOf(v);0>y?(g=p,m=null):(g=p.substr(0,y),m=p.substr(y+v.length));var b=l[","];g=g.split(b).join("");var _=b.replace(/\u00A0/g," ");b!==_&&(g=g.split(_).join(""));var x=u+g;if(null!==m&&(x+="."+m),null!==h){var w=k(h,l,"-n");x+="e"+(w[0]||"+")+w[1]}a.test(x)&&(s=parseFloat(x))}return s},n.culture=function(e){return"undefined"!=typeof e&&(this.cultureSelector=e),this.findClosestCulture(e)||this.cultures["default"]}}(this),function(e,t,n){"use strict";function i(e){var t,n="";e=Math.abs(e);do t=e%26,n=String.fromCharCode(t+97)+n,e=(e-t)/26;while(e>0);return n}function r(){return D+i(W++)}function a(){return z++}function o(){var e=[8,9,"a","b"],t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return t()+t()+"-"+t()+"-4"+t().substr(0,3)+"-"+e[Math.floor(4*Math.random())]+t().substr(0,3)+"-"+t()+t()+t()}function s(e,t){return typeof Globalize===I&&typeof Globalize.format===I?Globalize.parseDate(e,t):new Date(e)}function l(e){var t;return t=K.defined(e)&&typeof Globalize===I&&typeof Globalize.parseFloat===I?Globalize.parseFloat(e):Number(e),isNaN(t)?null:t}function d(e){if(!K.defined(e)||""===e)return"";var t=/\{([\.\d\w\:\-\/\' \[\]]+)\}/g,n=arguments,i=n&&n.length>1&&typeof n[1]===P,r=typeof Globalize===I&&typeof Globalize.format===I;return e.replace(t,function(e,t){var a,o,s=t.indexOf(":");if(s>0){var l=t;t=l.substring(0,s),o=l.substring(s+1)}return a=i?/^\d+$/.test(t)?n[parseInt(t,10)+1]:v(n[1],t):n[parseInt(t,10)+1],o&&r&&(a=Globalize.format(a,o)),a})}function u(e){if(K.func(e)){var t=[].slice.call(arguments);return t.shift(),e.apply(this,t)}return d.apply(this,arguments)}function c(){return typeof Globalize===I&&Globalize.cultures&&Globalize.cultures[Globalize.cultureSelector]&&Globalize.cultures[Globalize.cultureSelector].calendar?Globalize.cultures[Globalize.cultureSelector].calendar:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},firstDay:0,months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]}}}function h(){return typeof Globalize===I&&Globalize.cultures&&Globalize.cultures[Globalize.cultureSelector]&&Globalize.cultures[Globalize.cultureSelector].numberFormat?Globalize.cultures[Globalize.cultureSelector].numberFormat.currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}}function p(e,i){if(i=i!==n?i:w.dieOnError)throw new Error(e);t.console&&t.console.error&&console.error(e)}function f(e){var t=Object.prototype.toString.call(e);return null===e?"null":e===n?"undefined":t.substr(8,t.length-9).toLowerCase()}function g(t){var i,r,a,o,s,l=Array.apply(null,arguments),d=K.array(t)&&t.length&&!T(t,function(e){return!K.func(e)}).length,u=l[1],c=function(e,t){return e instanceof t};if(!d)return C.apply(e,l);for(K.object(u)||K.array(u)||(u={}),r=2;r<l.length;r++)if(i=l[r])for(a in i)i.hasOwnProperty(a)&&(s=i[a],o=u[a],s&&T(t,k(c,null,s)).length?u[a]=s:K.object(s)||K.array(s)?(K.object(o)||(o=u[a]=K.array(s)?[]:{}),u[a]=g(t,o,s)):K.date(s)?u[a]=new Date(s.getTime()):s!==n&&(u[a]=s));return u}function m(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n}function v(e,t){var n;if(!K.string(t))throw new Error("shield.get: parameter 'path' must be a string.");if(t=b(t),n=V[t])return n(e);try{n=new Function("a","try{return a"+t+"}catch(e){return arguments[1];}")}catch(i){throw new Error("shield.get: invalid 'path' parameter")}return V[t]=n,n(e)}function y(e,t,n){var i;if(!K.string(t))throw new Error("shield.set: parameter 'path' must be a string");if(t=b(t),i=j[t])return i(e,n);try{i=new Function("obj,val","obj"+t+"=val;")}catch(r){throw new Error("shield.set: invalid 'path' parameter")}return j[t]=i,i(e,n),e}function b(e){var t,n,i,r,a,o=e.split(".");for(n=0,i=o.length;i>n;n++)r=o[n],t=r.indexOf("["),r&&(0>t?(a=r.indexOf("'")<0?"'":'"',r=o[n]="["+a+r+a+"]"):t>0&&(r=o[n]="."+r));return o.join("")}function _(t,i){w.ui[t]=i,e.fn[D+t]=function(r){var a,o=this;return typeof r===M?(a=[].slice.call(arguments,1),this.each(function(){var i,s,l=e.data(this,A);if(!l)throw new Error(u("shield: cannot call method '{0}' on uninitialized {1}.",r,t));if(i=l[r],typeof i!==I)throw new Error(u("shield: cannot find method '{0}' of {1}",r,t));return s=i.apply(l,a),s!==n?(o=s,!1):void 0}),o):this.each(function(){var n=new i(this,r);e(this).data(A,n),e(this).data(A+"-"+t,n)})}}function x(e){e?E.onselectstart==x.handler&&(E.onselectstart=x.onselectstart,E.ondragstart=x.ondragstart):E.onselectstart!=x.handler&&(x.onselectstart=E.onselectstart,x.ondragstart=E.ondragstart,E.onselectstart=E.ondragstart=x.handler)}var w=t.shield=t.shield||{},C=e.extend,T=e.grep,k=e.proxy,S=navigator.userAgent,E=document,D="shield",A="shieldWidget",P="object",M="string",I="function",B="array",L="number",N="date",H="boolean",O="null",F="undefined",R=function(){},W=100,z=1e3,Y={},V={},j={},G=function(){},q={SVG_NS:"http://www.w3.org/2000/svg",KeyCode:{BACK:8,TAB:9,ENTER:13,CTRL:17,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:46}};G.extend=function(e){var t,n,i,r,a=this,o=e&&e.init?e.init:function(){a.apply(this,arguments)},s=function(){};s.prototype=a.prototype,t=o.fn=o.prototype=new s;for(n in e)e.hasOwnProperty(n)&&(i=e[n],r=f(i),t[n]=i&&typeof i===P?C(!0,r===B?[]:{},a.prototype[n],i):i);return t.constructor=o,o.extend=a.extend,o},Date.prototype.toISOString||!function(){function e(e){var t=String(e);return 1===t.length&&(t="0"+t),t}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(),e.fn.swidget=function(t){var n=this.map(function(){return e(this).data(t?A+"-"+t:A)}).get();return n.length?n.length>1?n:n[0]:null};var X=G.extend({init:function(e){var t,n=this,i=(e||{}).events;n.events={},e=e||{};for(t in i)typeof i[t]===I&&n.on(t,i[t])},on:function(e,t,n){var i,r,a,o,s,l=this,d=l.events,u=Z.array(e),c=K.func(t);if(K.object(e)){u=[];for(s in e)e.hasOwnProperty(s)&&u.push(s);c=!1,t=e}for(a=0,o=u.length;o>a;a++)e=u[a],i=l._eventType(e),r=c?t:t[e],K.func(r)&&(n&&(r=l._one(e,r)),(d[i]||(d[i]=[])).push({name:e,handler:r}));return l},_one:function(e,t){var n=this,i=function(){n.off(e,i),t.apply(this,arguments)};return i},_eventType:function(e){var t=(e+="").indexOf(".");return t>-1?e.substring(0,t):e},_eventNameMatch:function(t,n){var i,r,a,o,s=this,l=s._eventType(t),d=s._eventType(n);if(t+="",n+="",(l===d||!d)&&(i=t.split("."),i.shift(),i=T(i,function(e){return K.string(e)&&e.length>0}),r=n.split("."),d&&r.shift(),r=T(r,function(e){return K.string(e)&&e.length>0}),i&&r)){for(a=0,o=0;o<r.length;o++)e.inArray(r[o],i)>-1&&a++;return a>=r.length}return!1},one:function(e,t){this.on(e,t,!0)},off:function(e,t){var i,r,a,o,s,l,d=this,u=d.events,c=Z.array(e),h=K.func(t);if(K.object(e)){c=[];for(l in e)e.hasOwnProperty(l)&&c.push(l);h=!1,t=e}if(K.string(e)&&0===e.indexOf(".")){for(i in u)if(u.hasOwnProperty(i)){for(r=u[i]||[],a=h?t:t||n,s=r.length-1;s>=0;s--)!d._eventNameMatch(r[s].name,e)||K.defined(a)&&r[s].handler!==a||r.splice(s,1);r.length||delete u[i]}}else for(o=0;o<c.length;o++){for(e=c[o],i=d._eventType(e),r=u[i]||[],a=h?t:(t||{})[e],s=r.length-1;s>=0;s--)!d._eventNameMatch(r[s].name,e)||K.defined(a)&&r[s].handler!==a||r.splice(s,1);r.length||delete u[i]}return d},trigger:function(e,t){var n,i,r=this,a=r._eventType(e),o=(r.events[a]||[]).slice();for(n=0,i=o.length;i>n;n++)o[n].handler.apply(r,[].slice.call(arguments,1));return t},destroy:function(){this.events={}}}),U=G.extend({init:function(e){var t=!1,n=!1;C(this,{timeStamp:(new Date).getTime(),isDefaultPrevented:function(){return t},isPropagationStopped:function(){return n},preventDefault:function(){t=!0},stopPropagation:function(){n=!0}},e)}}),$=X.extend({init:function(t,n){var i=this,r=i.constructor;n=n||{},i.element=e(t),i.initialOptions=n,i.options=C(!0,{},r.defaults,(r.themes||{})[n.theme],n),i._iid=a(),X.fn.init.call(i,n)},getInstanceId:function(){return this._iid},refresh:function(e){this.refreshWithElement(this.element,e)},refreshWithElement:function(e,t){var n=this,i=g([G],n.options,t);n.destroy(),n.init(e,i)},hide:function(){e(this.element).hide()},show:function(){e(this.element).show()},isVisible:function(){return e(this.element).is(":visible")},visible:function(){var e=this,t=[].slice.call(arguments);return t.length>0?void(t[0]?e.show():e.hide()):e.isVisible()},focus:function(){e(this.element).focus()},trigger:function(t,n,i){var r,a=this;return n=K.event(n)?{domEvent:n}:n,!n||!n.domEvent||n.domEvent instanceof e.Event||(n.domEvent=e.Event(n.domEvent)),r=new U(C({type:t,target:a},n)),X.fn.trigger.call(a,t,r),typeof i!==I||r.isDefaultPrevented()||i.call(a,r),r}}),Q=X.extend({options:{total:0,pageBuffer:2,createContainer:R,getItems:R,eventNS:".shieldVirtualized",skipRender:!1},init:function(t,n){var i=this;n=i.options=C({},i.options,n),i.element=e(t),X.fn.init.call(i,n),n.skipRender||i.render()},_elements:function(){var t,n,i=this,r=i.element,a=i.options;t=i.wrapper=r.off(a.eventNS).empty().css({overflow:"auto",position:"relative"}).on("scroll"+a.eventNS,k(i._onscroll,i)).append('<div class="sui-virtualized" />').find(".sui-virtualized").css({position:"relative",overflow:"visible"}),n=i.container=e(a.createContainer(t)),t.children().css({position:"absolute",top:0})},_dimensions:function(){var e=this,t=e.options,n=t.total,i=t.itemHeight,r=Math.min(n*i,w.support.maxElementHeight),a=e.element.height(),o=Math.ceil(a/i),s=o*i,l=r-a;return{total:n,itemHeight:i,totalHeight:r,viewportHeight:a,itemsPerPage:o,pageHeight:s,totalScrollableHeight:l}},render:function(){var e,t=this,n=t.element,i=t.options;t._elements(),t.prevScroll=0,e=t.dimensions=t._dimensions(),n.find(".sui-virtualized").height(e.totalHeight),t._renderItems(0,Math.min(i.total,(i.pageBuffer+1)*e.itemsPerPage))},_onscroll:function(e){var t=this;t._to&&clearTimeout(t._to),t._to=setTimeout(k(t.scroll,t,e),20)},scroll:function(){var e,t,n,i=this,r=i.options,a=r.pageBuffer,o=i.dimensions,s=i.element.scrollTop(),l=i.prevScroll,d=s-l,u=s/o.totalScrollableHeight,c=i.wrapper.children().first(),h=c.data("sui-vz-top")||0,p=s-u*(o.pageHeight-o.viewportHeight),f=d>0&&p-h>(a/4+1)*o.pageHeight,g=0>d&&p-h<=a/4*o.pageHeight;(g||f)&&(t=Math.min(o.total,Math.floor(u*o.total-u*o.itemsPerPage)),e=Math.max(0,t-a/2*o.itemsPerPage),n=Math.min(o.total,e+(a+1)*o.itemsPerPage),p=Math.max(0,p-(t-e)*o.itemHeight),i._renderItems(e,n,function(){c.css("top",p),c.data("sui-vz-top",p)})),i.prevScroll=s},_renderItems:function(e,t,n){var i,r,a=this,o=a.options;o.getItems(e,t,function(e,t){for(t=K.defined(t)?!!t:!0,t&&a.container.empty(),i=0,r=e.length;r>i;i++)a.container.append(e[i]);n&&n()})},destroy:function(){var e=this,t=e.options;e.element.off(t.eventNS),e.element=null,t.createContainer=R,t.getItems=R,X.fn.destroy.call(e)}}),K={string:function(e){return f(e)===M},number:function(e){return f(e)===L},integer:function(e){return f(e)===L&&/^[\+\-]?\d+$/.test(e+"")},"float":function(e){return f(e)===L&&/^[\+\-]?\d+\.\d+$/.test(e+"")},func:function(e){return f(e)===I},object:function(e){return f(e)===P},array:function(e){return f(e)===B},date:function(e){return f(e)===N},"boolean":function(e){return f(e)===H},"null":function(e){return f(e)===O},undefined:function(e){return f(e)===F},defined:function(e){return e!==n&&null!==e},event:function(e){return typeof t.Event==I&&e instanceof t.Event||e&&e.altKey!==n}},Z={"int":function(e,t){return parseInt(e,t||10)},"float":function(e){return parseFloat(e)},number:function(e){return l(e+"")},array:function(e){return e instanceof Array?e:e!==n?[e]:[]},string:function(e){return e+""},key:function(t){var n,i,r,a,o=f(t);switch(o){case O:case F:return o;case P:return n=m(t).sort(),i=[],e.each(n,function(e,n){i.push(n+":"+Z.key(t[n]))}),"{"+i.join(",")+"}";case B:for(i="[",r=0,a=t.length;a>r;r++)i+=Z.key(t[r]),a-1>r&&(i+=",");return i+="]";case N:return t.toISOString();default:return t+""}}};!function(){Y.stableSort=function(){var e="abcdefghijklmnopqrstuvwxyz";return"xyzvwtursopqmnklhijfgdeabc"==e.split("").sort(function(t,n){return~~(e.indexOf(n)/2.3)-~~(e.indexOf(t)/2.3)}).join("")}(),Y.scrollbar=function(){var e,t=E.createElement("div");return t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both",t.innerHTML="&nbsp;",E.body.appendChild(t),e=t.offsetWidth-t.scrollWidth,E.body.removeChild(t),e},Y.isRtl=function(t){return e(t).closest(".sui-rtl").length>0},Y.transitions=function(){var e,t=(E.body||E.documentElement).style,n="Transition",i=["Moz","webkit","Webkit","Khtml","O","ms"];if(K.string(t[n.toLowerCase()]))return!0;for(e=0;e<i.length;e++)if(K.string(t[i[e]+n]))return!0;return!1}()}(),function(){w.rAF=function(e){return(t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(e){return this.setTimeout(e,1e3/60)}).call(t,e)},w.cAF=function(e){return(t.cancelAnimationFrame||t.clearTimeout)(e)}}(),function(){var e=/MSIE/i.test(S),t=/Trident/i.test(S),n=/Firefox/i.test(S),i=/Opera/i.test(S),r=/Safari/i.test(S),a=/Chrome/i.test(S),o=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(S);Y.browser={ie:e||t,firefox:n,opera:i,safari:!a&&r,chrome:a,mobile:o,version:e?parseInt(S.substr(S.indexOf("MSIE ")+5),10):t?parseInt(S.substr(S.indexOf("rv:")+3),10):n?parseInt(S.substr(S.indexOf("Firefox/")+8),10):i?parseInt(S.substr(S.indexOf("Version/")+8),10):a?parseInt(S.substr(S.indexOf("Chrome/")+7),10):r?parseInt(S.substr(S.indexOf("Version/")+8),10):0}}(),e(function(){for(var t,n=1e6,i=Y.browser.firefox?6e6:1e9,r=e("<div style='display:none' />").appendTo(E.body),a=n;t=a+n,r.css("height",t),!(t>i||r.height()!==t);)a=t;r.remove(),Y.maxElementHeight=a}),x.handler=function(){return!1},C(w,{Class:G,Dispatcher:X,Event:U,Constants:q,format:u,formatString:d,parseDate:s,getCalendarInfo:c,getCurrencyInfo:h,error:p,dieOnError:!0,iid:a,strid:r,guid:o,support:Y,extend:g,selection:x,type:f,is:K,to:Z,keys:m,get:v,set:y,ui:C({},w.ui||{},{Widget:$,VirtualizedContainer:Q,plugin:_})})}(jQuery,this),function(e,t,n,i){"use strict";function r(e,t){var n,i,r=[];if(e.map)return e.map(t);for(n=0,i=e.length;i>n;n++)r[n]=t(e[n],n,e);return r}function a(e,t,n,r,a){var o=S(e,t);return o===i?n&&(o=b.def(n,r,a!==!1)):o=b.convert(o,n),o}var o,s,l,d,u,c,h,p,f,g,m,v,y,b,_=t.Class,x=t.Dispatcher,w=Math.min,C=Math.max,T=t.is,k=t.to,S=t.get,E=t.set,D=(t.support,t.type),A=function(){},P=e.extend,M=e.proxy,I=e.each,B=e.grep,L=e.inArray,N=e.Deferred,H="function",O="array",F="object",R="string",W="change",z="error",Y="start",V="complete",j="save",G="afterset",q="insert",X="remove";o=_.extend({init:function(e){this.data=e},read:function(e,t){return t(this.data)},modify:function(e,t){t()}}),s=_.extend({init:function(e,t){this.options=e,this.cache=t},read:function(t,n,r){var a,o=this.options,s=o.read,l=this.cache;return T.func(s)?void s(t,n,r):(s=T.string(s)?{url:s}:P(!0,{},s),T.func(s.data)&&(t=s.data(t)),a=l.get(t),void(a!==i?n(a,!0):(s.data=t,s.error=r,s.success=function(e){l.set(t,e),n(e)},e.ajax(s))))},modify:function(t,n,i){var a,o,s,l,d,u=this.options,c=u.modify||{},h=["create","update","remove"],p=["added","edited","removed"],f=[],g=function(e){return e.data};if(T.func(c))return void c(t,n,i);for(d=0;d<h.length;d++)s=h[d],l=p[d],o=c[s],t[l].length?(T.string(o)&&(o={url:o,type:"POST"}),T.func(o)?(a=f[d]=new N,o(t[l],M(a.resolve,a),M(a.reject,a))):T.object(o)?(o=P(!0,{},o),T.func(o.data)?o.data=o.data(t[l]):(o.data={},o.data[l]=r(t[l],g)),a=f[d]=e.ajax(o)):(a=f[d]=new N,a.resolve())):(a=f[d]=new N,a.resolve());e.when.apply(e,f).then(n,i)}}),l=_.extend({init:function(){this.values={}},get:function(e){return this.values[k.key(e)]},set:function(e,t){return this.values[k.key(e)]=t,t},remove:function(e){var t=k.key(e),n=this.values[t];return delete this.values[t],n},clear:function(){this.values=[]}}),l.noop={get:A,set:A},u=_.extend({init:function(e,t){T.object(e)?e=k.array(e):T.string(e)&&(e=[{path:e,desc:!!t}]),this._expr=e},build:function(){var e=this._expr,t=u.cache;return T.func(e)?function(e){return function(t,n){var i=e(t.item,n.item);return 0!==i?i:t.index-n.index}}(e):T.array(e)?t.get(e)||t.set(e,function(e){return function(t,n){var i,r,a,o,s,l,d,u;for(o=0,s=e.length;s>o;o++)if(l=t.item,d=n.item,i=e[o]||{},r=i.path,a=i.desc?-1:1,T.string(r)?(l=S(l,r),d=S(d,r)):T.func(r)&&(l=r(l),d=r(d)),T.date(l)&&(l=l.getTime()),T.date(d)&&(d=d.getTime()),l!==d&&(null!=l||null!=d)){if(null==l)return-1*a;if(null==d)return 1*a;if(T.number(l)&&T.number(d)||(l=l.toString(),d=d.toString()),l.localeCompare){if(u=l.localeCompare(d),0===u)continue;return u*a}if(l>d)return 1*a;if(d>l)return-1*a}return t.index-n.index}}([].concat(e))):void 0}}),u.cache=new l,c=_.extend({init:function(e){this._expr=e||[]},build:function(){var e=this,t=c.cache,n=e._expr,i=e._func||(e._func=t.get(n));return i||(i=e._buildRecursive(n,!0),i&&t.set(n,i)),i},_single:function(e){var t;if(e){if(T.func(e.filter))return e.filter;if(t=c.filters[c.filterAliases[e.filter]])return function(e,t,n,i){return function(r){return t(S(r,e),n,i)}}(e.path,t,e.value,e.sensitive)}},_multiple:function(e,t){return function(n){var i,r=!0,a=e.length;for(i=0;a>i;i++)if(r=e[i](n),t){if(!r)break}else if(r)break;return r}},_buildRecursive:function(e,t){var n,i,r=this,a=[];if(T.array(e)){for(n=0,i=e.length;i>n;n++)a.push(r._buildRecursive(e[n]));return a.length>1?r._multiple(a,t):a[0]}return e.and||e.or?r._buildRecursive(e.and||e.or,!!e.and):r._single(e)}}),c.cache=new l,c.normalize={equatable:function(e,t,n){return T.date(e)?{a:e.getTime(),b:new Date(t).getTime()}:c.normalize.string(e,t,n)},string:function(e,t,n){return{a:n?e+"":(e+"").toLowerCase(),b:n?t+"":(t+"").toLowerCase()}},scalar:function(e,t){return T.date(e)?{a:e.getTime(),b:new Date(t).getTime()}:isNaN(parseFloat(e))?{a:e,b:t}:{a:parseFloat(e),b:parseFloat(t)}}},c.filters={eq:function(e,t,n){var i=c.normalize.equatable(e,t,n);return i.a===i.b},neq:function(e,t,n){var i=c.normalize.equatable(e,t,n);return i.a!==i.b},con:function(e,t,n){var i=c.normalize.string(e,t,n);return i.a.indexOf(i.b)>-1},notcon:function(e,t,n){var i=c.normalize.string(e,t,n);return i.a.indexOf(i.b)<0},starts:function(e,t,n){var i=c.normalize.string(e,t,n);return 0===i.a.indexOf(i.b)},ends:function(e,t,n){var i=c.normalize.string(e,t,n);return i.a.indexOf(i.b)===i.a.length-i.b.length},gt:function(e,t){var n=c.normalize.scalar(e,t);return n.a>n.b},lt:function(e,t){var n=c.normalize.scalar(e,t);return n.a<n.b},gte:function(e,t){var n=c.normalize.scalar(e,t);return n.a>=n.b},lte:function(e,t){var n=c.normalize.scalar(e,t);return n.a<=n.b},isnull:function(e){return null==e},notnull:function(e){return null!=e}},c.filterAliases={eq:"eq",equal:"eq",equals:"eq","==":"eq",neq:"neq",ne:"neq",doesnotequal:"neq",notequal:"neq",notequals:"neq","!=":"neq",con:"con",contains:"con",notcon:"notcon",doesnotcontain:"notcon",notcontains:"notcon",starts:"starts",startswith:"starts",ends:"ends",endswith:"ends",gt:"gt",greaterthan:"gt",">":"gt",lt:"lt",lessthan:"lt","<":"lt",gte:"gte",ge:"gte",greaterthanorequal:"gte",">=":"gte",lte:"lte",le:"lte",lessthanorequal:"lte","<=":"lte",isnull:"isnull","null":"isnull",notnull:"notnull",isnotnull:"notnull"},h=_.extend({init:function(){},build:function(e){var t=this,n=h.cache,i=n.get(e);return i||(i=t._build(e),i&&n.set(e,i)),i},_build:function(e){if(!e)return null;var t=e.field,n=e.aggregate,o=e.type||Number,s=function(e){return e===i?b.def(o):b.convert(e,o)};return T.func(n)?n:"count"==n?function(e){return e.length}:"sum"==n?function(e){var n,i,r=0,l=e.length;for(n=0;l>n;n++)i=a(e[n],t,o),r+=o==Date&&T.date(i)?i.getTime():i;return s(r)}:"average"==n?function(e){var n,i,r=0,l=e.length;for(n=0;l>n;n++)i=a(e[n],t,o),r+=o==Date&&T.date(i)?i.getTime():i;return s(r/l)}:"min"==n?function(e){return s(w.apply(null,r(e,function(e){return a(e,t,o)})))}:"max"==n?function(e){return s(C.apply(null,r(e,function(e){return a(e,t,o)})))}:i}}),h.cache=new l,d=_.extend({init:function(e,t,n,i,a){var o=this;o.data=e,o.total=null!=t?t:e?e.length:0,o.aggregates=n,o.groups=i,o.indices=T.array(a)?a.slice(0):r(e||[],function(e,t){return t})},filter:function(e){var t,n,i,r=this,a=new c(e).build(),o=r.data,s=[],l=[];if(a){for(t=0,n=o.length;n>t;t++)i=o[t],a(i)&&(s.push(i),l.push(r.indices[t]));r.indices=l}else s=o.slice(0);return new d(s,s.length,r.aggregates,r.groups,r.indices)},aggregate:function(e){var t,n,i,r,a=this,o=new h,s=a.data;for(T.array(e)||(e=[e]),a.aggregates=[],t=0;t<e.length;t++)n=e[t],i=o.build(n),i&&(r=i(s,n)),a.aggregates.push(P({},n,{value:r}));return new d(s.slice(0),a.total,a.aggregates,a.groups,a.indices)},aggregateGroups:function(e){var t=this,n=t.data.slice(0),i=new d(t._getInnerMostItems(n),null,null,null,null).aggregate(e);return new d(n,t.total,i.aggregates,t.groups,t.indices)},_getInnerMostItems:function(e){var t=[];return I(this._getInnerMostGroups(e),function(e,n){t=t.concat(n.items)}),t},_getInnerMostGroups:function(e){var t=this,n=[];return I(e||[],function(e,i){n=n.concat(t._hasInnerGroups(i)?t._getInnerMostGroups(i.items):i)
}),n},_hasInnerGroups:function(e){return e&&e.items&&e.items.length>0?e.items[0].field&&T.array(e.items[0].items):!1},group:function(e){var t,n=this,i=n.data.slice(0);return T.array(e)||(e=[e]),e.length>0&&(t=n._groupData(e,i,n.indices),i=t[0],n.indices=t[1]),new d(i,n.total,n.aggregates,n.groups,n.indices)},_groupData:function(e,t,n){var i,r,a,o,s,l=this,c=[],h=[],p=e.slice(0),f=p.shift(),g=f.field,m=f.aggregate,v=f.order,y={};if(I(t,function(e,t){r=S(t,g),a=y[r],T.defined(a)?c[a].items.push({item:t,index:n[e]}):(y[r]=c.length,c.push(P({},f,{value:r,items:[{item:t,index:n[e]}]})))}),v&&(i=new u("value","desc"==v).build())){for(o=0;o<c.length;o++)c[o]={item:c[o],index:o};for(c.sort(i),o=0;o<c.length;o++)c[o]=c[o].item}for(o=0;o<c.length;o++)for(s=0;s<c[o].items.length;s++)h.push(c[o].items[s].index),c[o].items[s]=c[o].items[s].item;if(m&&I(c,function(e,t){c[e].aggregate=new d(t.items).aggregate(m).aggregates}),p&&p.length>0){var b=0,_=[];for(o=0;o<c.length;o++){var x=c[o],w=h.slice(b,b+(x.items?x.items.length:0)),C=l._groupData(p,x.items,w);c[o].items=C[0],_=_.concat(C[1]),b+=x.items?x.items.length:0}h=_}return[c,h]},sort:function(e,t){var n,i=this,r=new u(e,t).build(),a=i.data.slice(0),o=[],s=a?a.length:0,l=i.indices;if(r){for(n=0;s>n;n++)o.push({index:l[n],item:a[n]});for(o.sort(r),n=0;s>n;n++)a[n]=o[n].item,i.indices[n]=o[n].index}return new d(a,i.total,i.aggregates,i.groups,i.indices)},sortGroups:function(e,t){var n,i=this,r=i.data.slice(0),a=[],o=0;return n=function(r){if(i._hasInnerGroups(r))I(r.items,function(e,t){n(t)});else{var s=new d(r.items,null,null,null,i.indices.slice(o,o+(r.items?r.items.length:0))).sort(e,t);r.items=s.data,a=a.concat(s.indices),o+=r.items?r.items.length:0}},I(r,function(e,t){n(t)}),new d(r,i.total,i.aggregates,i.groups,a)},_sliceGroups:function(e,t,n,i){var r,a=this,o=0,s=[],l=[],d=T.defined(i);return 0!==n||d?(r=function(e){if(a._hasInnerGroups(e)){var s=[],u=0;return I(e.items,function(e,t){var n=r(t);n>0&&(s.push(t),u+=n)}),e.items=s,u}var c,h,p=o,f=e.items.length,g=p+f-1;return d?i-1>=g?g>=n&&(c=C(0,n-p),h=f):i-1>=p&&g>=n&&(c=C(0,n-p),h=w(f,i-p)):p>=n?(c=0,h=f):n>=p&&g>=n&&(c=C(0,n-p),h=f),T.defined(c)&&T.defined(h)&&h>c?(e.items=e.items.slice(c,h),l=l.concat(t.slice(p+c,p+h))):e.items=[],o+=f,e.items.length},I(e,function(e,t){var n=r(t);n>0&&s.push(t)}),[s,l]):[e.slice(0),t.slice(0)]},skip:function(e){var t=this;return new d(t.data.slice(e),t.total,t.aggregates,t.groups,t.indices.slice(e))},skipGroups:function(e){var t=this,n=t._sliceGroups(t.data,t.indices,e);return new d(n[0],t.total,t.aggregates,t.groups,n[1])},take:function(e){var t=this;return new d(t.data.slice(0,e),t.total,t.aggregates,t.groups,t.indices.slice(0,e))},takeGroups:function(e){var t=this,n=t._sliceGroups(t.data,t.indices,0,e);return new d(n[0],t.total,t.aggregates,t.groups,n[1])}}),d.create=function(e,t,n,i,r){t=t||{};var a=new d(e,n,i,r),o=t.remoteOperations||[],s=o.join(" "),l=s.indexOf("group")>-1;return t.group||l?(t.group?(t.filter&&(a=a.filter(t.filter)),a=a.group(t.group)):a.data=a.groups,t.aggregate&&(a=a.aggregateGroups(t.aggregate)),t.sort&&(a=a.sortGroups(t.sort)),t.skip&&(a=a.skipGroups(t.skip)),t.take&&(a=a.takeGroups(t.take))):(t.filter&&(a=a.filter(t.filter)),t.aggregate&&(a=a.aggregate(t.aggregate)),t.sort&&(a=a.sort(t.sort)),t.skip&&(a=a.skip(t.skip)),t.take&&(a=a.take(t.take))),a},p=x.extend({init:function(e){var t=this,n=t.options=T.array(e)?{data:e}:e||{},i=n.schema||{},r=p.schemas[i.type||"json"];t.data=null,t.filter=n.filter,t.sort=n.sort,t.skip=n.skip,t.take=n.take,t.group=n.group,t.aggregate=n.aggregate,t.schema=new r(i),t.remote=n.remote,t.cache=new l,x.fn.init.call(t,n)},trigger:t.ui.Widget.fn.trigger,_client:function(){var e=this,t=e.remote;return T.object(t)?new s(t,t.cache?e.cache:l.noop):new o(e.options.data)},_params:function(){var e,t=this,n=["filter","aggregate","group","sort","skip","take"],i=t.remote,r=t._remoteOperations().join(" "),a={local:{},remote:{}};return I(n,function(n,o){e=t[o],null!=e&&(i&&r.indexOf(o)>-1?a.remote[o]=e:a.local[o]=e)}),a},_remoteOperations:function(){var e=this.remote;return e&&e.read?e.read.operations||e.operations||[]:[]},_success:function(e,t,n,i){var r=this,a=r.schema,o=a.process(n);r.data=o.data,r._pTotal=o.total,r._pAggregates=o.aggregates,r._pGroups=o.groups,r._createView(o.data,t),r.trigger(V),r.trigger(W,{fromCache:!!i}),e.resolve(r.view,!!i)},_createView:function(e,t){var n=this,i=d.create(e,P({},t||n._params().local,{remoteOperations:n._remoteOperations()}),n._pTotal,n._pAggregates,n._pGroups);n.view=i.data,n.total=i.total,n._indices=i.indices,n.aggregates=i.aggregates},_error:function(e,t,n,i){var r=this;e.reject(i),t&&r.trigger(V),r.trigger(z,{errorType:"transport",error:i,operation:n})},read:function(){var e=this,t=new N,n=e._params(),i=e.trigger(Y,{params:n});return i.isDefaultPrevented()?t.resolve():(e.cancel(),e._client().read(n.remote,M(e._success,e,t,n.local),M(e._error,e,t,!0,"read"))),t.promise()},_ensureTracker:function(){var e=this,t=e.tracker,n=e.data;if(!t){if(!n||!T.array(n))throw new Error("shield.DataSource: cannot modify when no data array is available.");t=e.tracker=new y({data:n,model:e.schema.model,events:{change:function(t){e._createView(e.data),t&&t.afterset||e.trigger(W)},error:function(t){e.trigger(z,{errorType:"tracker",path:t?t.path:"undefined path",value:t?t.value:"undefined value",error:t?t.reason:"undefined error",model:t?t.target:"undefined target model"})}}}),e.data=t.data}},add:function(e){return this._ensureTracker(),this.tracker.add(e)},insert:function(e,t){return this._ensureTracker(),this.tracker.insert(e,t)},remove:function(e){return this._ensureTracker(),this.tracker.remove(e)},removeAt:function(e){return this._ensureTracker(),this.tracker.removeAt(e)},edit:function(e){return this._ensureTracker(),this.tracker.edit(e)},insertView:function(e,t){return this._ensureTracker(),this.tracker.insert(this._indices[e],t)},removeAtView:function(e){return this._ensureTracker(),this.tracker.removeAt(this._indices[e])},editView:function(e){return this._ensureTracker(),this.tracker.edit(this._indices[e])},save:function(e){var t,n,i,r,a=this,o=a.tracker,s=o?o.changes:{added:[],edited:[],removed:[]},l=o&&a.trigger(j,{changes:s}),d=new N;if(e=T.defined(e)?!!e:!0,l&&!l.isDefaultPrevented()){for(t=a.data=o.original,n=o.data,t.length=0,i=0;i<n.length;i++)t[i]=n[i];a.options.data&&!T.func(a.options.data)&&d.done(M(a._syncLocalData,a)),a._client().modify(s,M(d.resolve,d),M(a._error,a,d,!1,"save")),o.destroy(),o=a.tracker=null}else d.resolve(s);return e&&(r=function(){a._createView(a.data),a.trigger(W)},d.then(r,r)),d.promise()},_syncLocalData:function(){var e,t=this,n=t.schema,i=(n.options.fields,t.data),r=(t.options.data,[]),a=T.array(n.getReverseDataFirstItem(t.options.data));for(e=0;e<i.length;e++)r[e]=a?[]:{},n.reverseFields(i[e],r[e]);n.reverseData(r,t.options.data)},cancel:function(){var e=this,t=e.tracker,n=t&&(t.changes.added.length||t.changes.edited.length||t.changes.removed.length);t&&(e.data=t.original,t.destroy(),t=e.tracker=null,n&&(e._createView(e.data),e.trigger(W)))},destroy:function(){var e,t=this,n=["options","data","total","aggregates","filter","sort","aggregate","group","skip","take","schema","remote","view","cache"];for(t.cancel(),t.cache.clear(),e=0;e<n.length;e++)delete t[n[e]];x.fn.destroy.call(t)}}),p.create=function(e,t){return e instanceof p?e:new p(P({},e,t))},f=_.extend({init:function(e){this.options=e},parse:function(t){var n=this.options.parse;if(T.func(n))return n(t);if(T.string(t))try{t=e.parseJSON(t)}catch(i){}return t},data:function(e){var t=this.options.data;return T.func(t)?t(e):T.string(t)?S(e,t):e},aggregates:function(e){var t=this.options.aggregates;return T.func(t)?t(e):T.string(t)?S(e,t):i},groups:function(e){var t=this.options.groups;return T.func(t)?t(e):T.string(t)?S(e,t):i},reverseData:function(e,t){var n,i=this.options.data;if(T.func(i))i(e,t);else if(T.string(i))E(t,i,e);else if(T.array(t))for(t.length=0,n=0;n<e.length;n++)t[n]=e[n]},getReverseDataFirstItem:function(e){var t=this.data(e);return T.array(t)&&t.length>0?t[0]:i},total:function(e,t){var n=this.options.total;return e=e||[],t=t||[],T.func(n)?n(e):T.string(n)?S(e,n):t.length},fields:function(e){var t=this,n=t.options.fields,i=t.model=b.define(n);return n?r(e,function(e){return f.mapFields(e,i.fn.fields)}):e},reverseFields:function(){var e,t,n,i=this,r=i.options.fields,a=[].slice.call(arguments),o=a[0],s=a.length<=1,l=s?o:a[1];for(n in r)r.hasOwnProperty(n)&&(e=r[n],t=o[n],T.string(e.path)?E(l,e.path,t):T.func(e.path)?e.path(o,t):l[n]=t,s&&delete l[n])},process:function(e){var t=this,n=t.parse(e),i=t.aggregates(e),r=t.groups(e),a=t.fields(t.data(n));return{data:a,aggregates:i,groups:r,total:t.total(n,a)}}}),f.mapFields=function(e,t){var n,r,a,o={};e=e||{};for(n in t)t.hasOwnProperty(n)&&(r=t[n],T.string(r.path)?(a=S(e,r.path),a===i&&(a=S(e,n))):a=T.func(r.path)?r.path(e):e[n],a===i?r.type&&(a=b.def(r.type,r.def,r.nullable!==!1)):a=b.convert(a,r.type),o[n]=a);return o},g=f.extend({parse:function(t){var n=this,i=n.options;if(T.func(i.parse))t=i.parse(t);else if(T.string(t))try{t=e.parseXML(t)}catch(r){}return t&&9===t.nodeType&&(t=n._json(n._root(t))),t},_root:function(e){var t,n,i=e.childNodes;for(t=0,n=i.length;n>t;t++)if(1===i[t].nodeType)return i[t];return null},_json:function(e){var t,n,i,r,a={},o={},s="";for(i=0,r=e.attributes.length;r>i;i++)t=e.attributes[i],a["_"+t.nodeName]=t.nodeValue;for(i=0,r=e.childNodes.length;r>i;i++)switch(t=e.childNodes[i],n=t.nodeName,t.nodeType){case 1:o[n]?(T.array(a[n])||(a[n]=[a[n]]),a[n].push(this._json(t))):(a[n]=this._json(t),o[n]=!0);break;case 3:s+=t.nodeValue;break;case 4:a._cdata=t.nodeValue}return s=s.replace(/^\s+(.*)\s+$/gim,"$1"),s&&(a._text=s),a}}),m=f.extend({parse:function(t){var n,i=this.options,r=i.parse,a=e(t),o=[],s=[];return T.func(r)?r(t):i.result?i.result:a[0]&&"table"===a[0].tagName.toLowerCase()?(a.eq(0).find("thead th").each(function(){s.push(e(this).text())}).end().find("tbody tr").each(function(){n={},e(this).children().each(function(t){n[s[t]]=e(this).text()}),o.push(n)}),i.result=o,o):t}}),v=f.extend({parse:function(t){var n=this.options,i=n.parse,r=e(t),a=[];return T.func(i)?i(t):n.result?n.result:r[0]&&"select"===r[0].tagName.toLowerCase()?(r.find("option").each(function(){var t=e(this);a.push({value:t.attr("value"),text:t.text(),selected:t.is(":selected")})}),n.result=a,a):t}}),p.schemas={json:f,xml:g,table:m,select:v},y=x.extend({init:function(e){var t=this;t.original=e.data,t.data=Array.apply(null,e.data),t.model=e.model,t.changes={added:[],edited:[],removed:[]},x.fn.init.call(this,e)},_model:function(e){var t=this,n=new t.model(e);return n.on(W,M(t.trigger,t,W)),n.on(z,M(t.trigger,t,z)),n.on(G,M(t.trigger,t,W,{afterset:!0})),n},add:function(e){return this.insert(this.data.length,e)},insert:function(e,t){var n,i=this,r=i.data,a=i.changes;if(0>e||e>r.length)throw new Error("shield.DataSource: invalid item index.");return n=i._model(t),a.added.push(n),r.splice(e,0,n.data),i.trigger(W,{operation:q,index:e,model:n}),n},edit:function(e){var t,n=this,i=n.data,r=n.changes;if(isNaN(e)||0>e||e>=i.length)throw new Error("shield.DataSource: invalid item index.");return(t=B(r.added.concat(r.edited),function(t){return t.data===i[e]})[0])?t:(t=n._model(i[e]),r.edited.push(t),i[e]=t.data,t)},remove:function(e){var t=this,n=t.changes,i=B(n.added.concat(n.edited),function(t){return t===e})[0],r=-1;return e instanceof b?i&&(r=L(i.data,t.data)):r=L(e,t.data),r>-1?t.removeAt(r):void 0},removeAt:function(e){var t=this,n=t.data,i=t.changes,r=B(i.added.concat(i.edited),function(t){return t.data===n[e]})[0];if(0>e||e>n.length)throw new Error("shield.DataSource: invalid item index.");return r?r.destroy():r=new t.model(n[e]),i.removed.push(r),n.splice(e,1),t.trigger(W,{operation:X,index:e,model:r}),r},destroy:function(){var e,t=this,n=t.changes,i=n.added.concat(n.edited).concat(n.removed);for(e=0;e<i.length;e++)i[e].destroy();n.added.length=n.edited.length=n.removed.length=0,t.data=t.original=null,x.fn.destroy.call(t)}}),b=x.extend({init:function(e,t){var n=this;x.fn.init.call(n,t),n.fields=P(!0,{},n.constructor.prototype.fields),n.data=P(!0,{},e)},trigger:t.ui.Widget.fn.trigger,get:function(e){return S(this.data,e)},set:function(e,t){var n=this;t=n.validate(e,t),t!==i&&(E(n.data,e,t),n.trigger(G))},validate:function(e,t){var n,r,a=this,o=S(a.fields,e);if(!o)return t;if(D(o.validator)===H)n=o.validator;else if(D(o.type.validate)===H)n=o.type.validate;else{var s=o.type.toString().split("(")[0].split(" ")[1].toLowerCase();n=b.validators[s]}if(n){if(r=n(t),r===i)return void a.trigger(z,{errorType:"validation",path:e,value:t,error:"validation error"});t=r}return null===t&&o.nullable===!1?void a.trigger(z,{errorType:"validation",path:e,value:t,error:"null value not allowed"}):t}}),b.define=function(e){return b.extend({fields:b.normalize(P(!0,{},e))})},b.normalize=function(e){var t,n,i;e=e||{};for(t in e)e.hasOwnProperty(t)&&(n=e[t],i=D(n),i===H?e[t]={type:n}:i===O?e[t]={type:n}:i===R&&(e[t]={path:n}));return e},b.def=function(e,t,n){var r;return t!==i?D(t)===H?t():t:n?null:e===String?"":e===Number?0:e===Date?null:e===Boolean?!1:e===Array?[]:e===Object?{}:(r=D(e),r===O?[]:r===F?{}:r===H?e():null)},b.convert=function(e,t){var n;return null==e?e:t===String?e.toString():t===Number?(n=parseFloat(e),isNaN(n)?e:n):t===Date?(n=new Date(e),isNaN(n.getTime())?e:n):t===Boolean?T.string(e)?!/^(false|0)$/i.test(e):!!e:e},b.validators={string:function(e){return null==e?null:e.toString()},number:function(e){return null===e?null:isNaN(+e)?i:+e},date:function(e){return null===e?null:e instanceof Date?e:(e=new Date(e),isNaN(e.getTime())?i:e)},"boolean":function(e){return null===e?null:null==e?i:!!e},array:function(e){return null===e?null:D(e)===O?e:i},object:function(e){return null===e?null:D(e)===F?e:i}},P(t,{map:r,DataSource:p,DataQuery:d,Model:b})}(jQuery,shield,this),function(e,t,n,i){"use strict";function r(){if(B(c))return c;var t,n,i=e('<div style="width:50px;position:absolute;overflow:hidden;height:50px;display:block;"><div style="width:auto;height:100px;"></div></div>'),r=i.children()[0];return e(C.body).append(i),t=r.offsetWidth,i.css(dt,mt),n=r.offsetWidth,t===n&&(n=i[0].clientWidth),i.remove(),c=t-n}function a(e){var t=e.isWindow||e.isDocument?"":e.element.css(ft),n=e.isWindow||e.isDocument?"":e.element.css(gt),i=t===mt||t===ut&&e.width<e.element[0].scrollWidth,a=n===mt||n===ut&&e.height<e.element[0].scrollHeight;return{width:a?r():0,height:i?r():0}}function o(t){var i=e(t||n),r=I(i[0]),a=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:r,isDocument:a,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:r||a?i.width():i.outerWidth(),height:r||a?i.height():i.outerHeight()}}function s(e,t,n){return[F(e[0])*(j.test(e[0])?t/100:1),F(e[1])*(j.test(e[1])?n/100:1)]}function l(e,t){var n=e.css(t);return n?O(n)||0:0}function d(e){var t=e[0];return 9===t.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:I(t)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:t.preventDefault?{width:0,height:0,offset:{top:t.pageY,left:t.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}function u(t,n){var i=0,r=B(n)?e(n).find(t):e(t);return r.each(function(){i=S(i,l(e(this),"z-index"))}),i}var c,h,p,f,g,m,v,y,b,_,x=t.ui.Widget,w=(t.Class,t.Constants.KeyCode),C=document,T=Math.abs,k=Math.min,S=Math.max,E=Math.round,D=Math.floor,A=e.extend,P=e.proxy,M=e.each,I=e.isWindow,B=t.is.defined,L=t.is.func,N=t.is.number,H=t.is.object,O=t.to["int"],F=t.to.number,R=t.to.string,W=/left|center|right/,z=/top|center|bottom/,Y=/[\+\-]\d+(\.[\d]+)?%?/,V=/^\w+/,j=/%$/,G="mousedown",q="mouseup",X="mousemove",U="keydown",$="start",Q="stop",K="resize",Z="resized",J="drag",et="cancel",tt="disabled",nt="px",it="left",rt="right",at="top",ot="bottom",st="middle",lt="center",dt="overflow",ut="auto",ct="position",ht="absolute",pt="relative",ft="overflow-x",gt="overflow-y",mt="scroll",vt="horizontal",yt="vertical",bt="my",_t="at",xt="marginLeft",wt="marginRight",Ct="marginTop",Tt="marginBottom",kt="flip",St="sui-resizable",Et=St+"-"+tt,Dt="sui-draggable",At=Dt+"-"+tt,Pt=Dt+"-dragging",Mt="sui-unselectable",It=0;f={},f.GetWithinInfo=o,f.GetMaxZIndex=u,t.ui.Util=f,h=function(){return It++,p?p:(this.init(),void(p=this))},h.prototype={_pos:null,init:function(){var t=this;e(C).on(X+".suiMouseTracker",P(t._onMouseMove,t))},_onMouseMove:function(e){this._pos=this.getPosFromEvent(e)},getPosFromEvent:function(e){return e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:{x:e.clientX+C.body.scrollLeft-C.body.clientLeft,y:e.clientY+C.body.scrollTop-C.body.clientTop}},getPosition:function(e){var t=this;return null===t._pos&&B(e)&&(t._pos=t.getPosFromEvent(e)),t._pos},isInWindow:function(t){var i=this,r=i.getPosition(t),a=r.x,o=r.y,s=e(n).scrollTop(),l=e(n).scrollLeft();return a>=l&&a<=l+e(n).width()&&o>=s&&o<=s+e(n).height()},destroy:function(){--It>0||(e(C).off(X+".suiMouseTracker"),p=null)}},t.MouseTracker=h,g={},g.Set=function(t,n,i){if(!t||!n||!i)throw"Invalid arguments passed to Position.Set";var r,u,c,h,p,f,g={my:i.source,at:i.target,collision:i.overflow,inside:i.inside},v=e(n),y=o(g.inside),b=a(y),_=(g.collision||kt).split(" "),x={};f=d(v),v[0].preventDefault&&(g.at="left top"),u=f.width,c=f.height,h=f.offset,p=A({},h),M([bt,_t],function(){var e,t,n=this,i=(g[n]||"").split(" ");1===i.length&&(i=W.test(i[0])?i.concat([lt]):z.test(i[0])?[lt].concat(i):[lt,lt]),i[0]=W.test(i[0])?i[0]:lt,i[1]=z.test(i[1])?i[1]:lt,e=Y.exec(i[0]),t=Y.exec(i[1]),x[n]=[e?e[0]:0,t?t[0]:0],g[n]=[V.exec(i[0])[0],V.exec(i[1])[0]]}),1===_.length&&(_[1]=_[0]),g.at[0]===rt?p.left+=u:g.at[0]===lt&&(p.left+=u/2),g.at[1]===ot?p.top+=c:g.at[1]===lt&&(p.top+=c/2),r=s(x.at,u,c),p.left+=r[0],p.top+=r[1];var w,C,k=e(t),D=k.outerWidth(),P=k.outerHeight(),I=l(k,xt),B=l(k,Ct),N=D+I+l(k,wt)+b.width,H=P+B+l(k,Tt)+b.height,O=A({},p),F=s(x.my,k.outerWidth(),k.outerHeight());g.my[0]===rt?O.left-=D:g.my[0]===lt&&(O.left-=D/2),g.my[1]===ot?O.top-=P:g.my[1]===lt&&(O.top-=P/2),O.left+=F[0],O.top+=F[1],O.left=E(O.left),O.top=E(O.top),w={marginLeft:I,marginTop:B},M([it,at],function(e,t){m[_[e]]&&m[_[e]][t](O,{targetWidth:u,targetHeight:c,elemWidth:D,elemHeight:P,collisionPosition:w,collisionWidth:N,collisionHeight:H,offset:[r[0]+F[0],r[1]+F[1]],my:g.my,at:g.at,within:y,elem:k})}),L(i.callback)&&(C=function(){var e=h.left-O.left,t=e+u-D,n=h.top-O.top,r=n+c-P,a={target:{element:v,left:h.left,top:h.top,width:u,height:c},element:{element:k,left:O.left,top:O.top,width:D,height:P},horizontal:0>t?it:e>0?rt:lt,vertical:0>r?at:n>0?ot:st};D>u&&T(e+t)<u&&(a.horizontal=lt),P>c&&T(n+r)<c&&(a.vertical=st),a.important=S(T(e),T(t))>S(T(n),T(r))?vt:yt,i.callback(a)}),k.offset(O),C&&C()},m={fit:{left:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,a=i.width,o=e.left-t.collisionPosition.marginLeft,s=r-o,l=o+t.collisionWidth-a-r;t.collisionWidth>a?s>0&&0>=l?(n=e.left+s+t.collisionWidth-a-r,e.left+=s-n):e.left=l>0&&0>=s?r:s>l?r+a-t.collisionWidth:r:s>0?e.left+=s:l>0?e.left-=l:e.left=S(e.left-o,e.left)},top:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,a=t.within.height,o=e.top-t.collisionPosition.marginTop,s=r-o,l=o+t.collisionHeight-a-r;t.collisionHeight>a?s>0&&0>=l?(n=e.top+s+t.collisionHeight-a-r,e.top+=s-n):e.top=l>0&&0>=s?r:s>l?r+a-t.collisionHeight:r:s>0?e.top+=s:l>0?e.top-=l:e.top=S(e.top-o,e.top)}},flip:{left:function(e,t){var n,i,r=t.within,a=r.offset.left+r.scrollLeft,o=r.width,s=r.isWindow?r.scrollLeft:r.offset.left,l=e.left-t.collisionPosition.marginLeft,d=l-s,u=l+t.collisionWidth-o-s,c=t.my[0]===it?-t.elemWidth:t.my[0]===rt?t.elemWidth:0,h=t.at[0]===it?t.targetWidth:t.at[0]===rt?-t.targetWidth:0,p=-2*t.offset[0];0>d?(n=e.left+c+h+p+t.collisionWidth-o-a,(0>n||n<T(d))&&(e.left+=c+h+p)):u>0&&(i=e.left-t.collisionPosition.marginLeft+c+h+p-s,(i>0||T(i)<u)&&(e.left+=c+h+p))},top:function(e,t){var n,i,r=t.within,a=r.offset.top+r.scrollTop,o=r.height,s=r.isWindow?r.scrollTop:r.offset.top,l=e.top-t.collisionPosition.marginTop,d=l-s,u=l+t.collisionHeight-o-s,c=t.my[1]===at,h=c?-t.elemHeight:t.my[1]===ot?t.elemHeight:0,p=t.at[1]===at?t.targetHeight:t.at[1]===ot?-t.targetHeight:0,f=-2*t.offset[1];0>d?(i=e.top+h+p+f+t.collisionHeight-o-a,e.top+h+p+f>d&&(0>i||i<T(d))&&(e.top+=h+p+f)):u>0&&(n=e.top-t.collisionPosition.marginTop+h+p+f-s,e.top+h+p+f>u&&(n>0||T(n)<u)&&(e.top+=h+p+f))}},flipfit:{left:function(){m.flip.left.apply(this,arguments),m.fit.left.apply(this,arguments)},top:function(){m.flip.top.apply(this,arguments),m.fit.top.apply(this,arguments)}}},t.ui.Position=g,_={enabled:!0,cls:i,resizeCls:i,delta:1,handles:["e","w","n","s","se","sw","ne","nw"],handleWidth:8,handleZIndex:105,minHeight:16,minWidth:16,maxHeight:i,maxWidth:i,events:{}},b=x.extend({init:function(){x.fn.init.apply(this,arguments);var t=this,n=e(t.element),i=t.options,r=i.cls;t.mouseTracker=new h,n.addClass(St+(r?" "+r:"")),t._initHandles(),t.enabled(i.enabled)},_initHandles:function(){var t,n,i,r=this,a=e(r.element),o=(a.width(),a.height()),s=r.options,l=s.handles,d=s.handleWidth,u=d+nt,c=d+2+nt,h="-"+(d-2)+nt,p=s.handleZIndex;for(r.handles=[],i=0;i<l.length;i++){switch(t=R(l[i]).toLowerCase(),n={},t){case"e":n={width:u,height:o+nt,top:0,right:h};break;case"w":n={width:u,height:o+nt,top:0,left:h};break;case"n":n={width:"100%",height:u,top:h};break;case"s":n={width:"100%",height:u,bottom:h};break;case"se":n={width:c,height:c,bottom:h,right:h};break;case"sw":n={width:c,height:c,bottom:h,left:h};break;case"ne":n={width:c,height:c,top:h,right:h};break;case"nw":n={width:c,height:c,top:h,left:h}}n.zIndex=p,r.handles[i]={type:t},r.handles[i][G]=P(r._handleMouseDown,r,i),r.handles[i].element=e('<div class="sui-resizable-handle sui-resizable-dir-'+t+'"></div>').appendTo(a).css(n).on(G,r.handles[i][G])}e(C).on(q+".shieldResizable"+r.getInstanceId(),P(r._handleMouseUp,r)),e(C).on(X+".shieldResizable"+r.getInstanceId(),P(r._handleMouseMove,r))},_destroyHandles:function(){var t,n=this,i=n.handles;for(e(C).off(q+".shieldResizable"+n.getInstanceId()),e(C).off(X+".shieldResizable"+n.getInstanceId()),t=0;t<i.length;t++)e(n.handles[t].element).off(G,n.handles[t][G]).remove();n.handles=[]},_handleMouseDown:function(t,n){var i=this;i._enabled&&!i.resizing&&(i.resizing=!0,i.resizingHandle=t,i.oldPos=i.mouseTracker.getPosition(n),i.startSent=!1,e(i.element).addClass(Mt))},_handleMouseMove:function(t){var n,i,r,a,o,s,d,u,c,h,p,f,g,m,v=this,y=e(v.element),b=v.options,_=b.delta,x=b.minWidth,w=b.maxWidth,C=b.minHeight,k=b.maxHeight,S=b.resizeCls,E=v.resizingHandle,D=v.handles,A=v.mouseTracker,P=v.oldPos;if(A.isInWindow(t)&&v.resizing&&B(E)&&(r=A.getPosition(t),a=r.x-P.x,o=r.y-P.y,n=D[E],i=n.type,T(a)>=_||T(o)>=_)){switch(/^(se|sw|ne|nw)$/i.test(i)||(/^(e|w)$/i.test(i)?o=0:a=0),T(a)<_&&(a=0),T(o)<_&&(o=0),s=a,d=o,u=0,c=0,i){case"w":s=-a,u=-s;break;case"n":d=-o,c=-d;break;case"nw":s=-a,d=-o,u=-s,c=-d;break;case"sw":s=-a,u=-s;break;case"ne":d=-o,c=-d}if(f=y.width(),g=y.height(),h=l(y,at),p=l(y,it),s>0?(B(w)&&f+s>w&&(s=w-f,0!==u&&(u=-s)),0>p+u&&(s-=p-u,u=-s)):0>s&&B(x)&&x>f+s&&(s=x-f,0!==u&&(u=-s)),d>0?(B(k)&&g+d>k&&(d=k-g,0!==c&&(c=-d)),0>h+c&&(d-=h-c,c=-d)):0>d&&B(C)&&C>g+d&&(d=C-g,0!==c&&(c=-d)),0!==s||0!==d){v.startSent||(v.startSent=!0,v.trigger($),S&&y.addClass(S));var M=v.trigger(K,{deltaX:s,deltaY:d});if(!M.isDefaultPrevented()){if(y.width(f+s).height(g+d),(0!==u||0!==c)&&y.css({top:h+c+nt,left:p+u+nt}),v.oldPos.x=v.oldPos.x+a,v.oldPos.y=v.oldPos.y+o,0!==o)for(m=0;m<D.length;m++)n=D[m],/^(e|w)$/i.test(n.type)&&e(n.element).height(g+d);v.trigger(Z)}}}},_handleMouseUp:function(){var t=this,n=!!t.startSent,r=t.options.resizeCls;t.resizing&&(t.resizing=!1,t.resizingHandle=i,t.oldPos=i,t.startSent=!1,n&&t.trigger(Q),e(t.element).removeClass(Mt+(r?" "+r:"")))},resize:function(t,n){var i=this,r=i.options;t=S(k(t,r.maxWidth),r.minWidth),n=S(k(n,r.maxHeight),r.minHeight),e(i.element).width(t).height(n)},enabled:function(){var t,n=this,i=e(n.element),r=[].slice.call(arguments);return r.length>0?(t=!!r[0],t?i.removeClass(Et):i.addClass(Et),void(n._enabled=t)):n._enabled},destroy:function(){var t=this,n=t.options.cls;t.mouseTracker.destroy(),t.mouseTracker=null,e(t.element).removeClass(St+(n?" "+n:"")),t._destroyHandles(),x.fn.destroy.call(t)}}),b.defaults=_,t.ui.plugin("Resizable",b),y={enabled:!0,cls:i,dragCls:i,handle:i,direction:i,min:i,max:i,step:i,allowedPositions:i,stack:!0,helper:i,events:{}},v=x.extend({init:function(){x.fn.init.apply(this,arguments);var t,n=this,i=e(n.element),r=n.options,a=r.cls;n.mouseTracker=new h,i.addClass(Dt+(a?" "+a:"")),t=i.css(ct),t!==pt&&t!==ht&&(n._origPosStyle=t,i.css(ct,pt)),n.enabled(r.enabled),n.startSent=!1},_handleMouseDown:function(t){var n,i=this,r=i.element,a=i.options,o=a.helper,s=a.cls,d=a.dragCls;i._enabled&&!i._dragging&&(i._dragging=!0,i.startSent=!1,i._helper=i._isCustomHelper=null,i.stepPosition=i.mousePos=i.mouseTracker.getPosition(t),e(C).on(X+".shieldDraggable"+i.getInstanceId(),P(i._handleMouseMove,i)).on(q+".shieldDraggable"+i.getInstanceId(),P(i._handleMouseUp,i)).on(U+".shieldDraggable"+i.getInstanceId(),P(i._handleKeyDown,i)),o&&"original"!==o?(n=L(o)?o.call(i,{position:i.oriPosition,event:t}):"clone"==o?r.clone():e(o),n.parents("body").length||r.after(n),/(fixed|absolute)/i.test(n.css(ct))||n.css(ct,ht),g.Set(n,r,{source:"left top",target:"left top",overflow:"none"}),i._isCustomHelper=!0):(n=r,i._isCustomHelper=!1),i._helper=n,n.addClass(Mt+" "+Dt+(s?" "+s:"")+" "+Pt+(d?" "+d:"")),i.oriPosition={left:l(n,it),top:l(n,at)})},_handleMouseMove:function(t){var n,r,a,o,s,d,u,c,h,p=this,f=e(p._helper),g=f.width(),m=f.height(),v=p.options,y=v.step,b=v.direction,_=v.allowedPositions,x=_!==i&&_.length>0,w=v.min,C=v.max,E=p.mouseTracker,A=E.getPosition(t);if(E.isInWindow(t)&&p._dragging){if(o=l(f,at),s=l(f,it),x){var P,M,I,O,F,R,W=i,z=i,Y=i,V=i;for(P=A.x-p.stepPosition.x,M=A.y-p.stepPosition.y,I=s+P,O=o+M,F=0;F<_.length;F++)R=_[F],R.x!==i&&(Y===i||Y>T(I-R.x))&&(Y=T(I-R.x),W=F),R.y!==i&&(V===i||V>T(O-R.y))&&(V=T(O-R.y),z=F);d=s,u=o,W!==i&&(d=_[W].x,p.stepPosition.x+=_[W].x-s),z!==i&&(u=_[z].y,p.stepPosition.y+=_[z].y-o)}else{if(c=b==yt?0:A.x-p.mousePos.x,h=b==vt?0:A.y-p.mousePos.y,B(y)){if(n=L(y)?y.call(this,{deltaX:c,deltaY:h,element:f,domEvent:t,helperLeft:l(f,it),helperTop:l(f,at),mouse:A}):y,N(n)?r=a=n:H(n)&&(r=n.x,a=n.y),B(r)&&T(c)<r&&B(a)&&T(h)<a)return;B(r)&&r>1&&c%r!==0&&(c=(c>=0?1:-1)*D(T(c)/r)*r),B(a)&&a>1&&h%a!==0&&(h=(h>=0?1:-1)*D(T(h)/a)*a)}d=s+c,u=S(0,o+h)}b==vt&&(w!==i&&(d=S(w,d),d===w&&(c=0)),C!==i&&(d=k(C-g,d),d===C-g&&(c=0))),b==yt&&(w&&(u=S(w,u),u===w&&(h=0)),C&&(u=k(C-m,u),u===C-m&&(h=0))),f.css({left:d,top:u}),p.mousePos=A,p.startSent||(p.startSent=!0,p.trigger($,{element:f,domEvent:t}),p._adjustZIndex()),p.trigger(J,{deltaX:c,deltaY:h,element:f,domEvent:t})}},_handleMouseUp:function(e){var t,n=this,i=n.element,r=n._helper;n._dragging&&(n.startSent&&(t=n.trigger(Q,{left:l(r,it),top:l(r,at),element:r,domEvent:e}),t.isDefaultPrevented()?n._isCustomHelper||r.css({left:n.oriPosition.left,top:n.oriPosition.top}):n._isCustomHelper&&(g.Set(i,r,{source:"left top",target:"left top",overflow:"none"}),n._adjustZIndex(i))),n._endDrag())},_adjustZIndex:function(t){var n=this,i=n.options.stack;i!==!1&&(B(t)||(t=n._helper),e(t).css("z-index",u(i===!0?"."+Dt:i)+1))},_handleKeyDown:function(e){var t=this,n=e.keyCode;switch(n){case w.ESC:t._dragging&&(t._helper.css({left:t.oriPosition.left+nt,top:t.oriPosition.top+nt}),t.trigger(et),t._endDrag())}},_endDrag:function(){var t=this,n=t.options.dragCls;t._dragging=!1,t._isCustomHelper?e(t._helper).remove():e(t._helper).removeClass(Mt+" "+Pt+(n?" "+n:"")),e(C).off(X+".shieldDraggable"+t.getInstanceId()).off(q+".shieldDraggable"+t.getInstanceId()).off(U+".shieldDraggable"+t.getInstanceId()),t.mousePos=t.oriPosition=t._helper=t._isCustomHelper=null},enabled:function(){var t,n=this,i=e(n.element),r=n.options,a=r.handle?e(r.handle):i,o=[].slice.call(arguments);return o.length>0?(t=!!o[0],t?(i.removeClass(At),n._mouseDownProxy||(n._mouseDownProxy=P(n._handleMouseDown,n),a.on(G,n._mouseDownProxy))):(i.addClass(At),n._mouseDownProxy&&(a.off(G,n._mouseDownProxy),n._mouseDownProxy=null)),void(n._enabled=t)):n._enabled},destroy:function(){var t=this,n=t.options.cls;t.mouseTracker.destroy(),t.mouseTracker=null,e(t.element).removeClass(Dt+(n?" "+n:"")),t._origPosStyle&&(e(t.element).css(ct,t._origPosStyle),t._origPosStyle=null),x.fn.destroy.call(t)}}),v.defaults=y,t.ui.plugin("Draggable",v)}(jQuery,shield,this),shield.version="1.7.14",!function(e,t,n,i){"use strict";function r(e){return St.log(e)/St.LN10}function a(e){return St.pow(10,e)}function o(e,t){for(var n=e.length;n--;)if(e[n]===t){e.splice(n,1);break}}function s(e,t,n){var i,r,a="setAttribute";if(ln(t))pn(n)?e[a](t,n):e&&e.getAttribute&&(r=e.getAttribute(t));else if(pn(t)&&dn(t))for(i in t)t.hasOwnProperty(i)&&e[a](i,t[i]);return r}function l(){var e,t,n=arguments,i=n.length;for(e=0;i>e;e++)if(t=n[e],"undefined"!=typeof t&&null!==t)return t}function d(e,t){Xt&&t&&t.opacity!==i&&(t.filter="alpha(opacity="+100*t.opacity+")"),an(e.style,t)}function u(e,t,n,i,r){var a=kt.createElement(e);return t&&an(a,t),r&&d(a,{padding:0,border:Cn,margin:0}),n&&d(a,n),i&&i.appendChild(a),a}function c(e,t){var n=function(){};return n.prototype=new e,an(n.prototype,t),n}function h(e,t,n){var i=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(i),n.apply(this,e)}}function p(e,t,n,i){var r,a;for(n=l(n,1),r=e/n,t||(t=[1,2,2.5,5,10],i&&i.decimalTicks===!1&&(1===n?t=[1,2,5,10]:.1>=n&&(t=[1/n]))),a=0;a<t.length&&(e=t[a],!(r<=(t[a]+(t[a+1]||t[a]))/2));a++);return e*=n}function f(e,t){var n,i,r=t||[[Pn,[1,2,5,10,20,25,50,100,200,500]],[Mn,[1,2,5,10,15,30]],[In,[1,2,5,10,15,30]],[Bn,[1,2,3,4,6,8,12]],[Ln,[1,2]],[Nn,[1,2]],[Hn,[1,2,3,4,6]],[On,null]],a=r[r.length-1],o=ut[a[0]],s=a[1];for(i=0;i<r.length;i++)if(a=r[i],o=ut[a[0]],s=a[1],r[i+1]){var l=(o*s[s.length-1]+ut[r[i+1][0]])/2;if(l>=e)break}return o===ut[On]&&5*o>e&&(s=[1,2,5]),n=p(e/o,s),{unitRange:o,count:n,unitName:a[0]}}function g(e,t,n,i){var r,a,o=[],s={},d=st.allowUTCFormatting,u=new Date(t),c=e.unitRange,h=e.count;c>=ut[Mn]&&(u.setMilliseconds(0),u.setSeconds(c>=ut[In]?0:h*Dt(u.getSeconds()/h))),c>=ut[In]&&u[yt](c>=ut[Bn]?0:h*Dt(u[ht]()/h)),c>=ut[Bn]&&u[bt](c>=ut[Ln]?0:h*Dt(u[pt]()/h)),c>=ut[Ln]&&u[_t](c>=ut[Hn]?1:h*Dt(u[gt]()/h)),c>=ut[Hn]&&(u[xt](c>=ut[On]?0:h*Dt(u[mt]()/h)),a=u[vt]()),c>=ut[On]&&(a-=a%h,u[wt](a)),c===ut[Nn]&&u[_t](u[gt]()-u[ft]()+l(i,1)),r=1,a=u[vt]();for(var p=u.getTime(),f=u[mt](),g=u[gt](),m=d?0:(864e5+60*u.getTimezoneOffset()*1e3)%864e5;n>p;)o.push(p),c===ut[On]?p=ct(a+r*h,0):c===ut[Hn]?p=ct(a,f+r*h):d||c!==ut[Ln]&&c!==ut[Nn]?(p+=c*h,c<=ut[Bn]&&p%ut[Ln]===m&&(s[p]=Ln)):p=ct(a,f,g+r*h*(c===ut[Ln]?1:7)),r++;return o.push(p),o.info=an(e,{higherRanks:s,totalRange:c*h}),o}function m(){this.color=0,this.symbol=0}function v(e,t){var n,i,r=e.length;for(i=0;r>i;i++)e[i]._ssIndex=i;for(e.sort(function(e,i){return n=t(e,i),0===n?e._ssIndex-i._ssIndex:n}),i=0;r>i;i++)delete e[i]._ssIndex}function y(e){for(var t=e.length,n=e[0];t--;)e[t]<n&&(n=e[t]);return n}function b(e){for(var t=e.length,n=e[0];t--;)e[t]>n&&(n=e[t]);return n}function _(e,t){for(var n in e)e.hasOwnProperty(n)&&(e[n]&&e[n]!==t&&e[n].destroy&&e[n].destroy(),delete e[n])}function x(e){ot||(ot=u(mn)),e&&ot.appendChild(e),ot.innerHTML=""}function w(e){return parseFloat(e.toPrecision(14))}function C(e,t){lt=l(e,zn[t.guid].applyAnimation)}function T(){var e=st.allowUTCFormatting,t=e?"getUTC":"get",n=e?"setUTC":"set";ct=e?Date.UTC:function(e,t,n,i,r,a){return new Date(e,t,l(n,1),l(i,0),l(r,0),l(a,0)).getTime()},ht=t+"Minutes",pt=t+"Hours",ft=t+"Day",gt=t+"Date",mt=t+"Month",vt=t+"FullYear",yt=n+"Minutes",bt=n+"Hours",_t=n+"Date",xt=n+"Month",wt=n+"FullYear"}function k(){}function S(e,t,n){var i=this;i.axis=e,i.pos=t,i.type=n||"",i.isNew=!0,n||i._label()}function E(e,t){var n=this;return n.axis=e,t&&(n.options=t,n.id=t.id),n}function D(e,t,n,i,r,a){var o=this,s=zn[e.chart.guid].isInverted;o.axis=e,o.isNegative=n,o.options=t,o.x=i,o.stackIndex=r,o.percent="percent"===a,o.alignOptions={align:t.align||(s?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(s?"middle":n?"bottom":"top"),y:l(t.y,s?4:n?14:-6),x:l(t.x,s?n?-6:6:0)},o.textAlignINTERNAL=t.textAlignINTERNAL||(s?n?"right":"left":"center")}function A(){var e,n,r=this.axis,a=this.value,o=r.categoricalValues,s=this.dateTimeLabelFormat,l=null,d=l&&l.length,u=r.isLog?a:r.ticksRepeat;if(o)n=a;else if(s)n=t.format("{0:"+s+"}",new Date(a));else if(d&&u>=1e3)for(;d--&&n===i;)e=St.pow(1e3,d+1),u>=e&&null!==l[d]&&(n=t.format("{0:n}",a/e)+l[d]);
return n===i&&(n=a>=1e3?t.format("{0:d}",a):t.format(hn(a)?"{0:n}":"{0:d}",a)),n}function P(){var e,t=this,n=t.chart,r=t.stacks,a=[],o=[];t.hasVisibleSeries=!1,t.dataMin=t.dataMax=null,jn(t.dataSeries,function(s){if(s.visible||n.options.scaleAxesForHiddenSeries){var d,u,c,h,p,f,g,m,v,_,x,C=s.options,T=C.baseValue,k=[],S=0;if(t.hasVisibleSeries=!0,t.isLog&&0>=T&&(T=C.baseValue=null),t.isXAxis)g=s.xData,g.length&&(t.dataMin=Mt(l(t.dataMin,g[0]),y(g)),t.dataMax=Pt(l(t.dataMax,g[0]),b(g)));else{var E,A,P,M,I=s.cropped,B=F.call(s.axisX),L=!!s.modifyValue;for(d=C.stackMode,t.usePercentage="percent"===d,d&&(p=C.stackIndex,h=s.seriesType+l(p,""),f="-"+h,s.stackKey=h,u=a[h]||[],a[h]=u,c=o[f]||[],o[f]=c),t.usePercentage&&(t.dataMin=0,t.dataMax=99),g=s.processedXData,m=s.processedYData,x=m.length,e=0;x>e;e++)if(v=g[e],_=m[e],d&&(E=T>_,A=E?c:u,P=E?f:h,_=A[v]=pn(A[v])?w(A[v]+_):_,r[P]||(r[P]={}),r[P][v]||(r[P][v]=new D(t,t.options.stackTextSettings,E,v,p,d)),r[P][v]._total(_)),null!==_&&_!==i&&(L&&(_=s.modifyValue(_)),I||(g[e+1]||v)>=B.min&&(g[e-1]||v)<=B.max))if(M=_.length)for(;M--;)null!==_[M]&&(k[S++]=_[M]);else k[S++]=_;!t.usePercentage&&k.length&&(t.dataMin=Mt(l(t.dataMin,k[0]),y(k)),t.dataMax=Pt(l(t.dataMax,k[0]),b(k))),pn(T)&&(t.dataMin>=T?(t.dataMin=T,t.ignoreMinPadding=!0):t.dataMax<T&&(t.dataMax=T,t.ignoreMaxPadding=!0))}}})}function M(e,t,n){var i,r,a=w(Dt(t/e)*e),o=w(At(n/e)*e),s=[];for(i=a;o>=i&&(s.push(i),i=w(i+e),i!==r);)r=i;return s}function I(e,t,n,i){var o=this,s=o.options,d=o.len,u=[];if(i||(o._minorAutoInterval=null),e>=.5)e=Et(e),u=M.call(o,e,t,n);else if(e>=.08){var c,h,f,g,m,v,y,b=Dt(t);for(c=e>.3?[1,2,4]:e>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],h=b;n+1>h&&!y;h++)for(g=c.length,f=0;g>f&&!y;f++)m=r(a(h)*c[f]),m>t&&u.push(v),v>n&&(y=!0),v=m}else{var _=a(t),x=a(n),w=s[i?"minorTicksRepeat":"ticksRepeat"],C="auto"===w?null:w,T=s.tickPixelIntervalINTERNAL/(i?5:1),k=i?d/o.tickPositions.length:d;e=l(C,o._minorAutoInterval,(x-_)*T/(k||1)),e=p(e,null,St.pow(10,Dt(St.log(e)/St.LN10))),u=Xn(M.call(o,e,_,x),r),i||(o._minorAutoInterval=e/5)}return i||(o.ticksRepeat=e),u}function B(){var e,t,n,i=this,r=i.tickPositions,a=i.minorTicksRepeat,o=[];if(i.isLog)for(n=r.length,t=1;n>t;t++)o=o.concat(I.call(i,a,r[t-1],r[t],!0));else for(e=i.min+(r[0]-i.min)%a;e<=i.max;e+=a)o.push(e);return o}function L(e,t,n,i,r,a){var o=this;return e>0?o.translate(o.dataMin+e,t,n,i,r,a)-o.translate(o.dataMin,t,n,i,r,a):0>e?o.translate(o.dataMax+e,t,n,i,r,a)-o.translate(o.dataMax,t,n,i,r,a):0}function N(){var e,t,n,r,a,o,s,d,u=this,c=u.options,h=u.min,p=u.max,f=u.dataMax-u.dataMin>=u.zoomMin;if(u.isXAxis&&u.zoomMin===i&&!u.isLog&&(pn(c.min)||pn(c.max)?u.zoomMin=null:(jn(u.dataSeries,function(e){for(a=e.xData,o=e.xIncrement?1:a.length-1,n=o;n>0;n--)r=a[n]-a[n-1],(t===i||t>r)&&(t=r)}),u.zoomMin=Mt(5*t,u.dataMax-u.dataMin))),p-h<u.zoomMin){var g=u.zoomMin;e=(g-p+h)/2,s=[h-e,l(c.min,h-e)],f&&(s[2]=u.dataMin),h=b(s),d=[h+g,l(c.max,h+g)],f&&(d[2]=u.dataMax),p=y(d),g>p-h&&(s[0]=p-g,s[1]=l(c.min,p-g),h=b(s))}u.min=h,u.max=p}function H(){var e=this,t=zn[e.chart.guid],n=t.maxTicks,i=e.tickPositions,r=e.xOrY;n||(n={x:0,y:0}),!e.isLinked&&!e.isDatetimeAxis&&i.length>n[r]&&e.options.matchTicks!==!1&&(n[r]=i.length),t.maxTicks=n}function O(e,t,n,i,r){var a=this,o=a.chart;n=l(n,!0),r=an(r,{min:e,max:t}),a.userMin=e,a.userMax=t,a.isDirtyExtremes=!0,n&&o.redraw(i)}function F(){var e=this,t=e.isLog;return{min:t?w(a(e.min)):e.min,max:t?w(a(e.max)):e.max,dataMin:e.dataMin,dataMax:e.dataMax,userMin:e.userMin,userMax:e.userMax}}function R(e){var t=this,n=t.isLog,i=n?a(t.min):t.min,r=n?a(t.max):t.max;return i>e||null===e?e=i:e>r&&(e=r),t.translate(e,0,1,0,1)}function W(e){var t=new E(this,e).render();return this.plotLinesAndBands.push(t),t}function z(){this.init.apply(this,arguments)}function Y(e,t){var n,i,r=zn[this.chart.guid],a=r.isInverted,o=0,s=0;return e=fn(e),n=e[0].tooltipPos,n||(jn(e,function(e){i=e.dataSeries.axisY,o+=e.plotX,s+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!a&&i?i.top-r.plotTop:0)}),o/=e.length,s/=e.length,n=[a?r.plotWidth-s:o,this.chartBound&&!a&&e.length>1&&t?t.chartY-r.plotTop:a?r.plotHeight-o:s]),Xn(n,Et)}function V(){jn(this.axisMarkers,function(e){e&&e.hide()})}function j(t,n){var i=this;i.chart=t,i.options=n,i.axisMarkers=[],i.isHidden=!0,(/msie 7/i.test(Gt)||/msie 8/i.test(Gt))&&e("html").addClass("ie7"),i.labelElement=e('<div class="shield-tooltip" style="pointer-events: none"></div>').appendTo(t.element),(Xt||qt)&&e(i.labelElement).bind(Ft,function(e){zn[t.guid].container.onmousemove(e)}),i.chartBound=n.chartBound}function G(e,t){var n=this,i=en?"":t.zoomMode;n.zoomX=/x/.test(i),n.zoomY=/y/.test(i),n.options=t,n.chart=e,n.init(e,t.tooltipSettings)}function q(e,t){var n=this,i=n.options,r=e.legendItem,a=e.legendLine,o=e.legendSymbol,s=e.checkMark,l=n.disabledStyle.color,d=t?i.legendItemSettings.elementStyle.color:l,u=t?e.color:l,c=(e.options&&e.options.pointMark,{stroke:u,fill:u,"stroke-width":0});r&&r.css({fill:d}),a&&a.attr({stroke:u}),o&&o.attr(c),s&&(t?s.attr({stroke:i.checkMarkSettings.color}).css({visibility:vn}):s.css({visibility:yn}))}function X(e){var t=this,n=t.options,i=n.legendMarkerDistance,r=!n.rtlLayout,a=e._legendItemPos,o=a[0],s=a[1];e.legendGroup&&e.legendGroup.translate(r?o:t.legendWidth-o-2*i-4,s)}function U(e){e.legendItem&&e.legendItem.destroy(),e.legendLine&&e.legendLine.destroy(),e.legendSymbol&&e.legendSymbol.destroy(),e.legendGroup&&e.legendGroup.destroy()}function $(e){var t,n,i,r,a=this,o=a.chart,s=zn[o.guid],l=s.renderer,d=a.options,u=d.checkMarkSettings,c=u.mouseOverColor,h="horizontal"===d.renderDirection,p=d.symbolWidthINTERNAL,f=d.legendMarkerDistance,g=a.elementStyle,m=a.disabledStyle,v=a.padding,y=!d.rtlLayout,b=d.width,_=d.legendItemSettings.bottomSpacing||0,x=a.topSpacing,w=a.initialItemX,C=e.legendItem,T=e.dataSeries||e;T.options,C||(e.legendGroup=l.g().attr({zIndex:1}).add(a.scrollGroup),T.drawLegendSymbol(a,e),e.legendItem=C=l.text(e.collectionAlias,y?p+f:-f,a.baseline,d.htmlOutput).css(Un(e.visible?g:m)).attr({align:y?"left":"right",zIndex:2}).add(e.legendGroup),r=e.checkMark,e.legendGroup.on(Ft,function(){e.setState(Dn),C.css(a.options.legendItemSettings.mouseOverStyle),r&&c&&r.attr({stroke:c})}).on(Rt,function(){C.css(e.visible?g:m),r&&r.attr({stroke:u.color}),e.setState()}).on(Wn,function(){var t=o.trigger("legendSeriesClick",{item:e});t.isDefaultPrevented()||e.toggle()}),q.call(a,e,e.visible)),n=C.getBBox(),i=e.legendelementWidth=d.legendItemSettings.elementWidth||p+f+n.width+v,a.itemHeight=t=n.height,h&&a.itemX-w+i>(b||s.chartWidth-2*v-w)&&(a.itemX=w,a.itemY+=x+a.lastLineHeight+_,a.lastLineHeight=0),a.maxelementWidth=Pt(a.maxelementWidth,i),a.lastItemY=x+a.itemY+_,a.lastLineHeight=Pt(t,a.lastLineHeight),e._legendItemPos=[a.itemX,a.itemY],h?a.itemX+=i:(a.itemY+=x+t+_,a.lastLineHeight=t),a.offsetWidth=b||Pt(h?a.itemX-w:i,a.offsetWidth)}function Q(e){var t,n=this,i=n.chart,r=zn[i.guid],a=(r.renderer,n.options),o=a.y,s="top"===a.verticalAlign,l=r.spacingBox.height+(s?-o:o)-this.padding,d=n.clipRect;return"horizontal"===a.renderDirection&&(l/=2),e>l&&(n.clipHeight=t=l,d.attr({height:t}),e=l),e}function K(e){this.init(e)}function Z(e,t,n,i){var r=zn[e.guid],a=i?n:t,o=i?t:n;return a>=0&&a<=r.plotWidth&&o>=0&&o<=r.plotHeight}function J(){for(var e,t=this,n=["graphic","tracker","dataLabel","group","connector","shadowGroup"],i=6;i--;)e=n[i],t[e]&&(t[e]=t[e].destroy())}function et(e,t){var n,i=this,r=i.dataSeries,a=r.chart,o=r.data,s=o.length;for(C(t,a),e=l(e,!0),n=0;s>n;n++)if(o[n]===i){o.splice(n,1),r.options.data.splice(n,1),r.xData.splice(n,1),r.yData.splice(n,1);break}i.destroy(),r.isDirty=!0,r.isDirtyData=!0,e&&a.redraw()}function tt(e,t,n){var i,r=this,a=r.dataSeries,o=a.chart,s=zn[o.guid],d=r.slicedTranslation;C(n,o),t=l(t,!0),e=r.sliced=pn(e)?e:!r.sliced,i={translateX:e?d[0]:s.plotLeft,translateY:e?d[1]:s.plotTop},r.group.animate(i),r.shadowGroup&&r.shadowGroup.animate(i)}function nt(e,t,n){this.init.call(this,e,t,n)}function it(e,t,n){var i=this,r=zn[t.guid];e.call(i,t,n),r.enablePolarLayout&&(i.closeSegment=function(e){var t=i.axisX.center;e.push("L",t[0],t[1])},i.closedStacks=!0)}function rt(e,t){var n,r=this,a=zn[r.chart.guid],o=r.options.applyAnimation,s=r.group,l=r.markerGroup,d=r.axisX.center,u=a.plotLeft,c=a.plotTop;a.enablePolarLayout?a.renderer.isSVG&&!Xt&&(o===!0&&(o={}),t?(s.attrSetters.scaleX=s.attrSetters.scaleY=function(e,t){var n=this;return n[t]=e,n.scaleX!==i&&n.scaleY!==i&&n.element.setAttribute("transform","translate("+n.translateX+","+n.translateY+") scale("+n.scaleX+","+n.scaleY+")"),!1},n={translateX:d[0]+u,translateY:d[1]+c,scaleX:0,scaleY:0},s.attr(n),l&&(l.attrSetters=s.attrSetters,l.attr(n))):(n={translateX:u,translateY:c,scaleX:1,scaleY:1},s.animate(n,o),l&&l.animate(n,o),r.animate=null)):e.call(r,t)}var at,ot,st,lt,dt,ut,ct,ht,pt,ft,gt,mt,vt,yt,bt,_t,xt,wt,Ct=t.ui.Widget,Tt=t.Constants,kt=document,St=Math,Et=St.round,Dt=St.floor,At=St.ceil,Pt=St.max,Mt=St.min,It=St.abs,Bt=St.cos,Lt=St.sin,Nt=St.PI,Ht=2*Nt/360,Ot="function",Ft="mouseover",Rt="mouseout",Wt="mousemove",zt="mouseenter",Yt="mouseleave",Vt="touchstart",jt="point",Gt=navigator.userAgent,qt=n.opera,Xt=/msie/i.test(Gt)&&!qt,Ut=8===kt.documentMode,$t=/AppleWebKit/.test(Gt),Qt=/Firefox/.test(Gt),Kt=Tt.SVG_NS,Zt=!!kt.createElementNS&&!!kt.createElementNS(Kt,"svg").createSVGRect,Jt=!!kt.createElement("canvas").getContext,en=!Zt&&!Xt&&Jt,tn=kt.documentElement.ontouchstart!==i,nn={},rn=function(){},an=e.extend,on=t.error,sn=t.to["int"],ln=t.is.string,dn=t.is.object,un=t.is.array,cn=t.is.number,hn=(t.is.integer,t.is["float"]),pn=t.is.defined,fn=t.to.array,gn="shield-",mn="div",vn="visible",yn="hidden",bn="relative",_n="px",xn="L",wn="M",Cn="none",Tn="absolute",kn="pointer",Sn="rgba(192,192,192,"+(Zt?1e-4:.002)+")",En="",Dn="pointHoveredState",An="pointSelectedState",Pn="MILLISECOND",Mn="SECOND",In="MINUTE",Bn="HOUR",Ln="DAY",Nn="WEEK",Hn="MONTH",On="YEAR",Fn="stroke-width",Rn="resize",Wn="click",zn={},Yn={};m.prototype={wrapColor:function(e){this.color>=e&&(this.color=0)},wrapSymbol:function(e){this.symbol>=e&&(this.symbol=0)}},ut={MILLISECOND:1,SECOND:1e3,MINUTE:6e4,HOUR:36e5,DAY:864e5,WEEK:6048e5,MONTH:2592e6,YEAR:31556952e3},dt={init:function(e,t,n){t=t||"";var i,r,a,o,s,l=e.shift,d=t.indexOf("C")>-1,u=d?7:3,c=t.split(" "),h=[].concat(n),p=function(e){for(a=e.length;a--;)e[a]===wn&&e.splice(a+1,0,e[a+1],e[a+2],e[a+1],e[a+2])};if(d&&(p(c),p(h)),e.isArea&&(o=c.splice(c.length-6,6),s=h.splice(h.length-6,6)),l<=h.length/u)for(;l--;)h=[].concat(h).splice(0,u).concat(h);if(e.shift=0,c.length)for(i=h.length;c.length<i;)r=[].concat(c).splice(c.length-u,u),d&&(r[u-6]=r[u-2],r[u-5]=r[u-1]),c=c.concat(r);return o&&(c=c.concat(o),h=h.concat(s)),[c,h]},step:function(e,t,n,i){var r,a=[],o=e.length;if(1===n)a=i;else if(o===t.length&&1>n)for(;o--;)r=parseFloat(e[o]),a[o]=isNaN(r)?e[o]:n*parseFloat(t[o]-r)+r;else a=t;return a}},function(){var t,n=e.fx,r=n.step,a=e.Tween,o=a&&a.propHooks;e.extend(e.easing,{easeOutQuad:function(e,t,n,i,r){return-i*(t/=r)*(t-2)+n}}),e.each(["cur","_default","width","height"],function(e,t){var s,l,d=r;"cur"===t?d=n.prototype:"_default"===t&&a&&(d=o[t],t="set"),s=d[t],s&&(d[t]=function(n){return n=e?n:this,l=n.elem,l.attr?l.attr(n.prop,"cur"===t?i:n.now):s.apply(this,arguments)})}),t=function(e){var t,n=e.elem;e.started||(t=dt.init(n,n.d,n.toD),e.start=t[0],e.end=t[1],e.started=!0),n.attr("d",dt.step(e.start,e.end,e.pos,n.toD))},a?o.d={set:t}:r.d=t}();var Vn=(e.getScript,e.inArray),jn=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){for(var n=0,i=e.length;i>n;n++)if(t.call(e[n],e[n],n,e)===!1)return n},Gn=e.grep,qn=function(t){return e(t).offset()},Xn=e.map,Un=function(){return e.extend.apply(e,[].concat.apply([!0,null],arguments))},$n=function(t,n,i){e(t).bind(n,i)},Qn=function(t,n,i){var r=kt.removeEventListener?"removeEventListener":"detachEvent";kt[r]&&!t[r]&&(t[r]=function(){}),e(t).unbind(n,i)},Kn=function(t,n,i,r){var a,o=e.Event(n),s="detached"+n;!Xt&&i&&(delete i.layerX,delete i.layerY),an(o,i),t[n]&&(t[s]=t[n],t[n]=null),e.each(["preventDefault","stopPropagation"],function(e,t){var n=o[t];o[t]=function(){try{n.call(o)}catch(e){"preventDefault"===t&&(a=!0)}}}),e(t).trigger(o),t[s]&&(t[n]=t[s],t[s]=null),!r||o.isDefaultPrevented()||a||r(o)},Zn=function(e,n,i,r){var a;e instanceof t.ui.Widget?e.trigger(n,i,r):e instanceof t.Dispatcher?(a=e.trigger(n,i),typeof r!==Ot||a.isDefaultPrevented()||r.call(e,a)):Kn(e,n,i,r)},Jn=function(t,n,i){var r=e(t);n.d&&(t.toD=n.d,n.d=1),r.stop(),r.animate(n,i)},ei=function(t){e(t).stop()},ti={enabled:!0,align:"center",x:0,y:15,style:{color:"#7E7E7E",fontSize:"11px",lineHeight:"14px"}};st={seriesPalette:["#1E98E4","#FFC500","#FF2A00","#CACACA","#7F7F7F","#00FF9C","#6D31FF","#00B2A1","#B9FF85","#FF8000"],allowUTCFormatting:!0,localization:{},primaryHeader:{text:"Shield UI Chart",align:"center",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif",y:-15,style:{color:"#4B4B4B",fontSize:"16px",top:10}},secondaryHeader:{text:"",align:"center",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif",y:5,style:{color:"#606060"}},loadingTextStyle:{fontWeight:"bold",position:bn,top:"1em"},symbols:["circle"],chartAreaBorderColor:"#000000",chartAreaBorderWidth:0,borderColor:"#A0A0A0",borderRadius:0,borderWidth:0,seriesType:"bar",scaleAxesForHiddenSeries:!1,chartAreaPaddingTop:40,chartAreaPaddingRight:10,chartAreaPaddingBottom:20,chartAreaPaddingLeft:10,style:{fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif",fontSize:"12px"},backgroundColor:"#FFFFFF",axisX:{plotStripWidth:0,drawWidth:1,ticksWidth:1,ticksHeight:6,drawColor:"#636363",ticksColor:"#636363",lastTickTextVisible:!0,axisTickText:{style:{color:"#636363",fontSize:"11px",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"},y:17},title:{style:{color:"#636363",fontWeight:"normal",fontSize:"11px",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"}}},axisY:{plotStripWidth:1,drawWidth:0,tickWidth:1,tickColor:"#7E7E7E",drawColor:"#636363",plotStripDashStyle:"Solid",axisTickText:{style:{color:"#636363",fontSize:"11px",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"}},title:{style:{color:"#636363",fontSize:"11px",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"}}},seriesSettings:{bar:{borderWidth:0},line:{enablePointSelection:!1,applyAnimation:{duration:1200},events:{},drawWidth:3,shadow:!1,pointMark:{enabled:!0,drawWidth:2,drawRadius:3,drawColor:null,innerColor:null,activeSettings:{pointHoveredState:{enabled:!0,innerColor:"#FFFFFF",drawWidth:2,drawRadius:4},pointSelectedState:{color:"#7AF4F4",shadow:!1,drawWidth:2}}},point:{events:{}},dataPointText:Un(ti,{enabled:!1,format:"{point.y}",verticalAlign:"bottom",y:0}),pointsLimit:300,pointRange:0,addToLegend:!0,activeSettings:{pointHoveredState:{drawWidth:3,pointMark:{}},pointSelectedState:{pointMark:{}}},completeSeriesTrace:!0},polarline:{applyAnimation:{duration:500}},polararea:{applyAnimation:{duration:500}},polarbar:{applyAnimation:{duration:500}},polarspline:{applyAnimation:{duration:500}},polarsplinearea:{applyAnimation:{duration:500}},polarscatter:{applyAnimation:{duration:500}}},chartLegend:{enabled:!0,align:"center",renderDirection:"horizontal",borderWidth:0,borderColor:"#909090",borderRadius:0,shadow:!1,legendItemSettings:{disabledStyle:{color:"#CCC"},mouseOverStyle:{color:"#000"},elementStyle:{cursor:kn,color:"#3E576F",fontSize:"12px"}},checkMarkSettings:{enabled:!1,shape:"check",width:1,color:"#3E576F",mouseOverColor:i,coordinates:{x:i,y:i,width:i,height:i}},symbolWidthINTERNAL:12,drawRadius:4,legendMarkerDistance:5,verticalAlign:"bottom",x:0,y:10},tooltipSettings:{enabled:!0,customHeaderText:"{point.pointName}",customPointText:"<span>{point.dataSeries.collectionAlias}</span>: {point.y}",format:null,position:null,chartBound:!1,axisMarkers:{enabled:!1,mode:"xy",color:"#999999",width:1,zIndex:3},showDistance:tn?25:10}};var ni=st.seriesSettings,ii=ni.line;T();var ri=function(e){function t(e){a=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(e),a?o=[sn(a[1]),sn(a[2]),sn(a[3]),parseFloat(a[4],10)]:(a=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e),a&&(o=[sn(a[1],16),sn(a[2],16),sn(a[3],16),1]))}function n(t){var n;return n=o&&!isNaN(o[0])?"rgb"===t?"rgb("+o[0]+","+o[1]+","+o[2]+")":"a"===t?o[3]:"rgba("+o.join(",")+")":e}function i(e){if(cn(e)&&0!==e){var t;for(t=0;3>t;t++)o[t]+=sn(255*e),o[t]<0&&(o[t]=0),o[t]>255&&(o[t]=255)}return this}function r(e){return o[3]=e,this}var a,o=[];return t(e),{get:n,brighten:i,setOpacity:r}};k.prototype={init:function(e,t){var n=this;n.element="span"===t?u(t):kt.createElementNS(Kt,t),n.renderer=e,n.attrSetters={}},animate:function(e,t,n){var i=l(t,lt,!0);ei(this),i?(i=Un(i),n&&(i.complete=n),Jn(this,e,i)):(this.attr(e),n&&n())},attr:function(e,t){var n,r,a,o,l,d,u,c,h,p=this,f=p.element,g=f.nodeName.toLowerCase(),m=p.renderer,v=p.attrSetters,y=p.shadows,b=p;if(ln(e)&&pn(t)&&(n=e,e={},e[n]=t),ln(e))n=e,"circle"===g?n={x:"cx",y:"cy"}[n]||n:"strokeWidth"===n&&(n="stroke-width"),b=s(f,n)||p[n]||0,"d"!==n&&"visibility"!==n&&(b=parseFloat(b));else for(n in e)if(e.hasOwnProperty(n)&&(d=!1,r=e[n],a=v[n]&&v[n].call(p,r,n),a!==!1)){if(a!==i&&(r=a),"d"===n)r&&r.join&&(r=r.join(" ")),/(NaN| {2}|^$)/.test(r)&&(r="M 0 0");else if("x"===n&&"text"===g){for(o=0;o<f.childNodes.length;o++)l=f.childNodes[o],s(l,"x")===s(f,"x")&&s(l,"x",r);p.textAngle&&s(f,"transform","rotate("+p.textAngle+" "+r+" "+sn(e.y||s(f,"y"))+")")}else if("fill"===n)r=m.color(r,f,n);else if("circle"!==g||"x"!==n&&"y"!==n)if("rect"===g&&"r"===n)s(f,{rx:r,ry:r}),d=!0;else if("translateX"===n||"translateY"===n||"textAngle"===n||"verticalAlign"===n)h=!0,d=!0;else if("stroke"===n)r=m.color(r,f,n);else if("dashstyle"===n){if(n="stroke-dasharray",r=r&&r.toLowerCase(),"solid"===r)r=Cn;else if(r){for(r=r.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),o=r.length;o--;)r[o]=sn(r[o])*e["stroke-width"];r=r.join(",")}}else"isTracker"===n?p[n]=r:"width"===n?r=sn(r):"align"===n?(n="text-anchor",r={left:"start",center:"middle",right:"end"}[r]):"title"===n&&(u=f.getElementsByTagName("title")[0],u||(u=kt.createElementNS(Kt,"title"),f.appendChild(u)),u.textContent=r);else n={x:"cx",y:"cy"}[n]||n;if("strokeWidth"===n&&(n="stroke-width"),$t&&"stroke-width"===n&&0===r&&(r=1e-6),p.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(n)&&(c||(p.symbolAttr(e),c=!0),d=!0),y&&/^(width|height|visibility|x|y|d|transform)$/.test(n))for(o=y.length;o--;)s(y[o],n,"height"===n?Pt(r-(y[o].cutHeight||0),0):r);("width"===n||"height"===n)&&"rect"===g&&0>r&&(r=0),p[n]=r,h&&p.updateTransform(),"text"===n?(r!==p.textStr&&delete p.bBox,p.textStr=r,p.added&&m.buildText(p)):d||s(f,n,r)}return b},symbolAttr:function(e){var t=this;jn(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(n){t[n]=l(e[n],t[n])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":Cn)},crisp:function(e,t,n,i,r){var a,o,s=this,l={},d={};e=e||s.strokeWidth||s.attr&&s.attr("stroke-width")||0,o=Et(e)%2/2,d.x=Dt(t||s.x||0)+o,d.y=Dt(n||s.y||0)+o,d.width=Dt((i||s.width||0)-2*o),d.height=Dt((r||s.height||0)-2*o),d.strokeWidth=e;for(a in d)d.hasOwnProperty(a)&&s[a]!==d[a]&&(l[a]=d[a],dn(s)&&(s[a]=d[a]));return l},css:function(e){var t,n=this,i=n.element,r=e&&e.width&&"text"===i.nodeName.toLowerCase(),a="",o=function(e,t){return"-"+t.toLowerCase()};if(e&&e.color&&(e.fill=e.color),e=an(n.styles,e),n.styles=e,en&&r&&delete e.width,Xt&&!Zt)r&&delete e.width,d(n.element,e);else{for(t in e)e.hasOwnProperty(t)&&(a+=t.replace(/([A-Z])/g,o)+":"+e[t]+";");n.attr({style:a})}return r&&n.added&&n.renderer.buildText(n),n},on:function(e,t){var n=t;return tn&&e===Wn&&(e=Vt,n=function(e){e.preventDefault(),t()}),this.element["on"+e]=n,this},setRadialReference:function(e){return this.element.radialReference=e,this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){var e=this;return e.isInverted=!0,e.updateTransform(),e},htmlCss:function(e){var t=this,n=t.element,i=e&&"SPAN"===n.tagName&&e.width;return i&&(delete e.width,t.textWidth=i,t.updateTransform()),t.styles=an(t.styles,e),d(t.element,e),t},htmlGetBBox:function(){var e=this,t=e.element,n=e.bBox;return n||("text"===t.nodeName&&(t.style.position=Tn),n=e.bBox={x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}),n},htmlUpdateTransform:function(){if(!this.added)return void(this.alignOnAdd=!0);var e=this,t=e.renderer,n=e.element,i=e.translateX||0,r=e.translateY||0,a=e.x||0,o=e.y||0,s=e.textAlignINTERNAL||"left",u={left:0,center:.5,right:1}[s],c=s&&"left"!==s,h=e.shadows;if((i||r)&&(d(n,{marginLeft:i,marginTop:r}),h&&jn(h,function(e){d(e,{marginLeft:i+1,marginTop:r+1})})),e.isInverted&&jn(n.childNodes,function(e){t.invertChild(e,n)}),"SPAN"===n.tagName){var p,f,g,m,v,y=e.textAngle,b=0,_=1,x=0,w=sn(e.textWidth),C=e.xCorr||0,T=e.yCorr||0,k=[y,s,n.innerHTML,e.textWidth].join(","),S={};k!==e.cTT&&(pn(y)&&(t.isSVG?(v=Xt?"-ms-transform":$t?"-webkit-transform":Qt?"MozTransform":qt?"-o-transform":"",S[v]=S.transform="rotate("+y+"deg)"):(b=y*Ht,_=Bt(b),x=Lt(b),S.filter=y?["progid:DXImageTransform.Microsoft.Matrix(M11=",_,", M12=",-x,", M21=",x,", M22=",_,", sizingMethod='auto expand')"].join(""):Cn),d(n,S)),p=l(e.elemWidth,n.offsetWidth),f=l(e.elemHeight,n.offsetHeight),p>w&&/[ \-]/.test(n.innerText)&&(d(n,{width:w+_n,display:"block",whiteSpace:"normal"}),p=w),g=t.fontMetrics(n.style.fontSize).b,C=0>_&&-p,T=0>x&&-f,m=0>_*x,C+=x*g*(m?1-u:u),T-=_*g*(y?m?u:1-u:1),c&&(C-=p*u*(0>_?-1:1),y&&(T-=f*u*(0>x?-1:1)),d(n,{textAlignINTERNAL:s})),e.xCorr=C,e.yCorr=T),d(n,{left:a+C+_n,top:o+T+_n}),e.cTT=k}},updateTransform:function(){var e=this,t=e.translateX||0,n=e.translateY||0,i=e.isInverted,r=e.textAngle,a=[];i&&(t+=e.attr("width"),n+=e.attr("height")),(t||n)&&a.push("translate("+t+","+n+")"),i?a.push("rotate(90) scale(-1,1)"):r&&a.push("rotate("+r+" "+(e.x||0)+" "+(e.y||0)+")"),a.length&&s(e.element,"transform",a.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,n){var i=this;e?(i.alignOptions=e,i.alignByTranslate=t,n||i.renderer.alignedObjects.push(i)):(e=i.alignOptions,t=i.alignByTranslate),n=l(n,i.renderer);var r=e.align,a=e.verticalAlign,o=(n.x||0)+(e.x||0),s=(n.y||0)+(e.y||0),d={};return("right"===r||"center"===r)&&(o+=(n.width-(e.width||0))/{right:1,center:2}[r]),d[t?"translateX":"x"]=Et(o),("bottom"===a||"middle"===a)&&(s+=(n.height-(e.height||0))/({bottom:1,middle:2}[a]||1)),d[t?"translateY":"y"]=Et(s),i[i.placed?"animate":"attr"](d),i.placed=!0,i.alignAttr=d,i},getBBox:function(){var e,t,n=this,i=n.bBox,r=n.renderer,a=n.textAngle,o=n.element,s=n.styles,l=a*Ht;if(!i){if(o.namespaceURI===Kt||r.forExport){try{i=o.getBBox?an({},o.getBBox()):{width:o.offsetWidth,height:o.offsetHeight}}catch(d){}(!i||i.width<0)&&(i={width:0,height:0})}else i=n.htmlGetBBox();r.isSVG&&(e=i.width,t=i.height,a&&(i.width=It(t*Lt(l))+It(e*Bt(l)),i.height=It(t*Bt(l))+It(e*Lt(l)))),Xt&&s&&"11px"===s.fontSize&&22.700000762939453===t&&(i.height=14),n.bBox=i}return i},show:function(){return this.attr({visibility:vn})},hide:function(){return this.attr({visibility:yn})},add:function(e){var t,n,i,r,a=this.renderer,o=e||a,l=o.element||a.box,d=l.childNodes,u=this.element,c=s(u,"zIndex");if(e&&(this.parentGroup=e),this.parentInverted=e&&e.isInverted,void 0!==this.textStr&&a.buildText(this),c&&(o.handleZ=!0,c=sn(c)),o.handleZ)for(i=0;i<d.length;i++)if(t=d[i],n=s(t,"zIndex"),t!==u&&(sn(n)>c||!pn(c)&&pn(n))){l.insertBefore(u,t),r=!0;break}return r||l.appendChild(u),this.added=!0,Zn(this,"add"),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){if(!this._destroyed){var e,t,n=this,i=n.element||{},r=n.shadows;if(i.onclick=i.onmouseout=i.onmouseover=i.onmousemove=null,ei(n),n.clipPath&&(n.clipPath=n.clipPath.destroy()),n.stops){for(t=0;t<n.stops.length;t++)n.stops[t]=n.stops[t].destroy();n.stops=null}n.safeRemoveChild(i),r&&jn(r,function(e){n.safeRemoveChild(e)}),n.renderer._destroyed||o(n.renderer.alignedObjects,n);for(e in n)n.hasOwnProperty(e)&&delete n[e];return n._destroyed=!0,null}},empty:function(){for(var e=this.element,t=e.childNodes,n=t.length;n--;)e.removeChild(t[n])},shadow:function(e,t,n){var i,r,a,o,d,u,c=[],h=this.element;if(e){for(o=l(e.width,3),d=(e.opacity||.15)/o,u=this.parentInverted?"(-1,-1)":"("+l(e.offsetX,1)+", "+l(e.offsetY,1)+")",i=1;o>=i;i++)r=h.cloneNode(0),a=2*o+1-2*i,s(r,{isShadow:"true",stroke:e.color||"black","stroke-opacity":d*i,"stroke-width":a,transform:"translate"+u,fill:Cn}),n&&(s(r,"height",Pt(s(r,"height")-a,0)),r.cutHeight=a),t?t.element.appendChild(r):h.parentNode.insertBefore(r,h),c.push(r);this.shadows=c}return this}};var ai=function(){this.init.apply(this,arguments)};ai.prototype={Element:k,init:function(e,t,i,r){var a,o=this,s=location;if(a=o.createElement("svg").attr({xmlns:Kt,version:"1.1"}),e.appendChild(a.element),o.isSVG=!0,o.box=a.element,o.boxWrapper=a,o.alignedObjects=[],o.url=(Qt||$t)&&kt.getElementsByTagName("base").length?s.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",o.defs=this.createElement("defs").add(),o.forExport=r,o.gradients={},o.setSize(t,i,!1),Qt&&e.getBoundingClientRect){var l,u;o.subPixelFix=l=function(){d(e,{left:0,top:0}),u=e.getBoundingClientRect(),d(e,{left:At(u.left)-u.left+_n,top:At(u.top)-u.top+_n})},l(),$n(n,Rn,l)}},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){if(!this._destroyed){var e=this,t=e.defs;return e.box=null,e.boxWrapper=e.boxWrapper.destroy(),_(e.gradients||{}),e.gradients=null,t&&(e.defs=t.destroy()),e.subPixelFix&&Qn(n,Rn,e.subPixelFix),e.alignedObjects=null,e._destroyed=!0,null}},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},buildText:function(e){function t(t){return y[t]=r.getBBox?r.getBBox().height:e.renderer.fontMetrics(r.style.fontSize).h,Et(y[t]-(y[t-1]||0))}for(var i,r=e.element,a=l(e.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),o=r.childNodes,u=/style="([^"]+)"/,c=/href="([^"]+)"/,h=s(r,"x"),p=e.styles,f=p&&p.width&&sn(p.width),g=p&&p.lineHeight,m="getComputedStyle",v=o.length,y=[];v--;)r.removeChild(o[v]);f&&!e.added&&this.box.appendChild(r),""===a[a.length-1]&&a.pop(),jn(a,function(a,o){var l,p,v=0;a=a.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),l=a.split("|||"),jn(l,function(a){if(""!==a||1===l.length){var y,b={},_=kt.createElementNS(Kt,"tspan");if(u.test(a)&&(y=a.match(u)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),s(_,"style",y)),c.test(a)&&(s(_,"onclick",'location.href="'+a.match(c)[1]+'"'),d(_,{cursor:kn})),a=(a.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"),_.appendChild(kt.createTextNode(a)),v?b.dx=3:b.x=h,v||(o&&(!Zt&&e.renderer.forExport&&d(_,{display:"block"}),p=n[m]&&sn(n[m](i,null).getPropertyValue("line-height")),(!p||isNaN(p))&&(p=g||i.offsetHeight||t(o)||18),s(_,"dy",p)),i=_),s(_,b),r.appendChild(_),v++,f)for(var x,w,C=a.replace(/([^\^])-/g,"$1- ").split(" "),T=[];C.length||T.length;)delete e.bBox,w=e.getBBox().width,x=w>f,x&&1!==C.length?(_.removeChild(_.firstChild),T.unshift(C.pop())):(C=T,T=[],C.length&&(_=kt.createElementNS(Kt,"tspan"),s(_,{dy:g||16,x:h}),y&&s(_,"style",y),r.appendChild(_),w>f&&(f=w))),C.length&&_.appendChild(kt.createTextNode(C.join(" ").replace(/- /g,"-")))}})})},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=Et(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=Et(e[2])+t%2/2),e},path:function(e){var t={fill:Cn};return un(e)?t.d=e:dn(e)&&an(t,e),this.createElement("path").attr(t)},circle:function(e,t,n){var i=dn(e)?e:{x:e,y:t,r:n};return this.createElement("circle").attr(i)},arc:function(e,t,n,i,r,a){return dn(e)&&(t=e.y,n=e.r,i=e.innerR,r=e.start,a=e.end,e=e.x),this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:i||0,start:r||0,end:a||0})},rect:function(e,t,n,i,r,a){r=dn(e)?e.r:r;var o=this.createElement("rect").attr({rx:r,ry:r,fill:Cn});return o.attr(dn(e)?e:o.crisp(a,e,t,Pt(n,0),Pt(i,0)))},setSize:function(e,t,n){var i=this,r=i.alignedObjects,a=r.length;for(i.width=e,i.height=t,i.boxWrapper[l(n,!0)?"animate":"attr"]({width:e,height:t});a--;)r[a].align()},g:function(e){var t=this.createElement("g");return pn(e)?t.attr({"class":gn+e}):t},image:function(e,t,n,i,r){var a,o={preserveAspectRatio:Cn};return arguments.length>1&&an(o,{x:t,y:n,width:i,height:r}),a=this.createElement("image").attr(o),a.element.setAttributeNS?a.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):a.element.setAttribute("sui-svg-href",e),a},symbol:function(e,t,n,i,r,a){var o,s,l,d,c=this.symbols[e],h=c&&c(Et(t),Et(n),i,r,a),p=/^url\((.*?)\)$/;return h?(o=this.path(h),an(o,{symbolName:e,x:t,y:n,width:i,height:r}),a&&an(o,a)):p.test(e)&&(d=function(e,t){e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(-Et(t[0]/2),-Et(t[1]/2))},s=e.match(p)[1],l=nn[s],o=this.image(s).attr({x:t,y:n}),l?d(o,l):(o.attr({width:0,height:0}),u("img",{onload:function(){var e=this;d(o,nn[s]=[e.width,e.height])},src:s}))),o},symbols:{circle:function(e,t,n,i){var r=.166*n;return[wn,e+n/2,t,"C",e+n+r,t,e+n+r,t+i,e+n/2,t+i,"C",e-r,t+i,e-r,t,e+n/2,t,"Z"]},x:function(e,t,n,i){return[wn,e,t,xn,e+n,t+i,wn,e+n,t,xn,e,t+i]},v:function(e,t,n,i){return[wn,e+1,t+1,xn,e+n/2,t+i-1,xn,e+n-1,t+1]},check:function(e,t,n,i){return[wn,e+2,t+i/2-1,xn,e+n/2,t+i-1,xn,e+n-1,t+1]},square:function(e,t,n,i){return[wn,e,t,xn,e+n,t,e+n,t+i,e,t+i,"Z"]},triangle:function(e,t,n,i){return[wn,e+n/2,t,xn,e+n,t+i,e,t+i,"Z"]},"triangle-down":function(e,t,n,i){return[wn,e,t,xn,e+n,t,e+n/2,t+i,"Z"]},diamond:function(e,t,n,i){return[wn,e+n/2,t,xn,e+n,t+i/2,e+n/2,t+i,e,t+i/2,"Z"]},arc:function(e,t,n,i,r){var a=r.start,o=r.r||n||i,s=r.end-1e-6,l=r.innerR,d=r.open,u=Bt(a),c=Lt(a),h=Bt(s),p=Lt(s),f=r.end-a<Nt?0:1;return[wn,e+o*u,t+o*c,"A",o,o,0,f,1,e+o*h,t+o*p,d?wn:xn,e+l*h,t+l*p,"A",l,l,0,f,0,e+l*u,t+l*c,d?"":"Z"]}},clipRect:function(e,n,i,r){var a,o=t.strid(),s=this.createElement("clipPath").attr({id:o}).add(this.defs);return a=this.rect(e,n,i,r,0).add(s),a.id=o,a.clipPath=s,a},color:function(e,n,i){var r,a,o=this,l=/^rgba/;if(e&&e.linearGradient?a="linearGradient":e&&e.radialGradient&&(a="radialGradient"),a){var d,u,c,h=e[a],p=o.gradients,f=n.radialReference;return h.id&&p[h.id]||(un(h)&&(e[a]=h={x1:h[0],y1:h[1],x2:h[2],y2:h[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===a&&f&&!pn(h.gradientUnits)&&an(h,{cx:f[0]-f[2]/2+h.cx*f[2],cy:f[1]-f[2]/2+h.cy*f[2],r:h.r*f[2],gradientUnits:"userSpaceOnUse"}),h.id=t.strid(),p[h.id]=d=o.createElement(a).attr(h).add(o.defs),d.stops=[],jn(e.stops,function(e){var t;l.test(e[1])?(r=new ri(e[1]),u=r.get("rgb"),c=r.get("a")):(u=e[1],c=1),t=o.createElement("stop").attr({offset:e[0],"stop-color":u,"stop-opacity":c}).add(d),d.stops.push(t)})),"url("+o.url+"#"+h.id+")"}return l.test(e)?(r=new ri(e),s(n,i+"-opacity",r.get("a")),r.get("rgb")):(n.removeAttribute(i+"-opacity"),e)},text:function(e,t,n,i){var r,a=this,o=st.style,s=en||!Zt&&a.forExport;return i&&!a.forExport?a.html(e,t,n):(t=Et(l(t,0)),n=Et(l(n,0)),r=a.createElement("text").attr({x:t,y:n,text:e}).css({fontFamily:o.fontFamily,fontSize:o.fontSize}),s&&r.css({position:Tn}),r.x=t,r.y=n,r)},html:function(e,t,n){var i=st.style,r=this.createElement("span"),a=r.attrSetters,o=r.element,l=r.renderer;return a.text=function(e){return e!==o.innerHTML&&delete this.bBox,o.innerHTML=e,!1},a.x=a.y=a.align=function(e,t){return"align"===t&&(t="textAlignINTERNAL"),r[t]=e,r.htmlUpdateTransform(),!1},r.attr({text:e,x:Et(t),y:Et(n)}).css({position:Tn,whiteSpace:"nowrap",fontFamily:i.fontFamily,fontSize:i.fontSize}),r.css=r.htmlCss,l.isSVG&&(r.add=function(e){var t,n,i=l.box.parentNode,a=[];if(e){if(t=e.div,!t){for(n=e;n;)a.push(n),n=n.parentGroup;jn(a.reverse(),function(e){var n;t=e.div=e.div||u(mn,{className:s(e.element,"class")},{position:Tn,left:(e.translateX||0)+_n,top:(e.translateY||0)+_n},t||i),n=t.style,an(e.attrSetters,{translateX:function(e){n.left=e+_n},translateY:function(e){n.top=e+_n},visibility:function(e,t){n[t]=e}})})}}else t=i;return t.appendChild(o),r.added=!0,r.alignOnAdd&&r.htmlUpdateTransform(),r}),r},fontMetrics:function(e){e=sn(e||11);var t=24>e?e+4:Et(1.2*e),n=Et(.8*t);return{h:t,b:n}},label:function(e,t,n,r,a,o,s,l,d){function u(){var e,t=C.element.style;
g=(void 0===m||void 0===v||w.styles.textAlignINTERNAL)&&C.getBBox(),w.width=(m||g.width||0)+2*S,w.height=(v||g.height||0)+2*S,_=S+x.fontMetrics(t&&t.fontSize).b,f||(e=l?-_:0,w.box=f=r?x.symbol(r,-T*S,e,w.width,w.height):x.rect(-T*S,e,w.width,w.height,0,D[Fn]),f.add(w)),f.attr(Un({width:w.width,height:w.height},D)),D=null}function c(){var e,t=w.styles,n=t&&t.textAlignINTERNAL,i=S*(1-T);e=l?0:_,!pn(m)||"center"!==n&&"right"!==n||(i+={center:.5,right:1}[n]*(m-g.width)),(i!==C.x||e!==C.y)&&C.attr({x:i,y:e}),C.x=i,C.y=e}function h(e,t){f?f.attr(e,t):D[e]=t}function p(){C.add(w),w.attr({text:e,x:t,y:n}),pn(a)&&w.attr({anchorX:a,anchorY:o})}var f,g,m,v,y,b,_,x=this,w=x.g(d),C=x.text("",0,0,s).attr({zIndex:1}),T=0,S=3,E=0,D={},A=w.attrSetters;$n(w,"add",p),A.width=function(e){return m=e,!1},A.height=function(e){return v=e,!1},A.padding=function(e){return pn(e)&&e!==S&&(S=e,c()),!1},A.align=function(e){return T={left:0,center:.5,right:1}[e],!1},A.text=function(e,t){return C.attr(t,e),u(),c(),!1},A[Fn]=function(e,t){return E=e%2/2,h(t,e),!1},A.stroke=A.fill=A.r=function(e,t){return h(t,e),!1},A.anchorX=function(e,t){return a=e,h(t,e+E-y),!1},A.anchorY=function(e,t){return o=e,h(t,e-b),!1},A.x=function(e){return w.x=e,e-=T*((m||g.width)+S),y=Et(e),w.attr("translateX",y),!1},A.y=function(e){return b=w.y=Et(e),w.attr("translateY",e),!1};var P=w.css;return an(w,{css:function(e){if(e){var t={};e=Un({},e),jn(["fontSize","fontWeight","fontFamily","color","lineHeight","width"],function(n){e[n]!==i&&(t[n]=e[n],delete e[n])}),C.css(t)}return P.call(w,e)},getBBox:function(){return f.getBBox()},shadow:function(e){return f.shadow(e),w},destroy:function(){w._destroyed||(Qn(w,"add",p),Qn(w.element,zt),Qn(w.element,Yt),C&&(C=C.destroy()),f&&(f=f.destroy()),k.prototype.destroy.call(w))}})}},at=ai;var oi;if(!Zt&&!en){var si={init:function(e,t){var n=this,i=["<",t,' filled="f" stroked="f"'],r=["position: ",Tn,";"];("shape"===t||t===mn)&&r.push("left:0;top:0;width:1px;height:1px;"),Ut&&r.push("visibility: ",t===mn?yn:vn),i.push(' style="',r.join(""),'"/>'),t&&(i=t===mn||"span"===t||"img"===t?i.join(""):e.prepVML(i),n.element=u(i)),n.renderer=e,n.attrSetters={}},add:function(e){var t=this,n=t.renderer,i=t.element,r=n.box,a=e&&e.isInverted,o=e?e.element||e:r;return a&&n.invertChild(i,o),o.appendChild(i),t.added=!0,t.alignOnAdd&&!t.deferUpdateTransform&&t.updateTransform(),Zn(t,"add"),t},updateTransform:k.prototype.htmlUpdateTransform,attr:function(e,t){var n,r,a,o,l,d,c=this,h=c.element||{},p=h.style,f=h.nodeName,g=c.renderer,m=c.symbolName,v=c.shadows,y=c.attrSetters,b=c;if(ln(e)&&pn(t)&&(n=e,e={},e[n]=t),ln(e))n=e,b="strokeWidth"===n||"stroke-width"===n?c.strokeweight:c[n];else for(n in e)if(e.hasOwnProperty(n)&&(r=e[n],d=!1,o=y[n]&&y[n].call(c,r,n),o!==!1&&null!==r)){if(o!==i&&(r=o),m&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(n))l||(c.symbolAttr(e),l=!0),d=!0;else if("d"===n){r=r||[],c.d=r.join(" "),a=r.length;for(var _=[];a--;)_[a]=cn(r[a])?Et(10*r[a])-5:"Z"===r[a]?"x":r[a];if(r=_.join(" ")||"x",h.path=r,v)for(a=v.length;a--;)v[a].path=v[a].cutOff?this.cutOffPath(r,v[a].cutOff):r;d=!0}else if("visibility"===n){if(v)for(a=v.length;a--;)v[a].style[n]=r;"DIV"===f&&(r=r===yn?"-999em":0,n="top"),p[n]=r,d=!0}else if("zIndex"===n)r&&(p[n]=r),d=!0;else if("width"===n||"height"===n)r=Pt(0,r),this[n]=r,c.updateClipping?(c[n]=r,c.updateClipping()):p[n]=r,d=!0;else if("x"===n||"y"===n)c[n]=r,p[{x:"left",y:"top"}[n]]=r;else if("class"===n)h.className=r;else if("stroke"===n)r=g.color(r,h,n),n="strokecolor";else if("stroke-width"===n||"strokeWidth"===n)h.stroked=r?!0:!1,n="strokeweight",c[n]=r,cn(r)&&(r+=_n);else if("dashstyle"===n){var x=h.getElementsByTagName("stroke")[0]||u(g.prepVML(["<stroke/>"]),null,null,h);x[n]=r||"solid",c.dashstyle=r,d=!0}else"fill"===n?"SPAN"===f?p.color=r:(h.filled=r!==Cn?!0:!1,r=g.color(r,h,n,c),n="fillcolor"):"shape"===f&&"textAngle"===n?(c[n]=r,h.style.left=-Et(Lt(r*Ht)+1)+_n,h.style.top=Et(Bt(r*Ht))+_n):"translateX"===n||"translateY"===n||"textAngle"===n?(c[n]=r,c.updateTransform(),d=!0):"text"===n&&(this.bBox=null,h.innerHTML=r,d=!0);d||(Ut?h[n]=r:s(h,n,r))}return b},clip:function(e){var t,n,i=this,r=i.element;return r.parentNode,e?(t=e.members,t.push(i),i.destroyClip=function(){o(t,i)},n=e.getCSS(i)):(i.destroyClip&&i.destroyClip(),n={clip:Ut?"inherit":"rect(auto)"}),i.css(n)},css:k.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&x(e)},destroy:function(){var e=this;return e._destroyed?void 0:(e.destroyClip&&e.destroyClip(),k.prototype.destroy.apply(e))},empty:function(){for(var e,t=this.element,n=t.childNodes,i=n.length;i--;)e=n[i],e.parentNode.removeChild(e)},on:function(e,t){return this.element["on"+e]=function(){var e=n.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,t){var n;return e=e.split(/[ ,]/),n=e.length,(9===n||11===n)&&(e[n-4]=e[n-2]=sn(e[n-2])-10*t),e.join(" ")},shadow:function(e,t,n){var i,r,a,o,s,d,c,h=this,p=[],f=h.element,g=h.renderer,m=f.style,v=f.path;if(v&&"string"!=typeof v.value&&(v="x"),s=v,e){for(d=l(e.width,3),c=(e.opacity||.15)/d,i=1;3>=i;i++)o=2*d+1-2*i,n&&(s=h.cutOffPath(v.value,o+.5)),a=['<shape isShadow="true" strokeweight="',o,'" filled="false" path="',s,'" coordsize="10 10" style="',f.style.cssText,'" />'],r=u(g.prepVML(a),null,{left:sn(m.left)+l(e.offsetX,1),top:sn(m.top)+l(e.offsetY,1)}),n&&(r.cutOff=o+1),a=['<stroke color="',e.color||"black",'" opacity="',c*i,'"/>'],u(g.prepVML(a),null,null,r),t?t.element.appendChild(r):f.parentNode.insertBefore(r,f),p.push(r);h.shadows=p}return h}};si=c(k,si);var li={Element:si,isIE8:Gt.indexOf("MSIE 8.0")>-1,init:function(e,t,n){var i,r,a=this;a.alignedObjects=[],i=a.createElement(mn),r=i.element,r.style.position=bn,e.appendChild(i.element),a.box=r,a.boxWrapper=i,a.setSize(t,n,!1),kt.namespaces.scv||(kt.namespaces.add("scv","urn:schemas-microsoft-com:vml"),kt.createStyleSheet().cssText="scv\\:fill, scv\\:path, scv\\:shape, scv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,t,n,i){var r=this.createElement(),a=dn(e);return an(r,{members:[],left:a?e.x:e,top:a?e.y:t,width:a?e.width:n,height:a?e.height:i,getCSS:function(e){var t=e.isInverted,n=this,i=n.top,r=n.left,a=r+n.width,o=i+n.height,s={clip:"rect("+Et(t?r:i)+"px,"+Et(t?o:a)+"px,"+Et(t?a:o)+"px,"+Et(t?i:r)+"px)"};return!t&&Ut&&"IMG"!==e.element.nodeName&&an(s,{width:a+_n,height:o+_n}),s},updateClipping:function(){jn(r.members,function(e){e.css(r.getCSS(e))})}})},color:function(e,t,n,i){var r,a,o,s=this,l=/^rgba/,d=Cn;if(e&&e.linearGradient?o="gradient":e&&e.radialGradient&&(o="pattern"),o){var c,h,p,f,g,m,v,y,b,_,x,w,C=e.linearGradient||e.radialGradient,T="",k=e.stops,S=function(){a=['<fill colors="'+st.seriesPalette.join(",")+'" opacity="',y,'" o:opacity2="',v,'" type="',o,'" ',T,'focus="100%" method="any" />'],u(s.prepVML(a),null,null,t)};if(x=k[0],w=k[k.length-1],x[0]>0&&k.unshift([0,x[1]]),w[0]<1&&k.push([1,w[1]]),jn(k,function(e,t){l.test(e[1])?(r=new ri(e[1]),c=r.get("rgb"),h=r.get("a")):(c=e[1],h=1),st.seriesPalette.push(100*e[0]+"% "+c),t?(y=h,b=c):(v=h,_=c)}),"fill"===n)if("gradient"===o)p=C.x1||C[0]||0,f=C.y1||C[1]||0,g=C.x2||C[2]||0,m=C.y2||C[3]||0,T='angle="'+(90-180*St.atan((m-f)/(g-p))/Nt)+'"',S();else{var E,D=C.r,A=2*D,P=2*D,M=C.cx,I=C.cy,B=t.radialReference,L=function(){B&&(E=i.getBBox(),M+=(B[0]-E.x)/E.width-.5,I+=(B[1]-E.y)/E.height-.5,A*=B[2]/E.width,P*=B[2]/E.height),T='size="'+A+","+P+'" origin="0.5,0.5" position="'+M+","+I+'" color2="'+_+'" ',S()};i.added?L():$n(i,"add",L),d=b}else d=c}else if(l.test(e)&&"IMG"!==t.tagName)r=new ri(e),a=["<",n,' opacity="',r.get("a"),'"/>'],u(this.prepVML(a),null,null,t),d=r.get("rgb");else{var N=t.getElementsByTagName(n);N.length&&(N[0].opacity=1),d=e}return d},prepVML:function(e){var t="display:inline-block;behavior:url(#default#VML);",n=this.isIE8;return e=e.join(""),n?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e=-1===e.indexOf('style="')?e.replace("/>",' style="'+t+'" />'):e.replace('style="','style="'+t)):e=e.replace("<","<scv:"),e},text:ai.prototype.html,path:function(e){var t={coordsize:"10 10"};return un(e)?t.d=e:dn(e)&&an(t,e),this.createElement("shape").attr(t)},circle:function(e,t,n){return this.symbol("circle").attr({x:e-n,y:t-n,width:2*n,height:2*n})},g:function(e){var t,n;return e&&(n={className:gn+e,"class":gn+e}),t=this.createElement(mn).attr(n)},image:function(e,t,n,i,r){var a=this.createElement("img").attr({src:e});return arguments.length>1&&a.attr({x:t,y:n,width:i,height:r}),a},rect:function(e,t,n,i,r,a){dn(e)&&(t=e.y,n=e.width,i=e.height,a=e.strokeWidth,e=e.x);var o=this.symbol("rect");return o.r=r,o.attr(o.crisp(a,e,t,Pt(n,0),Pt(i,0)))},invertChild:function(e,t){var n=t.style;d(e,{flip:"x",left:sn(n.width)-1,top:sn(n.height)-1,rotation:-90})},symbols:{arc:function(e,t,n,i,r){var a,o=r.start,s=r.end,l=r.r||n||i,d=Bt(o),u=Lt(o),c=Bt(s),h=Lt(s),p=r.innerR,f=.08/l,g=p&&.1/p||0;return s-o===0?["x"]:(f>2*Nt-s+o?c=-f:g>s-o&&(c=Bt(o+g)),a=["wa",e-l,t-l,e+l,t+l,e+l*d,t+l*u,e+l*c,t+l*h],r.open&&!p&&a.push("e",wn,e,t),a.push("at",e-p,t-p,e+p,t+p,e+p*c,t+p*h,e+p*d,t+p*u,"x","e"),a)},circle:function(e,t,n,i){return["wa",e,t,e+n,t+i,e+n,t+i/2,e+n,t+i/2,"e"]},rect:function(e,t,n,i,r){var a,o,s=e+n,l=t+i;return pn(r)&&r.r?(o=Mt(r.r,n,i),a=[wn,e+o,t,xn,s-o,t,"wa",s-2*o,t,s,t+2*o,s-o,t,s,t+o,xn,s,l-o,"wa",s-2*o,l-2*o,s,l,s,l-o,s-o,l,xn,e+o,l,"wa",e,l-2*o,e+2*o,l,e+o,l,e,l-o,xn,e,t+o,"wa",e,t,e+2*o,t+2*o,e,t+o,e+o,t,"x","e"]):a=ai.prototype.symbols.square.apply(0,arguments),a}}};oi=function(){this.init.apply(this,arguments)},oi.prototype=Un(ai.prototype,li),at=oi}var di;en&&(di=function(){Kt="http://www.w3.org/1999/xhtml"},di.prototype.symbols={},di.prototype=c(ai.prototype,{create:function(e,t,n,i){this.setContainer(t,n,i),this.configure(e)},setContainer:function(e,t,n){var r,a=e.style,o=e.parentNode,s=a.left,l=a.top,d=e.offsetWidth,c=e.offsetHeight,h={visibility:yn,position:Tn};this.init.apply(this,[e,t,n]),r=u("canvas",{width:d,height:c},{position:bn,left:s,top:l},e),this.canvas=r,this.ttLine=u(mn,null,h,o),this.ttDiv=u(mn,null,h,o),this.ttTimer=i;var p=u(mn,{width:d,height:c},{visibility:yn,left:s,top:l},o);this.hiddenSvg=p,p.appendChild(this.box)},configure:function(e){var t=this,n=e.options.tooltipSettings,r=zn[e.guid],a=n.borderWidth,o=t.ttDiv,s=n.style,l=t.ttLine,u=parseInt(s.padding,10);s=Un(s,{padding:u+_n,"background-color":n.backgroundColor,"border-style":"solid","border-width":a+_n,"border-drawRadius":n.borderRadius+_n}),n.shadow&&(s=Un(s,{"box-shadow":"1px 1px 3px gray","-webkit-box-shadow":"1px 1px 3px gray"})),d(o,s),d(l,{"border-left":"1px solid darkgray"}),$n(e,"tooltipRefresh",function(e){var n,a=r.container,s=a.offsetLeft,u=a.offsetTop;o.innerHTML=e.text,n=r.tooltipSettings.getPosition(o.offsetWidth,o.offsetHeight,{plotX:e.x,plotY:e.y}),d(o,{visibility:vn,left:n.x+_n,top:n.y+_n,"border-color":e.borderColor}),d(l,{visibility:vn,left:s+e.x+_n,top:u+r.plotTop+_n,height:r.plotHeight+_n}),t.ttTimer!==i&&clearTimeout(t.ttTimer),t.ttTimer=setTimeout(function(){d(o,{visibility:yn}),d(l,{visibility:yn})},3e3)})},destroy:function(){var e=this;return e._destroyed?void 0:(x(e.canvas),e.ttTimer!==i&&clearTimeout(e.ttTimer),x(e.ttLine),x(e.ttDiv),x(e.hiddenSvg),ai.prototype.destroy.apply(e))},color:function(e,t,n){return e&&e.linearGradient&&(e=e.stops[e.stops.length-1][1]),ai.prototype.color.call(this,e,t,n)},draw:function(){var e=this;n.canvg(e.canvas,e.hiddenSvg.innerHTML)}})),at=oi||di||ai,S.prototype={_label:function(){var e,n,i,r,o=this,s=o.axis,l=s.options,d=s.chart,u=zn[d.guid],c=s.horiz,h=s.categoricalValues,p=o.pos,f=l.axisTickText,g=s.tickPositions,m=h&&c&&h.length&&!f.step&&!f.staggerLinesINTERNAL&&!f.textAngle&&u.plotWidth/g.length||!c&&u.plotWidth/2,v=p===g[0],y=p===g[g.length-1],b=h&&pn(h[p])?h[p]:p,_=o.label,x=g.info;h&&!pn(h[p])&&b==p&&u.enablePolarLayout||(s.isDatetimeAxis&&x&&(r=l.axisDateFormat[x.higherRanks[p]||x.unitName]),o.isFirst=v,o.isLast=y,e=f.format?ln(f.format)?t.format(f.format,{text:b,axis:s,chart:d}):f.format.call(null,b,s,d):A.call({axis:s,chart:d,isFirst:v,isLast:y,dateTimeLabelFormat:r,value:s.isLog?w(a(b)):b}),n=m&&{width:Pt(1,Et(m-2*(f.padding||10)))+_n},n=an(n,f.style),f&&"x"==s.xOrY&&!s.inverseOrder&&("left"==f.align?f.align="right":"right"==f.align&&(f.align="left")),pn(_)?_&&_.attr({text:e}).css(n):(i={align:f.align},cn(f.textAngle)&&(i.textAngle=f.textAngle),o.label=pn(e)&&f.enabled?u.renderer.text(e,0,0,f.htmlOutput).attr(i).css(n).add(s.labelGroup):null))},_labelSize:function(){var e=this.label,t=this.axis;return e?(this.labelBBox=e.getBBox())[t.horiz?"height":"width"]:0},_labelDim:function(){var e=this.labelBBox,t=this.axis,n=t.options,i=n.axisTickText,r=e.width,a=r*{left:0,center:.5,right:1}[i.align]-i.x;return[-a,r-a]},_overflow:function(e,t){var n=this,i=!0,r=n.axis,a=n.isFirst,o=n.isLast,s=t.x,l=r.inverseOrder,d=r.tickPositions;if(a||o){var u=n._labelDim(),c=u[0],h=u[1],p=zn[r.chart.guid].plotLeft,f=p+r.len,g=r.ticks[d[e+(a?1:-1)]],m=g&&g.label.xy&&g.label.xy.x+g._labelDim()[a?0:1];a&&!l||o&&l?p>s+c&&(s=p-c,g&&s+h>m&&(i=!1)):s+h>f&&(s=f-h,g&&m>s+c&&(i=!1)),t.x=s}return i},_position:function(e,t,n,i){var r=this.axis,a=zn[r.chart.guid],o=i&&a.oldChartHeight||a.chartHeight;return{x:e?r.translate(t+n,null,null,i)+r.transB:r.left+r.offset+(r.swapLocation?(i&&a.oldChartWidth||a.chartWidth)-r.right-r.left:0),y:e?o-r.bottom+r.offset-(r.swapLocation?r.height:0):o-r.translate(t+n,null,null,i)-r.transB}},_labelPos:function(e,t,n,i,r,a,o,s){var l=this.axis,d=l.transA,u=l.inverseOrder,c=l.staggerLinesINTERNAL;return e=e+r.x-(a&&i?a*d*(u?-1:1):0),t=t+r.y-(a&&!i?a*d*(u?1:-1):0),pn(r.y)||(t+=.9*sn(n.styles.lineHeight)-n.getBBox().height/2),c&&(t+=o/(s||1)%c*16),{x:e,y:t}},_markPath:function(e,t,n,i,r,a){return a.crispLine([wn,e,t,xn,e+(r?0:-n),t+(r?n:0)],i)},render:function(e,t){var n,r,a,o=this,s=o.axis,d=s.options,u=zn[s.chart.guid].renderer,c=s.horiz,h=o.type,p=o.label,f=o.pos,g=d.axisTickText,m=o.gridLine,v=h?h+"Plot":"plot",y=h?h+"Ticks":"ticks",b=d[v+"StripWidth"],_=d[v+"StripColor"],x=d[v+"StripDashStyle"],w=d[y+"Height"],C=d[y+"Width"]||0,T=d[y+"Color"],k=d[y+"Placement"],S=o.mark,E=g.step,D=!0,A=s.tickmarkOffset,P=o._position(c,f,A,t),M=P.x,I=P.y,B=s.staggerLinesINTERNAL;s.isXAxis&&null!=d.axisTickText.y&&s.inverseOrder&&(d.axisTickText.y=null),b&&(n=s._linePath(f+A,b,t),m===i&&(a={stroke:_,"stroke-width":b},x&&(a.dashstyle=x),h||(a.zIndex=1),o.gridLine=m=b?u.path(n).attr(a).add(s.gridGroup):null),!t&&m&&n&&m[o.isNew?"attr":"animate"]({d:n})),C&&w&&("inside"===k&&(w=-w),s.swapLocation&&(w=-w),"through"===k&&o.axis.isXAxis&&(o.axis.inverseOrder?M+=w:I=I-w+1,w+=w),r=o._markPath(M,I,w,C,c,u),S?S.animate({d:r}):o.mark=u.path(r).attr({stroke:T,"stroke-width":C}).add(s.axisGroup)),!p||isNaN(M)||isNaN(I)||(p.xy=P=o._labelPos(M,I,p,c,g,A,e,E),o.isFirst&&!l(d.firstTickTextVisible,1)||o.isLast&&!l(d.lastTickTextVisible,1)?D=!1:!B&&c&&g.repositionClippedText&&!o._overflow(e,P)&&(D=!1),E&&e%E&&(D=!1),D?(p[o.isNew?"attr":"animate"](P),p.show(),o.isNew=!1):p.hide())},destroy:function(){var e=this;e._destroyed||(_(e,e.axis),e._destroyed=!0)}},E.prototype={render:function(){var e,t,n,i,a,o,s,d=this,u=d.axis,c=u.horiz,h=(u.pointRange||0)/2,p=d.options,f=p.label,g=d.label,m=p.drawWidth,v=p.start,_=p.end,x=pn(v)&&pn(_),w=p.seriesDashStyle,C=d.svgElem,T=[],k=p.drawColor,S=p.zIndex,E=p.events,D=zn[u.chart.guid].renderer;if(u.isLog&&(v=r(v),_=r(_)),m)T=u._linePath(v,m),s={stroke:k,"stroke-width":m},w&&(s.dashstyle=w);else{if(!x)return;v=Pt(v,u.min-h),_=Mt(_,u.max+h),T=u._bandPath(v,_,p),s={fill:k},p.borderWidth&&(s.stroke=p.borderColor,s["stroke-width"]=p.borderWidth)}if(pn(S)&&(s.zIndex=S),C)T?C.animate({d:T},null,C.onGetPath):(C.hide(),C.onGetPath=function(){C.show()});else if(T&&T.length&&(d.svgElem=C=D.path(T).attr(s).add(),E)){e=function(e){C.on(e,function(t){E[e].apply(d,[t])})};for(t in E)E.hasOwnProperty(t)&&e(t)}return f&&pn(f.text)&&T&&T.length&&u.width>0&&u.height>0?(f=Un({align:c&&x&&"center",x:c?!x&&4:10,verticalAlign:!c&&x&&"middle",y:c?x?16:10:x?6:-4,textAngle:c&&!x&&90},f),g||(d.label=g=D.text(f.text,0,0).attr({align:f.textAlignINTERNAL||f.align,textAngle:f.textAngle,zIndex:S}).css(f.style).add()),n=[T[1],T[4],l(T[6],T[1])],i=[T[2],T[5],l(T[7],T[2])],a=y(n),o=y(i),g.align(f,!1,{x:a,y:o,width:b(n)-a,height:b(i)-o}),g.show()):g&&g.hide(),d},destroy:function(){if(!this._destroyed){var e=this,t=e.axis;o(t.plotLinesAndBands,e),_(e,this.axis),e._destroyed=!0}}},D.prototype={destroy:function(){this._destroyed||(_(this,this.axis),this._destroyed=!0)},_total:function(e){this.total=e,this.cum=e},render:function(e){var t=this,n=t.options.labelFormatFunction.call(t);t.label?t.label.attr({text:n,visibility:yn}):t.label=zn[t.axis.chart.guid].renderer.text(n,0,0).css(t.options.style).attr({align:t.textAlignINTERNAL,textAngle:t.options.textAngle,visibility:yn}).add(e)},_offset:function(e,t){var n,i=this,r=i.axis,a=r.chart,o=zn[a.guid],s=o.isInverted,l=i.isNegative,d=r.translate(i.percent?100:i.total,0,0,0,1),u=r.translate(0),c=It(d-u),h=o.axisX[0].translate(i.x)+e,p=o.plotHeight,f={x:s?l?d:d-c:h,y:s?p-h-t:l?p-d-c:p-d,width:s?c:t,height:s?t:c},g=i.label;g&&(g.align(i.alignOptions,null,f),n=g.alignAttr,g.attr({visibility:i.options.hideInvisible===!1||Z(a,n.x,n.y)?Zt?"inherit":vn:yn}))}};var ui={defaults:{axisDateFormat:{MILLISECOND:"HH:mm:ss.fff",SECOND:"HH:mm:ss",MINUTE:"HH:mm",HOUR:"HH",DAY:"d MMM",WEEK:"d MMM",MONTH:"MMM 'yy",YEAR:"yyyy"},fixedEnd:!1,plotStripColor:"#C0C0C0",axisTickText:ti,drawColor:"#7E7E7E",drawWidth:1,minPaddingINTERNAL:1e-4,maxPaddingINTERNAL:1e-4,endOffset:.01,zoomMin:null,minorPlotStripColor:"#E0E0E0",minorPlotStripWidth:1,minorTicksColor:"#A0A0A0",minorTicksHeight:12,minorTicksPlacementINTERNAL:"outside",startOfWeekINTERNAL:1,tickOnBeginning:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacementlINTERNAL:"between",tickPixelIntervalINTERNAL:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",margin:12,style:{color:"#404040",fontWeight:"normal",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"}},axisType:"linear"},y:{fixedEnd:!0,plotStripWidth:1,tickPixelIntervalINTERNAL:80,lastTickTextVisible:!0,axisTickText:{align:"right",x:-8,y:3},drawWidth:0,endOffset:.05,startOffset:.05,tickOnBeginning:!0,tickWidth:0,title:{textAngle:270,text:null},stackTextSettings:{enabled:!1,labelFormatFunction:function(){return this.total},style:ti.style}},left:{axisTickText:{align:"right",x:-8,y:null},title:{textAngle:270}},right:{axisTickText:{align:"left",x:8,y:null},title:{textAngle:90}},bottom:{axisTickText:{align:"center",x:0,y:14},title:{textAngle:0}},top:{axisTickText:{align:"center",x:0,y:-5},title:{textAngle:0}}};z.prototype={init:function(e,t){var n=t.isX,o=this,s=zn[e.guid];o.horiz=s.isInverted?!n:n,o.isXAxis=n,o.xOrY=n?"x":"y",o.swapLocation=t.swapLocation,o.side=o.horiz?o.swapLocation?0:2:o.swapLocation?1:3,o.setOptions(t,e);var l=this.options,d=l.axisType,u="datetime"===d;o.staggerLinesINTERNAL=o.horiz&&l.axisTickText.staggerLinesINTERNAL,o.userOptions=t,o.minPixelPadding=0,o.chart=e,o.inverseOrder=l.inverseOrder,o.categoricalValues=l.categoricalValues,o.isLog="logarithmic"===d,o.isLinked=pn(l.linkedToINTERNAL),o.isDatetimeAxis=u,o.tickmarkOffset=l.categoricalValues&&"between"===l.tickmarkPlacementlINTERNAL?.5:0,o.ticks={},o.minorTicks={},o.plotLinesAndBands=[],o.alternateBands={},o.len=0,o.zoomMin=o.customZoomMin=l.zoomMin,o.range=l.range,o.offset=l.offset||0,o.stacks={},o.max=null,o.min=null;var c,h=o.options.events;s.axes.push(o),s[n?"axisX":"axisY"].push(o),o.dataSeries=[],s.isInverted&&n&&o.inverseOrder===i&&(o.inverseOrder=!0);for(c in h)h.hasOwnProperty(c)&&$n(o,c,h[c]);o.isLog&&(o.val2lin=r,o.lin2val=a)},setOptions:function(e){this.options=Un(ui.defaults,this.isXAxis?{}:ui.y,[ui.top,ui.right,ui.bottom,ui.left][this.side],Un(st[this.isXAxis?"axisX":"axisY"],e))},translate:function(e,t,n,i,r,a){var o,s=this,l=s.len,d=1,u=0,c=i?s.oldTransA:s.transA,h=i?s.oldMin:s.min,p=s.options.ordinal||s.isLog&&r;return c||(c=s.transA),n&&(d*=-1,u=l),s.inverseOrder&&(d*=-1,u-=d*l),t?(s.inverseOrder&&(e=l-e),o=e/c+h,p&&(o=s.lin2val(o))):(p&&(e=s.val2lin(e)),o=d*(e-h)*c+u+d*s.minPixelPadding+(a?c*s.pointRange/2:0)),o},_linePath:function(e,t,n){var i,r,a,o,s,l=this,d=zn[l.chart.guid],u=l.left,c=l.top,h=l.translate(e,null,null,n),p=n&&d.oldChartHeight||d.chartHeight,f=n&&d.oldChartWidth||d.chartWidth,g=l.transB;return i=a=Et(h+g),r=o=Et(p-h-g),isNaN(h)?s=!0:l.horiz?(r=c,o=p-l.bottom,(u>i||i>u+l.width)&&(s=!0)):(i=u,a=f-l.right,(c>r||r>c+l.height)&&(s=!0)),s?null:d.renderer.crispLine([wn,i,r,xn,a,o],t||0)},_bandPath:function(e,t){var n=this._linePath(t),i=this._linePath(e);return i&&n?i.push(n[4],n[5],n[1],n[2]):i=null,i},_arrange:function(){var e,t=this,n=t.max-t.min,i=0,r=0,a=0,o=t.linkedParent,s=t.transA;t.isXAxis&&(o?(r=o.minPointOffset,a=o.pointRangePadding):jn(t.dataSeries,function(t){var n=t.pointRange,o=t.options.positioningMethod,s=t.closestPointRange;i=Pt(i,n),r=Pt(r,o?0:n/2),a=Pt(a,"on"===o?0:n),!t.noSharedTooltip&&pn(s)&&(e=pn(e)?Mt(e,s):s)}),t.minPointOffset=r,t.pointRangePadding=a,t.pointRange=i,t.closestPointRange=e),t.oldTransA=s,t.translationSlope=t.transA=s=t.len/(n+a||1),t.transB=t.horiz?t.left:t.bottom,t.minPixelPadding=s*r},_ticks:function(e){var t,n,a,o,s=this,d=zn[s.chart.guid],u=s.options,c=s.isLog,h=s.isDatetimeAxis,m=s.isXAxis,v=s.isLinked,y=s.options.tickPositionerlINTERNAL,b=u.endOffset,_=u.startOffset,x=u.ticksRepeat,C=u.minTickInterval,T=u.tickPixelIntervalINTERNAL,k=s.categoricalValues;if(v){if(s.linkedParent=d[m?"axisX":"axisY"][u.linkedToINTERNAL],a=F.call(s.linkedParent),s.min=l(a.min,a.dataMin),s.max=l(a.max,a.dataMax),u.type!==s.linkedParent.options.axisType)return void on("Axis and parent axis have different type",1)}else s.min=l(s.userMin,u.min,s.dataMin),s.max=l(s.userMax,u.max,s.dataMax);if(c){if(!e&&Mt(s.min,l(s.dataMin,s.min))<=0)return void on("Negative values not supported for this axis type",1);s.min=w(r(s.min)),s.max=w(r(s.max))}if(s.range&&(s.userMin=s.min=Pt(s.min,s.max-s.range),s.userMax=s.max,e&&(s.range=null)),N.call(s),k||s.usePercentage||v||!pn(s.min)||!pn(s.max)||(n=s.max-s.min||1,pn(u.min)||pn(s.userMin)||!_||!(s.dataMin<0)&&s.ignoreMinPadding||(s.min-=n*_),pn(u.max)||pn(s.userMax)||!b||!(s.dataMax>0)&&s.ignoreMaxPadding||(s.max+=n*b)),s.ticksRepeat=s.min===s.max||s.min===i||s.max===i?1:v&&!x&&T===s.linkedParent.options.tickPixelIntervalINTERNAL?s.linkedParent.ticksRepeat:l(x,k?1:(s.max-s.min)*T/(s.len||1)),m&&!e&&jn(s.dataSeries,function(e){e.processData(s.min!==s.oldMin||s.max!==s.oldMax)}),s._arrange(e),s._preTicks&&s._preTicks(),!x&&s.ticksRepeat<C&&(s.ticksRepeat=C),h||c||(t=St.pow(10,Dt(St.log(s.ticksRepeat)/St.LN10)),x||(s.ticksRepeat=p(s.ticksRepeat,null,t,u))),s.minorTicksRepeat="auto"===u.minorTicksRepeat&&s.ticksRepeat?s.ticksRepeat/5:u.minorTicksRepeat,s.tickPositions=o=u.tickPositions||y&&y.apply(s,[s.min,s.max]),o||(o=h?g(f(s.ticksRepeat,u.units),s.min,s.max,u.startOfWeekINTERNAL,s.ordinalPositions,s.closestPointRange,!0):c?I.call(s,s.ticksRepeat,s.min,s.max):M.call(s,s.ticksRepeat,s.min,s.max),s.tickPositions=o),!v){var S=o[0],E=o[o.length-1],D=s.minPointOffset||0;u.tickOnBeginning?s.min=S:s.min-D>S&&o.shift(),u.fixedEnd?s.max=E:s.max+D<E&&o.pop()}},_updateTicks:function(){var e=this,t=e.xOrY,n=e.tickPositions,i=zn[e.chart.guid].maxTicks;if(i&&i[t]&&!e.isDatetimeAxis&&!e.categoricalValues&&!e.isLinked&&e.options.matchTicks!==!1){var r,a=e.tickAmount,o=n.length;if(e.tickAmount=r=i[t],r>o){for(;n.length<r;)n.push(w(n[n.length-1]+e.ticksRepeat));e.transA*=(o-1)/(r-1),e.max=n[n.length-1]}pn(a)&&r!==a&&(e.isDirty=!0)}},_scale:function(){var e,t,n,i,r=this,a=r.stacks;if(r.oldMin=r.min,r.oldMax=r.max,r.oldAxisLength=r.len,r._dimensions(),i=r.len!==r.oldAxisLength,jn(r.dataSeries,function(e){(e.isDirtyData||e.isDirty||e.axisX.isDirty)&&(n=!0)}),(i||n||r.isLinked||r.userMin!==r.oldUserMin||r.userMax!==r.oldUserMax)&&(P.call(r),r._ticks(),r.oldUserMin=r.userMin,r.oldUserMax=r.userMax,r.isDirty||(r.isDirty=i||r.min!==r.oldMin||r.max!==r.oldMax)),!r.isXAxis)for(e in a)if(a.hasOwnProperty(e))for(t in a[e])a[e].hasOwnProperty(t)&&(a[e][t].cum=a[e][t].total);H.call(r)},_zoom:function(e,t){return O.call(this,e,t,!1,i,{trigger:"zoom"}),!0},_dimensions:function(){var e=this,t=zn[e.chart.guid],n=e.options,i=n.offsetLeft||0,r=n.offsetRight||0;e.left=l(n.left,t.plotLeft+i),e.top=l(n.top,t.plotTop),e.width=l(n.width,t.plotWidth-i+r),e.height=l(n.height,t.plotHeight),e.bottom=t.chartHeight-e.height-e.top,e.right=t.chartWidth-e.width-e.left,e.len=Pt(e.horiz?e.width:e.height,0)},_offset:function(){var e,t,n,i,r=this,a=zn[r.chart.guid],o=a.renderer,s=r.options,d=r.tickPositions,u=r.ticks,c=r.horiz,h=r.side,p=0,f=0,g=s.title,m=s.axisTickText,v=0,y=a.axisOffset,b=[-1,1,1,-1][h];if(r.hasData=e=r.hasVisibleSeries||pn(r.min)&&pn(r.max)&&!!d,r.showAxis=t=e||l(s.showEmpty,!0),r.axisGroup||(r.gridGroup=o.g().attr({zIndex:s.gridZIndex||1}).add(),r.axisGroup=o.g().attr({zIndex:s.zIndex||2}).add(),r.labelGroup=o.g().attr({zIndex:m.zIndex||7}).add()),e||r.isLinked)jn(d,function(e){u[e]?u[e]._label():u[e]=new S(r,e)}),jn(d,function(e){(0===h||2===h||{1:"left",3:"right"}[h]===m.align)&&(v=Pt(u[e]._labelSize(),v))}),r.staggerLinesINTERNAL&&(v+=16*(r.staggerLinesINTERNAL-1));else for(i in u)u.hasOwnProperty(i)&&(u[i].destroy(),delete u[i]);g&&g.text&&(r.axisTitle||(r.axisTitle=o.text(g.text,0,0,g.htmlOutput).attr({zIndex:7,textAngle:g.textAngle||0,align:g.textAlignINTERNAL||{low:"left",middle:"center",high:"right"}[g.align]}).css(g.style).add(r.axisGroup),r.axisTitle.isNew=!0),t&&(p=r.axisTitle.getBBox()[c?"height":"width"],f=l(g.margin,c?5:10),n=g.offset),r.axisTitle[t?"show":"hide"]()),r.offset=b*l(s.offset,y[h]),r.axisTitleMargin=l(n,v+f+(2!==h&&v&&b*s.axisTickText[c?"y":"x"])),y[h]=Pt(y[h],r.axisTitleMargin+p+b*r.offset)},_path:function(e){var t=this,n=zn[t.chart.guid],i=t.swapLocation,r=t.offset,a=t.horiz,o=t.left+(i?t.width:0)+r,s=n.chartHeight-t.bottom-(i?t.height:0)+r;return this.lineTop=s,n.renderer.crispLine([wn,a?t.left:o,a?s:t.top,xn,a?n.chartWidth-t.right:o,a?s:n.chartHeight-t.bottom],e)},_titlePos:function(){var e=this.horiz,t=this.left,n=this.top,i=this.len,r=this.options.title,a=e?t:n,o=this.swapLocation,s=this.offset,l=sn(r.style.fontSize||12),d={low:a+(e?0:i),middle:a+i/2,high:a+(e?i:0)}[r.align],u=(e?n+this.height:t)+(e?1:-1)*(o?-1:1)*this.axisTitleMargin+(2===this.side?l:0);return{x:e?d:u+(o?this.width:0)+s+(r.x||0),y:e?u-(o?this.height:0)+s:d+(r.y||0)}},render:function(){var e,t,n,r=this,o=r.chart,s=zn[o.guid],l=s.renderer,d=r.options,u=r.isLog,c=r.isLinked,h=r.tickPositions,p=r.axisTitle,f=r.stacks,g=r.ticks,m=r.minorTicks,v=r.alternateBands,y=d.stackTextSettings,b=d.colorStripe,_=r.tickmarkOffset,x=d.drawWidth,w=s.hasRendered,C=w&&pn(r.oldMin)&&!isNaN(r.oldMin),T=r.hasData,k=r.showAxis;if((T||c)&&(r.minorTicksRepeat&&!r.categoricalValues&&jn(B.call(r),function(e){m[e]||(m[e]=new S(r,e,"minor")),C&&m[e].isNew&&m[e].render(null,!0),m[e].isActive=!0,m[e].render()}),jn(h.slice(1).concat([h[0]]),function(e,t){t=t===h.length-1?0:t+1,(!c||e>=r.min&&e<=r.max)&&(g[e]||(g[e]=new S(r,e)),C&&g[e].isNew&&g[e].render(t,!0),g[e].isActive=!0,g[e].render(t))}),b&&jn(h,function(e,o){o%2===0&&e<r.max&&(v[e]||(v[e]=new E(r)),t=e+_,n=h[o+1]!==i?h[o+1]+_:r.max,v[e].options={from:u?a(t):t,to:u?a(n):n,color:b},v[e].render(),v[e].isActive=!0)}),r._addedPlotLB||(jn((d.plotLines||[]).concat(d.plotBands||[]),function(e){W.call(r,e)}),r._addedPlotLB=!0)),jn([g,m,v],function(e){var t;for(t in e)e.hasOwnProperty(t)&&(e[t].isActive?e[t].isActive=!1:(e[t].destroy(),delete e[t]))}),x&&(e=r._path(x),r.axisLine?r.axisLine.animate({d:e}):r.axisLine=l.path(e).attr({stroke:d.drawColor,"stroke-width":x,zIndex:7}).add(r.axisGroup),r.axisLine[k?"show":"hide"]()),p&&k&&(p[p.isNew?"attr":"animate"](r._titlePos()),p.isNew=!1),y&&y.enabled){var D,A,P,M=r.stackTotalGroup;M||(r.stackTotalGroup=M=l.g().attr({visibility:vn,zIndex:6}).add()),M.translate(s.plotLeft,s.plotTop);for(D in f)if(f.hasOwnProperty(D)){A=f[D];for(P in A)A.hasOwnProperty(P)&&A[P].render(M)}}r.isDirty=!1},_title:function(e,t){var n=this,i=n.chart,r=n.options,a=n.axisTitle;r.title=Un(r.title,e),n.axisTitle=a&&a.destroy(),n.isDirty=!0,l(t,!0)&&i.redraw()},redraw:function(){var e=this,t=zn[e.chart.guid].tracker;t._reset&&t._reset(!0),e.render(),jn(e.plotLinesAndBands,function(e){e.render()}),jn(e.dataSeries,function(e){e.isDirty=!0})},_points:function(e,t){var n=this;n.categoricalValues=n.userOptions.categoricalValues=e,jn(n.dataSeries,function(e){e.translate(),e.setTooltipPoints(!0)}),n.isDirty=!0,l(t,!0)&&n.chart.redraw()},destroy:function(){if(!this._destroyed){var e,t,n,i=this,r=i.stacks;Qn(i);for(e in r)r.hasOwnProperty(e)&&(_(r[e]),r[e]=null);jn([i.ticks,i.minorTicks,i.alternateBands,i.plotLinesAndBands],function(e){_(e)});for(t in i)i.hasOwnProperty(t)&&(n=i[t],(n instanceof k||si&&n instanceof si)&&(i[t]=n.destroy()));i._destroyed=!0}}},j.prototype={destroy:function(){this._destroyed||(jn(this.axisMarkers,function(e){e&&e.destroy()}),this._destroyed=!0)},move:function(e,t){this.labelElement.css({top:t,left:e})},hide:function(){var e=this,t=zn[e.chart.guid];if(!e.isHidden){var n=t.hoverPoints;e.labelElement.hide(),n&&jn(n,function(e){e.setState()}),t.hoverPoints=null,e.isHidden=!0}},getPosition:function(e,t,n){var i,r=this,a=zn[t.guid],o=a.plotLeft,s=a.plotTop,d=a.plotWidth,u=a.plotHeight,c=l(this.options.distance,12),h=Y.call(r,e,n),p=h[0],f=h[1],g=r.labelElement.width(),m=r.labelElement.height(),v=p+o+(a.isInverted?c:-g-c),y=f-m+s+15;return 7>v&&(v=o+Pt(p,0)+c),v+g>o+d&&(v-=v+g-(o+d),y=f-m+s-c,i=!0),s+5>y&&(y=s+5,i&&f>=y&&y+m>=f&&(y=f+s+c)),y+m>s+u&&(y=Pt(s,s+u-m-c)),{x:v,y:y}},refresh:function(e,n){var i,r,a,o,s,d,u,c,h=this,p=h.chart,f=h.labelElement,g=h.options,m=function(e,n){var i=this,r=[];e=fn(e);var a,o,s,l="",d=e[0].dataSeries.axisX,u="f";if(d&&"datetime"===d.options.axisType&&cn(e[0].pointName)){for(a in ut)if(ut.hasOwnProperty(a)&&ut[a]>=d.closestPointRange){u=d.options.axisDateFormat[a];break}l=t.format("{0:"+u+"}",new Date(e[0].pointName))}else o=e[0].dataSeries.tooltipSettings&&e[0].dataSeries.tooltipSettings.customHeaderText||i.options.customHeaderText,l=ln(o)?t.format(o,{point:e[0],chart:n}):o.call(null,e,n);return r+='<div class="shield-tooltip-header">'+l+"</div>",s=e[0].dataSeries.tooltipSettings&&e[0].dataSeries.tooltipSettings.customPointText||i.options.customPointText,"rangebar"===e[0].dataSeries.seriesType&&"<span>{point.dataSeries.collectionAlias}</span>: {point.y}"!=i.options.customPointText&&(s=i.options.customPointText),jn(e,function(e){Pi=e.dataSeries,r+='<div class="shield-tooltip-value">'+(ln(s)?t.format(s,{point:e,chart:n}):s.call(null,e,n))+"</div>"}),r},v=zn[p.guid],y=v.hoverPoints,b=g.axisMarkers,_=h.chartBound;if(g.format&&(m=ln(g.format)?function(e,n){return t.format(g.format,{point:e,chart:n})}:g.format),o=Y.call(h,e,n),i=o[0],r=o[1],!_||e.dataSeries&&e.dataSeries.noSharedTooltip?u=e.dataSeries.color:(v.hoverPoints=e,y&&jn(y,function(e){e.setState()}),jn(e,function(e){e.setState(Dn)})),s=m.call(h,e,p),un(e)&&(e=e[0]),c=e.dataSeries,a=_||!c.isCartesian||c.tooltipOutsidePlot||Z(p,i,r),s!==!1&&a?(h.isHidden&&f.show(),f.html(s),d=(g.position||h.getPosition).call(h,e,p,n),h.move(Et(d.x),Et(d.y),i+v.plotLeft,r+v.plotTop),h.isHidden=!1):this.hide(),b&&b.enabled){var x,w,C=/x/i.test(b.mode),T=/y/i.test(b.mode),k={"stroke-width":sn(b.width),stroke:b.color,zIndex:sn(b.zIndex)};C&&(w=e.dataSeries.axisX,w&&(x=w._linePath(e.x,1),h.axisMarkers[0]?h.axisMarkers[0].attr({d:x,visibility:vn}):h.axisMarkers[0]=v.renderer.path(x).attr(k).add())),T&&(w=e.dataSeries.axisY,w&&(x=w._linePath(l(e.stackY,e.y),1),h.axisMarkers[1]?h.axisMarkers[1].attr({d:x,visibility:vn}):h.axisMarkers[1]=v.renderer.path(x).attr(k).add()))}}},G.prototype={_normalize:function(e){var t,r,a,o;return e=e||n.event,e.target||(e.target=e.srcElement),o=e.touches?e.touches.item(0):e,this.chartPosition=t=qn(zn[this.chart.guid].container),o.pageX===i?(r=e.x,a=e.y):(r=o.pageX-t.left,a=o.pageY-t.top),an(e,{chartX:Et(r),chartY:Et(a)})},_coord:function(e){var t={axisX:[],axisY:[]},n=zn[this.chart.guid];return jn(n.axes,function(i){var r=i.isXAxis,a=n.isInverted?!r:r;t[r?"axisX":"axisY"].push({axis:i,value:i.translate((a?e.chartX-n.plotLeft:i.top+i.len-e.chartY)-i.minPixelPadding,!0)})}),t},_index:function(e){var t=zn[this.chart.guid];return t.isInverted?t.plotHeight+t.plotTop-e.chartY:e.chartX-t.plotLeft},_move:function(e){var t,n,i,r,a=this,o=a.chart,s=zn[o.guid],l=s.dataSeries,d=s.tooltip,u=s.hoverPoint,c=s.hoverSeries,h=s.chartWidth,p=a._index(e);if(d&&a.options.tooltipSettings.chartBound&&(!c||!c.noSharedTooltip)){for(n=[],i=l.length,r=0;i>r;r++)l[r].visible&&l[r].options.mouseInteractions!==!1&&!l[r].noSharedTooltip&&l[r].tooltipPoints.length&&(t=l[r].tooltipPoints[p],t._dist=It(p-t[l[r].axisX.tooltipPosName||"plotX"]),h=Mt(h,t._dist),n.push(t));
for(i=n.length;i--;)n[i]._dist>h&&n.splice(i,1);n.length&&n[0].plotX!==a.hoverX&&(d.refresh(n,e),a.hoverX=n[0].plotX)}s.cachedHoverSeries&&s.cachedHoverSeries.tracker&&(t=s.cachedHoverSeries.tooltipPoints[p],t&&t!==u&&t._mouseOver(e))},_reset:function(e){var t=this,n=t.chart,r=zn[n.guid],a=r.hoverSeries,o=r.hoverPoint,s=r.tooltip,l=s&&s.chartBound?r.hoverPoints:o;e=e&&s&&l,e&&fn(l)[0].plotX===i&&(e=!1),e?s.refresh(l):(o&&o._mouseOut(),a&&a._mouseOut(),s&&(s.hide(),V.call(s)),t.hoverX=null)},_events:function(){function e(){r&&(d(o,{cursor:"auto"}),a.cancelClick=t,a.mouseIsDown=t=!1),a.container.style.cursor="default",Qn(kt,tn?"touchend":"mouseup",e)}var t,n=!0,i=this,r=i.chart,a=zn[r.guid],o=a.container;i.hideTooltipOnMouseMove=function(e){i.chartPosition&&a.hoverSeries&&a.hoverSeries.isCartesian&&!Z(r,e.pageX-i.chartPosition.left-a.plotLeft,e.pageY-i.chartPosition.top-a.plotTop)&&i._reset()},i.hideTooltipOnMouseLeave=function(e){i.chartPosition&&!Z(r,e.pageX-i.chartPosition.left-a.plotLeft,e.pageY-i.chartPosition.top-a.plotTop)&&(i._reset(),i.chartPosition=null)},o.onmousedown=function(t){t=i._normalize(t),!tn&&t.preventDefault&&t.preventDefault(),a.mouseIsDown=!0,a.cancelClick=!1,a.mouseDownX=i.mouseDownX=t.chartX,i.mouseDownY=t.chartY,a.isZoomed&&(a.container.style.cursor="move"),$n(kt,tn?"touchend":"mouseup",e)};var l=function(e){if(!(e&&e.touches&&e.touches.length>1)){e=i._normalize(e),tn||(e.returnValue=!1);var o=e.chartX,l=e.chartY,d=!Z(r,o-a.plotLeft,l-a.plotTop);return tn&&e.type===Vt&&(s(e.target,"isTracker")?a.runTrackerClick||e.preventDefault():r.events.click||d||e.preventDefault()),d&&(o<a.plotLeft?o=a.plotLeft:o>a.plotLeft+a.plotWidth&&(o=a.plotLeft+a.plotWidth),l<a.plotTop?l=a.plotTop:l>a.plotTop+a.plotHeight&&(l=a.plotTop+a.plotHeight)),a.mouseIsDown&&e.type!==Vt&&(t=St.sqrt(St.pow(i.mouseDownX-o,2)+St.pow(i.mouseDownY-l,2)),t>10)&&(Z(r,i.mouseDownX-a.plotLeft,i.mouseDownY-a.plotTop),a.isZoomed&&(r._viewport(i.mouseDownX-o,l-i.mouseDownY),i.mouseDownX=o,i.mouseDownY=l)),d||i._move(e),n=d,d||!a.hasCartesianSeries}};o.onmousemove=l,$n(o,Yt,i.hideTooltipOnMouseLeave),$n(kt,Wt,i.hideTooltipOnMouseMove),o.ontouchstart=function(e){(i.zoomX||i.zoomY)&&o.onmousedown(e),l(e)},o.ontouchmove=l,o.ontouchend=function(){t&&i._reset()},o.onclick=function(e){var t,n,o=a.hoverPoint;e=i._normalize(e),e.cancelBubble=!0,a.cancelClick||(o&&(s(e.target,"isTracker")||s(e.target.parentNode,"isTracker"))?(t=o.plotX,n=o.plotY,an(o,{pageX:i.chartPosition.left+a.plotLeft+(a.isInverted?a.plotWidth-n:t),pageY:i.chartPosition.top+a.plotTop+(a.isInverted?a.plotHeight-t:n)}),o.trigger("seriesClick",e)):(an(e,i._coord(e)),Z(r,e.chartX-a.plotLeft,e.chartY-a.plotTop)&&r.trigger(Wn,e)))},$n(o,"mousewheel",function(e,t){e=i._normalize(e),an(e,i._coord(e)),t=t>0?1:-1;var n,o={axisX:[],axisY:[]},s=0;return jn(a.axes,function(i){var r=i.isXAxis;if(a.tracker[r?"zoomX":"zoomY"]){var l,d,u=a.isInverted?!r:r,c=i.dataMax/5;if(t>0){var h=i.translate((u?e.chartX-a.plotLeft:i.top+i.len-e.chartY)-i.minPixelPadding,!0),p=i.max-i.min-c;h-p/2<i.dataMin?(l=i.dataMin,d=i.dataMin+p):h+p/2>i.dataMax?(l=i.dataMax-p,d=i.dataMax):(l=h-p/2,d=h+p/2),l<i.dataMin&&(l=i.dataMin,d=i.dataMin+p)}else l=Pt(i.dataMin,i.min-c/2),d=Mt(i.dataMax,i.max+c/2),l<=i.dataMin&&d>=i.dataMax&&s++;if(l>=d)return;isNaN(l)||isNaN(d)||(o[r?"axisX":"axisY"].push({axis:i,min:Mt(l,d),max:Pt(l,d)}),n=!0)}}),n?(Zn(r,"zoom",o,function(e){r._zoom(e)}),a.isZoomed=s==a.axes.length?!1:!0,e.stopPropagation(),e.returnValue=!1,!1):void 0})},destroy:function(){if(!this._destroyed){var e=this,t=e.chart,n=zn[t.guid],i=n.container;n.trackerGroup&&(n.trackerGroup=n.trackerGroup.destroy()),Qn(i,Yt,e.hideTooltipOnMouseLeave),Qn(kt,Wt,e.hideTooltipOnMouseMove),i.onclick=i.onmousedown=i.onmousemove=i.ontouchstart=i.ontouchend=i.ontouchmove=null,e._destroyed=!0}},init:function(e,t){var n=zn[e.guid];n.trackerGroup||(n.trackerGroup=n.renderer.g().attr({zIndex:9}).add()),t.enabled&&(n.tooltip=new j(e,t)),this._events()}},K.prototype={init:function(e){var t=this,n=t.options=e.options.chartLegend;if(n.enabled){var i=n.legendItemSettings.elementStyle,r=l(n.padding,8),a=n.legendItemSettings.topSpacing||0;t.baseline=sn(i.fontSize)+3+a,t.elementStyle=i,t.disabledStyle=Un(i,n.legendItemSettings.disabledStyle),t.topSpacing=a,t.padding=r,t.initialItemX=r,t.initialItemY=r-5,t.maxelementWidth=0,t.chart=e,t.itemHeight=0,t.lastLineHeight=0,t.render()}},destroy:function(){if(!this._destroyed){var e=this,t=e.group,n=e.box;n&&(e.box=n.destroy()),t&&(e.group=t.destroy()),e._destroyed=!0}},render:function(){var e,t,n,i,r=this,a=r.chart,o=zn[a.guid],s=o.renderer,l=r.group,d=r.box,u=r.options,c=r.padding,h=u.borderWidth,p=u.backgroundColor;r.itemX=r.initialItemX,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,l||(r.group=l=s.g().attr({zIndex:7}).add(),r.contentGroup=s.g().attr({zIndex:1}).add(l),r.scrollGroup=s.g().add(r.contentGroup),r.clipRect=s.clipRect(0,0,9999,o.chartHeight),r.contentGroup.clip(r.clipRect)),e=[],jn(o.dataSeries,function(t){var n=t.options;n.addToLegend&&(e=e.concat(t.legendItems||(n.legendType===jt?t.data:t)))}),v(e,function(e,t){return(e.options&&e.options.orderIndex||0)-(t.options&&t.options.orderIndex||0)}),u.inverseOrder&&e.reverse(),r.allItems=e,r.display=t=!!e.length,jn(e,function(e){$.call(r,e)}),n=u.width||r.offsetWidth,i=r.lastItemY+r.lastLineHeight,i=Q.call(r,i),(h||p)&&(n+=c,i+=c,d?n>0&&i>0&&(d[d.isNew?"attr":"animate"](d.crisp(null,null,null,n,i)),d.isNew=!1):(r.box=d=s.rect(0,0,n,i,u.borderRadius,h||0).attr({stroke:u.borderColor,"stroke-width":h||0,fill:p||Cn}).add(l).shadow(u.shadow),d.isNew=!0),d[t?"show":"hide"]()),r.legendWidth=n,r.legendHeight=i,jn(e,function(e){X.call(r,e)}),t&&l.align(an({width:n,height:i},u),!0,o.spacingBox)}};var ci=Ct.extend({init:function(e,n){var i=this,r=i.guid=t.guid(),a=zn[r]={},o=n.dataSeries;n.dataSeries=null,Ct.fn.init.apply(i,arguments),i.options.dataSeries=i.initialOptions.dataSeries=o,a.cachedHoverSeries=null;var s=i.options,d=s.margin,u=un(d)?d:[d,d,d,d];a.optionsMarginTop=l(s.chartMarginTop,u[0]),a.optionsMarginRight=l(s.chartMarginRight,u[1]),a.optionsMarginBottom=l(s.chartMarginBottom,u[2]),a.optionsMarginLeft=l(s.chartMarginLeft,u[3]),a.isResizing=0,a.axes=[],a.dataSeries=[],a.hasCartesianSeries=!1,a.axisX=[],a.axisY=[],a.applyAnimation=en?!1:l(s.applyAnimation,!0),a.pointCount=0,a.counters=new m,hi._initRender.call(i)},_series:function(e){var n=this,i=n.options,r=e.seriesType||i.seriesType;if(!Yn[r])return void on(t.format("Invalid series type '{0}'",r),1);var a=new Yn[r];return a.init(n,e),a},redraw:function(e){var t,n,i=this,r=zn[i.guid],a=r.axes,o=r.dataSeries,s=r.tracker,l=r.chartLegend,d=r.isDirtyLegend,u=r.isDirtyBox,c=o.length,h=c,p=r.renderer,f=p.isHidden(),g=[];for(C(e,i),f&&hi._shiftRendering.call(i);h--;)if(n=o[h],n.isDirty&&n.options.stackMode){t=!0;break}if(t)for(h=c;h--;)n=o[h],n.options.stackMode&&(n.isDirty=!0);jn(o,function(e){e.isDirty&&e.options.legendType===jt&&(d=!0)}),d&&l.options.enabled&&(l.render(),r.isDirtyLegend=!1),r.hasCartesianSeries&&(r.isResizing||(r.maxTicks=null,jn(a,function(e){e._scale()})),hi._updateTicks.call(i),i._spacing(),jn(a,function(e){e.isDirtyExtremes&&(e.isDirtyExtremes=!1),(e.isDirty||u||t)&&(e.redraw(),u=!0)})),u&&hi._renderBox.call(i),jn(o,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.axisX)&&e.redraw()}),s&&s._reset&&s._reset(!0),p.draw(),f&&hi._shiftRendering.call(i,!0),jn(g,function(e){e.call()})},_axes:function(){var e,t,n=this,i=this.options,r=i.axisX||{},a=i.axisY||{};r=fn(r),jn(r,function(e,t){e.index=t,e.isX=!0}),a=fn(a),jn(a,function(e,t){e.index=t}),e=r.concat(a),jn(e,function(e){t=new z(n,e)}),hi._updateTicks.call(n)},_zoom:function(e){var t,n=this,i=zn[n.guid];e&&!e.resetSelection&&(jn(e.axisX.concat(e.axisY),function(e){var n=e.axis;i.tracker[n.isXAxis?"zoomX":"zoomY"]&&(t=n._zoom(e.min,e.max))}),t&&n.redraw(l(n.options.applyAnimation,i.pointCount<100)))},_viewport:function(e,t){var n=this,i=zn[n.guid],r=!1;jn(i.axes,function(n){var a=n.isXAxis,o=i.isInverted?!a:a,s=L.call(n,o?e:t,!0);if(0!==s){var l=n.min+s,d=n.max+s;l>n.dataMin&&d<n.dataMax&&(O.call(n,l,d,!1),r=!0)}}),r&&n.redraw(!1)},_size:function(){var e=this,t=zn[e.guid],n=e.options,i=t.renderToClone||e.element;t.containerWidth=i.width(),t.containerHeight=i.height(),t.chartWidth=n.width||t.containerWidth||600,t.chartHeight=n.height||(t.containerHeight>19?t.containerHeight:400)},_wrapper:function(){var n,i,r,a=this,o=zn[a.guid],s=a.options,l=a.element,d=t.strid();l.empty(),l.width()||hi._shiftRendering.call(a),a._size(),i=o.chartWidth,r=o.chartHeight,o.container=n=e("<div />").attr("id",d).addClass(gn+"container"+(s.className?" "+s.className:"")).css(an({position:bn,overflow:yn,width:i+_n,height:r+_n,textAlignINTERNAL:"left",lineHeight:"normal",zIndex:0},s.style)).appendTo(o.renderToClone||l)[0],o.renderer=s.forExport?new ai(n,i,r,!0):new at(n,i,r),en&&o.renderer.create(a,n,i,r)},_spacing:function(){var e,t,n=this,i=zn[n.guid],r=n.options,a=r.chartAreaPaddingTop,o=r.chartAreaPaddingRight,s=r.chartAreaPaddingBottom,d=r.chartAreaPaddingLeft,u=i.chartLegend,c=i.optionsMarginTop,h=i.optionsMarginLeft,p=i.optionsMarginRight,f=i.optionsMarginBottom,g=i.chartTitleOptions,m=i.chartSubtitleOptions,v=n.options.chartLegend,y=l(v.chartDistance,10),b=v.x,_=v.y,x=v.align,w=v.verticalAlign;hi._marginValues.call(n),e=i.axisOffset,!i.title&&!i.subtitle||pn(i.optionsMarginTop)||(t=Pt(i.title&&!g.ignoreChartLayout&&!g.verticalAlign&&g.y||0,i.subtitle&&!m.ignoreChartLayout&&!m.verticalAlign&&m.y||0),t&&(i.plotTop=Pt(i.plotTop,t+15+a))),u.display&&!v.ignoreChartLayout&&("right"===x?pn(p)||(i.chartMarginRight=Pt(i.chartMarginRight,u.legendWidth-b+y+o)):"left"===x?pn(h)||(i.plotLeft=Pt(i.plotLeft,u.legendWidth+b+y+d)):"top"===w?pn(c)||(i.plotTop=Pt(i.plotTop,u.legendHeight+_+y+a)):"bottom"===w&&(pn(f)||(i.chartMarginBottom=Pt(i.chartMarginBottom,u.legendHeight-_+y+s)))),i.extraBottomMargin&&(i.chartMarginBottom+=i.extraBottomMargin),i.extraTopMargin&&(i.plotTop+=i.extraTopMargin),i.hasCartesianSeries&&jn(i.axes,function(e){e._offset()}),pn(h)||(i.plotLeft+=e[3]),pn(c)||(i.plotTop+=e[0]),pn(f)||(i.chartMarginBottom+=e[2]),pn(p)||(i.chartMarginRight+=e[1]),hi._saveSize.call(n)},_layout:function(){var e,t,n,i=this,r=zn[i.guid],a=i.options,o=i.options.dataSeries;jn(["isInverted","angular","enablePolarLayout"],function(i){for(e=Yn[a.seriesType],n=r[i]||a[i]||e&&e.prototype[i],t=o&&o.length;!n&&t--;)e=Yn[o[t].seriesType],e&&e.prototype[i]&&(n=!0);r[i]=n})},_render:function(){var n,i,r=this,a=zn[r.guid],o=a.axes,s=a.renderer,l=r.options,d=l.axisTickText;if(i={text:"&#68;&#101;&#109;&#111;&#32;&#86;&#101;&#114;&#115;&#105;&#111;&#110;",isr:0},hi.setTitle.call(r),a.chartLegend=new K(r),jn(o,function(e){e._scale()}),r._spacing(),jn(o,function(e){return e.radial?(r._spacing(),!1):void 0}),a.maxTicks=null,jn(o,function(e){e._ticks(!0),H.call(e)}),i.style={cursor:kn,color:"#999999",fontSize:"16px"},hi._updateTicks.call(r),r._spacing(),hi._renderBox.call(r),a.hasCartesianSeries&&jn(o,function(e){e.render()}),i.dest="&#104;&#116;&#116;&#112;&#58;&#47;&#47;&#119;&#119;&#119;&#46;&#115;&#104;&#105;&#101;&#108;&#100;&#117;&#105;&#46;&#99;&#111;&#109;",a.seriesGroup||(a.seriesGroup=s.g().attr({zIndex:3}).add()),jn(a.dataSeries,function(e){e.translate(),e.setTooltipPoints(),e.render()}),d&&d.items&&jn(d.items,function(e){var t=an(d.style,e.style),n=sn(t.left)+a.plotLeft,i=sn(t.top)+a.plotTop+12;delete t.left,delete t.top,s.text(e.html,n,i).attr({zIndex:2}).css(t).add()}),i&&!a.dsisf){var u,c,h,p=function(t){return e("<div/>").html(t).text()},f=t.guid();if(Zt){var g=s.createElement("filter").attr({id:f,height:"120%"}),m=(s.createElement("feGaussianBlur").attr({"in":"SourceAlpha",stdDeviation:3}).add(g),s.createElement("feComponentTransfer"));s.createElement("feFuncA").attr({type:"linear",slope:"0.2"}).add(m),m.add(g);var v=s.createElement("feMerge");s.createElement("feMergeNode").add(v),s.createElement("feMergeNode").attr({"in":"SourceGraphic"}).add(v),v.add(g),g.add(s.defs)}for(n=p(i.dest),!i.isr&&a.chartWidth<=400&&(i.text=p("&#68;&#101;&#109;&#111;")),i.text=p(i.text),u=[{align:"left",verticalAlign:"top",x:a.plotLeft+5,y:a.plotTop+20},{align:"right",verticalAlign:"top",x:-1*(a.chartWidth-(a.plotLeft+a.plotWidth)+5),y:a.plotTop+20},{align:"left",verticalAlign:"top",x:a.plotLeft+5,y:a.plotTop+a.plotHeight-5},{align:"right",verticalAlign:"top",x:-1*(a.chartWidth-(a.plotLeft+a.plotWidth)+5)+(i.isr?5:0),y:a.plotTop+a.plotHeight-5}],h=function(){n&&(location.href=n)},c=0;c<u.length;c++)i.isr&&3!=c||(i.isr&&a.chartWidth<=400&&(i.style.fontSize="13px"),s.text(i.text,0,0).on(Wn,h).attr({align:u[c].align,zIndex:8,filter:void 0}).css(i.style).add().align(u[c]));a.dsisf=!0}a.hasRendered=!0},destroy:function(){var e,t,n,i=this,r=zn[i.guid],a=r.axes,o=r.dataSeries,s=r.container,l=s&&s.parentNode;for(Zn(i,"destroy"),Qn(i),e=a.length;e--;)a[e]=a[e].destroy();for(e=o.length;e--;)o[e]=o[e].destroy();for(t in r)r.hasOwnProperty(t)&&(n=r[t],n&&typeof n.destroy===Ot&&n.destroy());s&&(s.innerHTML="",Qn(s),l&&x(s));for(e in r)r.hasOwnProperty(e)&&delete r[e];delete zn[i.guid]}}),hi={_updateTicks:function(){var e=this,t=zn[e.guid];e.options.matchTicks!==!1&&jn(t.axes,function(e){e._updateTicks()}),t.maxTicks=null},_shiftRendering:function(e){var t=this,n=zn[t.guid],i=t.element,r=n.renderToClone;n.container,e?r&&(r.remove(),delete n.renderToClone):r=n.renderToClone=i.clone().css({position:Tn,top:"-9999px",display:"block"}).appendTo(kt.body)},_renderBox:function(){var e,t,n=this,i=zn[n.guid],r=n.options,a=i.renderer,o=i.chartWidth,s=i.chartHeight,l=i.chartBackground,d=i.plotBackground,u=i.plotBorder,c=i.plotBGImage,h=r.borderWidth||0,p=r.backgroundColor,f=r.chartAreaBackgroundColor,g=r.chartAreaBackgroundImage,m=r.chartAreaBorderWidth||0,v=i.plotLeft,y=i.plotTop,b=i.plotWidth,_=i.plotHeight,x=i.chartAreaBox,w=i.clipRect,C=i.clipBox;e=h+(r.shadow?8:0),(h||p)&&(l?l.animate(l.crisp(null,null,null,o-e,s-e)):(t={fill:p||Cn},h&&(t.stroke=r.borderColor,t["stroke-width"]=h),i.chartBackground=a.rect(e/2,e/2,o-e,s-e,r.borderRadius,h).attr(t).add().shadow(r.shadow))),f&&(d?d.animate(x):i.plotBackground=a.rect(v,y,b,_,0).attr({fill:f}).add().shadow(r.chartAreaShadow)),g&&(c?c.animate(x):i.plotBGImage=a.image(g,v,y,b,_).add()),w?w.animate({width:C.width,height:C.height}):i.clipRect=a.clipRect(C),m&&(u?u.animate(u.crisp(null,v,y,b,_)):i.plotBorder=a.rect(v,y,b,_,0,m).attr({stroke:r.chartAreaBorderColor,"stroke-width":m,zIndex:1}).add()),i.isDirtyBox=!1},_initRender:function(){var e,t=this,i=zn[t.guid],r=t.options,a=i.callback,o=t.element,s="onreadystatechange",l="complete";return(!Zt&&n==n.top&&kt.readyState!==l||en&&!n.canvg)&&!en?void kt.attachEvent(s,t._onDocReady=function(){kt.readyState===l&&(kt.detachEvent(s,t._onDocReady),hi._initRender.call(t),t._onDocReady=null)}):(t._wrapper(),o.addClass("shield-chart"),Zn(t,"init"),hi._marginValues.call(t),hi._saveSize.call(t),t._layout(),t._axes(),jn(r.dataSeries||[],function(e){t._series(e)}),i.tracker=new G(t,r),t._render(),i.renderer.draw(),a&&a.apply(t,[t]),jn(pi,function(e){e.apply(t,[t])}),hi._shiftRendering.call(t,!0),r.enableAutoFit!==!1&&(t._eafFunc=function(a){var s=r.width||o.width(),l=r.height||o.height(),d=a?a.target:n;s&&l&&(d===n||d===kt)&&((s!==i.containerWidth||l!==i.containerHeight)&&(clearTimeout(e),i.reflowTimeout=e=setTimeout(function(){i.container&&hi._resize.call(t,s,l,!1)},100)),i.containerWidth=s,i.containerHeight=l)},$n(n,Rn,t._eafFunc),$n(t,"destroy",function(){Qn(n,Rn,t._eafFunc),t._eafFunc=null})),void t.trigger("load"))},_selected:function(){var e=[];return jn(zn[this.guid].dataSeries,function(t){e=e.concat(Gn(t.points,function(e){return e.selected}))}),e},_marginValues:function(){var e=this,t=zn[e.guid],n=e.options,i=n.chartAreaPaddingTop,r=n.chartAreaPaddingRight,a=n.chartAreaPaddingBottom,o=n.chartAreaPaddingLeft;t.plotTop=l(t.optionsMarginTop,i),t.chartMarginRight=l(t.optionsMarginRight,r),t.chartMarginBottom=l(t.optionsMarginBottom,a),t.plotLeft=l(t.optionsMarginLeft,o),t.axisOffset=[0,0,0,0]},_resize:function(e,t,n){var i,r,a,o,s=this,l=zn[s.guid],u=l.title,c=l.subtitle;l.isResizing+=1,o=function(){s&&Zn(s,"endResize",null,function(){l.isResizing-=1})},C(n,s),l.oldChartHeight=l.chartHeight,l.oldChartWidth=l.chartWidth,pn(e)&&(l.chartWidth=i=Et(e)),pn(t)&&(l.chartHeight=r=Et(t)),d(l.container,{width:i+_n,height:r+_n}),l.renderer.setSize(i,r,n),l.plotWidth=i-l.plotLeft-l.chartMarginRight,l.plotHeight=r-l.plotTop-l.chartMarginBottom,l.maxTicks=null,jn(l.axes,function(e){e.isDirty=!0,e._scale()}),jn(l.dataSeries,function(e){e.isDirty=!0}),l.isDirtyLegend=!0,l.isDirtyBox=!0,s._spacing(),a=l.spacingBox,u&&u.align(null,null,a),c&&c.align(null,null,a),s.redraw(n),l.oldChartHeight=null,Zn(s,Rn),lt===!1?o():setTimeout(o,lt&&lt.duration||500)},_saveSize:function(){var e,t,n,i,r,a=this,o=zn[a.guid],s=o.isInverted,l=o.chartWidth,d=o.chartHeight,u=a.options,c=u.chartAreaPaddingTop,h=u.chartAreaPaddingRight,p=u.chartAreaPaddingBottom,f=u.chartAreaPaddingLeft;o.plotLeft=e=Et(o.plotLeft),o.plotTop=t=Et(o.plotTop),o.plotWidth=n=Et(l-e-o.chartMarginRight),o.plotHeight=i=Et(d-t-o.chartMarginBottom),o.plotSizeX=s?i:n,o.plotSizeY=s?n:i,o.chartAreaBorderWidth=r=u.chartAreaBorderWidth||0,o.spacingBox={x:f,y:c,width:l-f-h,height:d-c-p},o.chartAreaBox={x:e,y:t,width:n,height:i},o.clipBox={x:r/2,y:r/2,width:o.plotSizeX-r,height:o.plotSizeY-r},jn(o.axes,function(e){e._dimensions(),e._arrange()})},setTitle:function(e,t){var n,i,r=this,a=zn[r.guid],o=r.options;a.chartTitleOptions=n=Un(o.primaryHeader,e),a.chartSubtitleOptions=i=Un(o.secondaryHeader,t),jn([["title",e,n],["subtitle",t,i]],function(e){var t=e[0],n=a[t],i=e[1],r=e[2];n&&i&&(a[t]=n=n.destroy()),r&&r.text&&!n&&(a[t]=a.renderer.text(r.text,0,0,r.htmlOutput).attr({align:r.align,zIndex:r.zIndex||4}).css(r.style).add().align(r,!1,a.spacingBox))})}},pi=[];ci.defaults=st,ci.themes={"default":{}},t.ui.plugin("Chart",ci),function(){function n(e){return{id:e.id,name:e.pointName,x:e.x,y:e.y}}function i(e){return{collectionAlias:e.collectionAlias,color:e.color,axisX:e.axisX?r(e.axisX):null,axisY:e.axisY?r(e.axisY):null,id:e.options.id,points:Xn(e.points,function(e){return n(e)})}}function r(e){return{type:e.xOrY,values:e.categoricalValues,min:e.min,max:e.max}}function a(o){if(dn(o)||un(o)){var s=dn(o)?{}:[];for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var d=o[l];s[l]=d&&d instanceof fi?n(d):d&&(d instanceof gi||"dataSeries"===l)?i(d):d&&d instanceof z?r(d):d&&t.is.event(d)?e.Event(d):d&&(d instanceof e.Event||"domEvent"===l)?d:"target"==l||"srcElement"==l?d:a(d)}return s}return o}var o=ci.prototype.trigger;ci.prototype.trigger=function(e,t,n){var i=this,r=a(t),s=o.call(i,e,r);return typeof n!==Ot||s.isDefaultPrevented()||n.call(i,t),s}}();var fi=function(){};fi.prototype={init:function(e,t,n){var i,r=this,a=e.chart,o=zn[a.guid],s=o.counters;return r.dataSeries=e,r.setOptions(t,n),r.pointAttr={},e.options.separateColors&&(i=a.options.seriesPalette,r.color=r.color||i[s.color++],s.wrapColor(i.length)),o.pointCount++,r},setOptions:function(e,t){var n=this,r=n.dataSeries,a=typeof e;n.config=e,"number"===a||null===e?n.y=e:"number"==typeof e[0]?(n.x=e[0],n.y=e[1]):"object"===a&&"number"!=typeof e.length?(an(n,e),n.options=e,e.dataPointText&&(r._hasPointLabels=!0),e.pointMark&&(r._hasPointMarkers=!0)):"string"==typeof e[0]&&(n.collectionAlias=e[0],n.y=e[1]),n.x===i&&(n.x=t===i?r.autoIncrement():t)},destroy:function(){if(!this._destroyed){var e,t=this,n=t.dataSeries,i=zn[n.chart.guid],r=i.hoverPoints;i.pointCount--,r&&(t.setState(),o(r,t),r.length||(i.hoverPoints=null)),t===i.hoverPoint&&t._mouseOut(),(t.graphic||t.dataLabel)&&(Qn(t),J.call(t)),t.legendItem&&U.call(i.chartLegend,t);for(e in t)t.hasOwnProperty(e)&&(t[e]=null);t._destroyed=!0}},_selected:function(e,t){var n=this,i=n.dataSeries,r=i.chart;e=l(e,!n.selected),n.trigger(e?"pointSelect":"pointDeselect",{accumulate:t},function(){n._destroyed||(n.selected=e,n.setState(e?An:En),t||jn(hi._selected.call(r),function(e){e.selected&&e!==n&&(e.selected=!1,e.setState(En),e.trigger("pointDeselect"))}))})},_mouseOver:function(e){var t=this,n=t.dataSeries,i=zn[n.chart.guid],r=i.tooltip,a=i.hoverPoint;a&&a!==t&&a._mouseOut(e),t.trigger("seriesMouseOver",e),!r||r.chartBound&&!n.noSharedTooltip||r.refresh(t),t.setState(Dn),i.hoverPoint=t},_mouseOut:function(e){var t=zn[this.dataSeries.chart.guid],n=t.hoverPoints;n&&-1!==Vn(this,n)||(this.trigger("seriesMouseOut",e),this.setState(),t.hoverPoint=null)},trigger:function(e,t,n){var i=this,r=i.dataSeries,a=r.options;"seriesClick"===e&&a.enablePointSelection&&(n=function(){i._selected(null,t.ctrlKey||t.metaKey||t.shiftKey)}),Zn(i,e,{domEvent:t,dataSeries:r},function(){r.chart.trigger(e,{domEvent:t,point:i,dataSeries:r},n)})},setState:function(e){var t,n=this,i=n.plotX,r=n.plotY,a=n.dataSeries,o=a.options.activeSettings,s=ni[a.seriesType].pointMark&&a.options.pointMark,l=s&&!s.enabled,d=s&&s.activeSettings[e],u=d&&d.enabled===!1,c=a.stateMarkerGraphic,h=a.chart,p=zn[h.guid],f=n.pointAttr;e=e||En,e===n.state||n.selected&&e!==An||o[e]&&o[e].enabled===!1||e&&(u||l&&!d.enabled)||(n.graphic?(t=s&&n.graphic.symbolName&&f[e].r,n.graphic.attr(Un(f[e],t?{x:i-t,y:r-t,width:2*t,height:2*t}:{}))):(e&&d&&(t=d.drawRadius,c?c.attr({x:i-t,y:r-t}):a.stateMarkerGraphic=c=p.renderer.symbol(a.symbol,i-t,r-t,2*t,2*t).attr(f[e]).add(a.markerGroup)),c&&c[e&&Z(h,i,r)?"show":"hide"]()),n.state=e)}};var gi=function(){};gi.prototype={isCartesian:!0,seriesType:"line",pointClass:fi,sorted:!0,pointAttrToOptions:{stroke:"drawColor","stroke-width":"drawWidth",fill:"innerColor",r:"drawRadius"},init:function(e,t){var n,i,r=this,a=zn[e.guid];r.chart=e,r.options=t=r.setOptions(t),r.bindAxes(),an(r,{collectionAlias:t.collectionAlias,state:En,pointAttr:{},visible:t.visible!==!1,selected:t.selected===!0}),en&&(t.applyAnimation=!1),i=t.events;for(n in i)i.hasOwnProperty(n)&&$n(r,n,i[n]);(i&&i.click||t.point&&t.point.events&&t.point.events.click||t.enablePointSelection)&&(a.runTrackerClick=!0),r.getColor(),r.getSymbol(),r.setItemSource(t.data,!1),r.isCartesian&&(a.hasCartesianSeries=!0),a.dataSeries.push(r),v(a.dataSeries,function(e,t){return(e.options.index||0)-(t.options.index||0)}),jn(a.dataSeries,function(e,t){e.index=t,e.collectionAlias=e.collectionAlias||"Series "+(t+1)})},bindAxes:function(){var e,t=this,n=t.options,r=zn[t.chart.guid];t.isCartesian&&jn(["axisX","axisY"],function(a){jn(r[a],function(r){e=r.options,(n[a]===e.index||n[a]===i&&0===e.index)&&(r.dataSeries.push(t),t[a]=r,r.isDirty=!0)})})},autoIncrement:function(){var e=this,t=e.options,n=e.xIncrement;return n=l(n,t.dataStart,0),e.dataStep=l(e.dataStep,t.dataStep,1),e.xIncrement=n+e.dataStep,n},getSegments:function(){var e,t=this,n=-1,i=[],r=t.points,a=r.length;if(a)if(t.options.drawNullValues){for(e=a;e--;)null===r[e].y&&r.splice(e,1);r.length&&(i=[r])}else jn(r,function(e,t){null===e.y?(t>n+1&&i.push(r.slice(n+1,t)),n=t):t===a-1&&i.push(r.slice(n+1,t+1))});t.segments=i},setOptions:function(e){var t,n=this.chart,i=n.options,r=i.seriesSettings,a=r[this.seriesType],o=e.data;return e.data=null,t=Un(a,r.dataSeries,e),t.data=e.data=o,this.tooltipSettings=Un(i.tooltipSettings,t.tooltipSettings,n.initialOptions.tooltipSettings),null===a.pointMark&&delete t.pointMark,t},getColor:function(){var e=this,t=e.options,n=e.chart.options.seriesPalette,i=zn[e.chart.guid].counters;e.color=t.color||!t.separateColors&&n[i.color++]||"gray",i.wrapColor(n.length)},getSymbol:function(){var e=this,t=e.options.pointMark,n=e.chart,i=n.options.symbols,r=zn[n.guid].counters;e.symbol=t.symbol||i[r.symbol++],/^url/.test(e.symbol)&&(t.drawRadius=0),r.wrapSymbol(i.length)},drawLegendSymbol:function(e,t){var n=this.options,i=(n.pointMark,e.options),r=i.legendItemSettings,a=i.checkMarkSettings,o=a.coordinates,s=5,d=i.symbolWidthINTERNAL,u=zn[this.chart.guid].renderer,c=t.legendGroup,h=e.baseline;t.legendSymbol=u.symbol("square",d/2-s,h-4-s,2*s,2*s).add(c),a&&a.enabled&&(t.checkMark=u.symbol(a.shape,d/2-s+l(o.x,0),h-4-s+l(o.y,0),pn(o.width)?o.width:2*s,pn(o.height)?o.height:2*s).add(c).attr({"stroke-width":a.width})),r&&r.elementStyle&&r.elementStyle.cursor&&(t.legendSymbol.css({cursor:r.elementStyle.cursor}),t.checkMark&&t.checkMark.css({cursor:r.elementStyle.cursor}))},addPointINTERNAL:function(e,t,n,i){var r,a=this,o=a.data,s=a.graph,d=a.area,u=a.chart,c=a.xData,h=a.yData,p=s&&s.shift||0,f=a.options.data,g=a.pointClass.prototype;C(i,u),s&&n&&(s.shift=p+1),d&&(n&&(d.shift=p+1),d.isArea=!0),t=l(t,!0),r={dataSeries:a},g.setOptions.apply(r,[e]),c.push(r.x),h.push(g.toArray?g.toArray.call(r):r.y),f.push(e),n&&(o[0]&&o[0].remove?et.call(o[0],!1):(o.shift(),c.shift(),h.shift(),f.shift())),a.getAttribs(),a.isDirty=!0,a.isDirtyData=!0,t&&u.redraw()},setItemSource:function(e,t){var n,i=this,r=i.points,a=i.options,o=i.initialColor,s=i.chart,d=zn[s.guid],u=null,c=i.axisX,h=i.pointClass.prototype;i.xIncrement=null,i.pointRange=c&&c.categoricalValues?1:a.pointRange,pn(o)&&(d.counters.color=o);var p,f=[],g=[],m=e?e.length:[],v=1e4,y=i.pointArrayMap,b=y&&y.length;if(m>v){for(n=0;null===u&&m>n;)u=e[n],n++;if(cn(u)){var _=l(a.dataStart,0),x=l(a.dataStep,1);for(n=0;m>n;n++)f[n]=_,g[n]=e[n],_+=x;i.xIncrement=_}else if(un(u))if(b)for(n=0;m>n;n++)p=e[n],f[n]=p[0],g[n]=tt.call(p,1,b+1);else for(n=0;m>n;n++)p=e[n],f[n]=p[0],g[n]=p[1]}else for(n=0;m>n;n++)p={dataSeries:i},h.setOptions.apply(p,[e[n]]),f[n]=p.x,g[n]=h.toArray?h.toArray.call(p):p.y;if(ln(g[0]))return void on("Data cannot be a string",1);for(i.data=[],i.options.data=e,i.xData=f,i.yData=g,n=r&&r.length||0;n--;)r[n]&&r[n].destroy&&r[n].destroy();c&&(c.zoomMin=c.customZoomMin),i.isDirty=i.isDirtyData=d.isDirtyBox=!0,l(t,!0)&&s.redraw(!1)},removeSeries:function(e,t){var n=this,i=n.chart,r=zn[i.guid];e=l(e,!0),n.isRemoving||(n.isRemoving=!0,n.destroy(),r.isDirtyLegend=r.isDirtyBox=!0,e&&i.redraw(t)),n.isRemoving=!1},processData:function(e){var t,n,r,a,o=this,s=o.xData,l=o.yData,d=s.length,u=0,c=d,h=o.axisX,p=o.options,f=p.pointsLimit,g=o.isCartesian;if(g&&!o.isDirty&&!h.isDirty&&!o.axisY.isDirty&&!e)return!1;if(g&&o.sorted&&(!f||d>f||o.forceCrop)){var m=F.call(h),v=m.min,y=m.max;if(s[d-1]<v||s[0]>y)s=[],l=[];else if(s[0]<v||s[d-1]>y){for(a=0;d>a;a++)if(s[a]>=v){u=Pt(0,a-1);break}for(;d>a;a++)if(s[a]>y){c=a+1;break}s=s.slice(u,c),l=l.slice(u,c),t=!0}}for(a=s.length-1;a>0;a--)n=s[a]-s[a-1],n>0&&(r===i||r>n)&&(r=n);o.cropped=t,o.cropStart=u,o.processedXData=s,o.processedYData=l,null===p.pointRange&&(o.pointRange=r||1),o.closestPointRange=r},generatePoints:function(){var e,t,n,r,a=this,o=a.options,s=o.data,l=a.data,d=a.processedXData,u=a.processedYData,c=a.pointClass,h=d.length,p=a.cropStart||0,f=a.hasGroupedData,g=[];if(!l&&!f){var m=[];m.length=s.length,l=a.data=m}for(r=0;h>r;r++)t=p+r,f?g[r]=(new c).init(a,[d[r]].concat(fn(u[r]))):(l[t]?n=l[t]:s[t]!==i&&(l[t]=n=(new c).init(a,s[t],d[r])),g[r]=n);if(l&&(h!==(e=l.length)||f))for(r=0;e>r;r++)r!==p||f||(r+=h),l[r]&&(J.call(l[r]),l[r].plotX=i);a.data=l,a.points=g},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var e,t=this,n=t.chart,r=zn[n.guid],a=t.options,o=a.stackMode,s=t.axisX,d=s.categoricalValues,u=t.axisY,c=t.points,h=c.length,p=!!t.modifyValue,f=u.dataSeries,g=f.length,m="between"===a.positioningMethod;g--;)if(f[g].visible){f[g]===t&&(e=!0);break}for(g=0;h>g;g++){var v,y,b=c[g],_=b.x,x=b.y,w=b.low,C=u.stacks[(x<a.baseValue?"-":"")+t.stackKey];b.plotX=s.translate(_,0,0,0,1,m),o&&t.visible&&C&&C[_]&&(v=C[_],y=v.total,v.cum=w=v.cum-x,x=w+x,e&&(w=l(a.baseValue,u.min)),u.isLog&&0>=w&&(w=null),"percent"===o&&(w=y?100*w/y:0,x=y?100*x/y:0),b.percentage=y?100*b.y/y:0,b.total=b.stackTotal=y,b.stackY=x),b.yBottom=pn(w)?u.translate(w,0,1,0,1):null,p&&(x=t.modifyValue(x,b)),b.plotY="number"==typeof x?Et(10*u.translate(x,0,1,0,1))/10:i,b.clientX=r.isInverted?r.plotHeight-b.plotX:b.plotX,b.pointName===i&&(b.pointName=d&&d[g]!==i?d[g]:b.x)}t.getSegments()},setTooltipPoints:function(e){var t,n,i,r,a,o=this,s=[],l=o.axisX,d=l?l.tooltipLen||l.len:zn[o.chart.guid].plotSizeX,u=l&&l.tooltipPosName||"plotX",c=[];if(o.options.mouseInteractions!==!1){for(e&&(o.tooltipPoints=null),jn(o.segments||o.points,function(e){s=s.concat(e)}),l&&l.inverseOrder&&(s=s.reverse()),t=s.length,a=0;t>a;a++)for(r=s[a],n=s[a-1]?i+1:0,i=s[a+1]?Pt(0,Dt((r[u]+(s[a+1]?s[a+1][u]:d))/2)):d;n>=0&&i>=n;)c[n++]=r;o.tooltipPoints=c}},_mouseOver:function(e){var t=this,n=zn[t.chart.guid],i=n.hoverSeries;i&&i!==t&&i._mouseOut(e),t.setState(Dn),n.cachedHoverSeries=t,n.hoverSeries=t},_mouseOut:function(e){var t=this,n=t.options,i=zn[t.chart.guid],r=i.tooltip,a=i.hoverPoint;a&&a._mouseOut(e),!r||n.completeSeriesTrace||r.chartBound||r.hide(),t.setState(),i.hoverSeries=null},animate:function(e){var t,n,i,r=this,a=zn[r.chart.guid],o=a.renderer,s=r.options.applyAnimation,l=a.clipBox,d=a.isInverted;s&&!dn(s)&&(s=ni[r.seriesType].applyAnimation),i="_sharedClip"+s.duration+s.easing,e?(t=a[i],n=a[i+"m"],t||(a[i]=t=o.clipRect(an(l,{width:0})),a[i+"m"]=n=o.clipRect(-99,d?-a.plotLeft:-a.plotTop,99,d?a.chartWidth:a.chartHeight)),r.group.clip(t),r.markerGroup.clip(n),r.sharedClipKey=i):(t=a[i],t&&(t.animate({width:a.plotSizeX},s),a[i+"m"].animate({width:a.plotSizeX+99},s)),r.animate=null,r.animationTimeout=setTimeout(function(){r.afterAnimate()},s.duration))},afterAnimate:function(){var e=this,t=zn[e.chart.guid],n=e.sharedClipKey,i=e.group;i&&e.options.clip!==!1&&(i.clip(t.clipRect),e.markerGroup.clip()),setTimeout(function(){n&&t[n]&&(t[n]=t[n].destroy(),t[n+"m"]=t[n+"m"].destroy())},100)},drawPoints:function(){var e,t,n,r,a,o,s,d,u,c,h,p,f=this,g=f.points,m=f.chart,v=zn[m.guid],y=f.options,b=y.pointMark,_=f.markerGroup;if(b.enabled||f._hasPointMarkers)for(r=g.length;r--;)a=g[r],t=a.plotX,n=a.plotY,u=a.graphic,c=a.pointMark||{},h=b.enabled&&c.enabled===i||c.enabled,p=Z(m,t,n,v.isInverted),h&&n!==i&&!isNaN(n)?(e=a.pointAttr[a.selected?An:En],o=e.r,s=l(c.symbol,f.symbol),d=0===s.indexOf("url"),u?u.attr({visibility:p?Zt?"inherit":vn:yn}).animate(an({x:t-o,y:n-o},u.symbolName?{width:2*o,height:2*o}:{})):p&&(o>0||d)&&(a.graphic=u=v.renderer.symbol(s,t-o,n-o,2*o,2*o).attr(e).add(_))):u&&(a.graphic=u.destroy())},convertAttribs:function(e,t,n,i){var r,a,o=this.pointAttrToOptions,s={};e=e||{},t=t||{},n=n||{},i=i||{};for(r in o)o.hasOwnProperty(r)&&(a=o[r],s[r]=l(e[a],t[r],n[r],i[r]));return s},getAttribs:function(){var e,t,n,i,r,a,o=this,s=ni[o.seriesType].pointMark?o.options.pointMark:o.options,l=s.activeSettings,d=l[Dn],u=o.color,c={stroke:u,fill:u},h=o.points||[],p=[],f=o.pointAttrToOptions;for(o.options.pointMark?(d.drawRadius=d.drawRadius||s.drawRadius+2,d.drawWidth=d.drawWidth||s.drawWidth+1):d.color=d.color||new ri(d.color||u).brighten(d.brightness).get(),p[En]=o.convertAttribs(s,c),jn([Dn,An],function(e){p[e]=o.convertAttribs(l[e],p[En])}),o.pointAttr=p,t=h.length;t--;){if(n=h[t],s=n.options&&n.options.pointMark||n.options,s&&s.enabled===!1&&(s.drawRadius=0),r=o.options.separateColors,n.options)for(a in f)f.hasOwnProperty(a)&&pn(s[f[a]])&&(r=!0);r?(s=s||{},i=[],l=s.activeSettings||{},e=l[Dn]=l[Dn]||{},o.options.pointMark||(e.color=new ri(e.color||n.color).brighten(e.brightness||d.brightness).get()),i[En]=o.convertAttribs(an({color:n.color},s),p[En]),i[Dn]=o.convertAttribs(l[Dn],p[Dn],i[En]),i[An]=o.convertAttribs(l[An],p[An],i[En])):i=an(!0,{},p),n.pointAttr=i}},destroy:function(){if(!this._destroyed){var e,t,n,i,r,a,s=this,l=zn[s.chart.guid],d=s.data||[];if(!s._destroyed){for(Zn(s,"destroy"),Qn(s),jn(["axisX","axisY"],function(e){i=s[e],i&&(o(i.dataSeries,s),i.isDirty=!0)}),s.legendItem&&U.call(l.chartLegend,s),e=d.length;e--;)t=d[e],t&&t.destroy&&t.destroy();s.points=null,clearTimeout(s.animationTimeout);for(r in s)s.hasOwnProperty(r)&&(a=s[r],(a instanceof k||si&&a instanceof si)&&(s[r]=a.destroy()));l.hoverSeries===s&&(l.hoverSeries=null),o(l.dataSeries,s);for(n in s)s.hasOwnProperty(n)&&delete s[n];s._destroyed=!0}}},drawDataLabels:function(){var e,n,r,a,o=this,s=o.options,d=s.dataPointText,u=o.points;(d.enabled||o._hasPointLabels)&&(o.dlProcessOptions&&o.dlProcessOptions(d),a=o.plotGroup("dataLabelsGroup","data-axisTickText",o.visible?vn:yn,6),n=d,jn(u,function(s){var u,c,h,p,f=s.dataLabel,g=!0;if(e=s.options&&s.options.dataPointText,u=n.enabled||e&&e.enabled,f&&!u)s.dataLabel=f.destroy();else if(u){if(p=d.textAngle,d=Un(n,e),r=ln(d.format)?t.format(d.format,{point:s,chart:s.dataSeries.chart}):d.format.call(null,s,s.dataSeries.chart),d.style.color=l(d.color,d.style.color,o.color,"black"),f)f.attr({text:r}),g=!1;else if(pn(r)){c={fill:d.backgroundColor,stroke:d.borderColor,"stroke-width":d.borderWidth,r:d.borderRadius||0,textAngle:p,padding:d.padding,zIndex:1};for(h in c)c.hasOwnProperty(h)&&c[h]===i&&delete c[h];
f=s.dataLabel=zn[o.chart.guid].renderer[p?"text":"label"](r,0,-999,null,null,null,d.htmlOutput).attr(c).css(d.style).add(a).shadow(d.shadow)}f&&o.alignDataLabel(s,f,d,null,g)}}))},alignDataLabel:function(e,t,n,i,r){var a,o=this.chart,s=zn[o.guid],d=s.isInverted,u=l(e.plotX,-999),c=l(e.plotY,-999),h=t.getBBox();i=an({x:d?s.plotWidth-c:u,y:Et(d?s.plotHeight-u:c),width:0,height:0},i),an(n,{width:h.width,height:h.height}),n.textAngle?(a={align:n.align,x:i.x+n.x+i.width/2,y:i.y+n.y+i.height/2},t[r?"attr":"animate"](a)):(t.align(n,null,i),a=t.alignAttr),t.attr({visibility:n.hideInvisible===!1||Z(o,a.x,a.y)||Z(o,u,c,d)?Zt?"inherit":vn:yn})},getSegmentPath:function(e){var t=this,n=[];return jn(e,function(i,r){if(t.getPointSpline)n.push.apply(n,t.getPointSpline(e,i,r));else{if(n.push(r?xn:wn),r&&t.options.step){var a=e[r-1];n.push(i.plotX,a.plotY)}n.push(i.plotX,i.plotY)}}),n},getGraphPath:function(){var e,t=this,n=[],i=[];return jn(t.segments,function(r){e=t.getSegmentPath(r),r.length>1?n=n.concat(e):i.push(r[0])}),t.singlePoints=i,t.graphPath=n,n},drawGraph:function(){var e,t=this,n=t.options,i=t.graph,r=t.group,a=n.drawColor||t.color,o=n.drawWidth,s=n.seriesDashStyle,l=t.getGraphPath();i?(ei(i),i.animate({d:l})):o&&(e={stroke:a,"stroke-width":o,zIndex:1},s&&(e.dashstyle=s),t.graph=zn[t.chart.guid].renderer.path(l).attr(e).add(r).shadow(n.shadow))},invertGroups:function(){function e(){var e={width:t.axisY.len,height:t.axisX.len};jn(["group","trackerGroup","markerGroup"],function(n){t[n]&&t[n].attr(e).invert()})}var t=this,n=t.chart;$n(n,Rn,e),$n(t,"destroy",function(){Qn(n,Rn,e)}),e(),t.invertGroups=e},plotGroup:function(e,t,n,i,r){var a=this,o=a[e],s=zn[a.chart.guid],l=a.axisX,d=a.axisY;return o||(a[e]=o=s.renderer.g().attr({visibility:n,zIndex:i||.1}).add(r)),o.translate(l?l.left:s.plotLeft,d?d.top:s.plotTop),o},render:function(){var e,t=this,n=zn[t.chart.guid],i=t.options,r=i.applyAnimation,a=r&&!!t.animate,o=t.visible?vn:yn,s=i.zIndex,l=t.hasRendered,d=n.seriesGroup;e=t.plotGroup("group","dataSeries",o,s,d),t.markerGroup=t.plotGroup("markerGroup","markers",o,s,d),a&&t.animate(!0),t.getAttribs(),e.isInverted=n.isInverted,t.drawGraph&&t.drawGraph(),t.drawPoints(),t.drawDataLabels(),t.options.mouseInteractions!==!1&&t.drawTracker(),n.isInverted&&t.invertGroups(),i.clip===!1||t.sharedClipKey||l||(e.clip(n.clipRect),this.trackerGroup&&this.trackerGroup.clip(n.clipRect)),a?t.animate():l||t.afterAnimate(),t.isDirty=t.isDirtyData=!1,t.hasRendered=!0},redraw:function(){var e=this,t=zn[e.chart.guid],n=(e.isDirtyData,e.group);n&&(t.isInverted&&n.attr({width:t.plotWidth,height:t.plotHeight}),n.animate({translateX:e.axisX.left,translateY:e.axisY.top})),e.translate(),e.setTooltipPoints(!0),e.render()},setState:function(e){var t=this,n=t.options,i=t.graph,r=n.activeSettings,a=n.drawWidth;if(e=e||En,t.state!==e){if(t.state=e,r[e]&&r[e].enabled===!1)return;e&&(a=r[e].drawWidth||a+1),i&&!i.dashstyle&&i.attr({"stroke-width":a},e?0:500)}},toggle:function(e,t){var n,r,a,o=this,s=o.chart,l=zn[s.guid],d=o.legendItem,u=o.group,c=o.tracker,h=o.dataLabelsGroup,p=o.markerGroup,f=o.points,g=s.options.scaleAxesForHiddenSeries,m=o.visible;if(o.visible=e=e===i?!m:e,n=e?"show":"hide",u&&u[n](),p&&p[n](),c)c[n]();else if(f)for(r=f.length;r--;)a=f[r],a.tracker&&a.tracker[n]();h&&h[n](),d&&q.call(l.chartLegend,o,e),o.isDirty=!0,o.options.stackMode&&jn(l.dataSeries,function(e){e.options.stackMode&&e.visible&&(e.isDirty=!0)}),g||(l.isDirtyBox=!0),t!==!1&&s.redraw(),s.trigger("seriesVisibilityChange",{dataSeries:o})},showDataSeries:function(){this.toggle(!0)},hideDataSeries:function(){this.toggle(!1)},drawTracker:function(){var e,t,n=this,i=n.options,r=i.areaInteractivity,a=[].concat(r?n.areaPath:n.graphPath),o=a.length,s=n.chart,l=zn[n.chart.guid],d=l.renderer,u=s.options.tooltipSettings.showDistance,c=n.tracker,h=i.cursor,p=h&&{cursor:h},f=n.singlePoints,g=n.isCartesian&&n.plotGroup("trackerGroup",null,vn,i.zIndex||1,l.trackerGroup);if(o&&!r)for(t=o+1;t--;)a[t]===wn&&a.splice(t+1,0,a[t+1]-u,a[t+2],xn),(t&&a[t]===wn||t===o)&&a.splice(t,0,xn,a[t-2]+u,a[t-1]);for(t=0;t<f.length;t++)e=f[t],a.push(wn,e.plotX-u,e.plotY,xn,e.plotX+u,e.plotY);c?c.attr({d:a}):n.tracker=d.path(a).attr({isTracker:!0,"stroke-linejoin":"bevel",visibility:n.visible?vn:yn,stroke:Sn,fill:r?Sn:Cn,"stroke-width":i.drawWidth+(r?0:2*u)}).on(tn?Vt:Ft,function(e){l.hoverSeries!==n&&n._mouseOver(e)}).on(Rt,function(e){i.completeSeriesTrace||n._mouseOut(e)}).css(p).add(g)}};var mi=c(gi);Yn.line=mi;var vi=c(mi,{seriesType:"stepline"});Yn.stepline=vi,ni.stepline=Un(ni.line,{step:"left"}),ni.area=Un(ii,{baseValue:0,drawWidth:2,pointMark:{enabled:!1}});var yi=c(gi,{seriesType:"area",getSegmentPath:function(e){var t,n=this,i=gi.prototype.getSegmentPath.call(n,e),r=[].concat(i),a=n.options,o=i.length;if(3===o&&r.push(xn,i[1],i[2]),a.stackMode&&!n.closedStacks)for(t=e.length-1;t>=0;t--)t<e.length-1&&a.step&&r.push(e[t+1].plotX,e[t].yBottom),r.push(e[t].plotX,e[t].yBottom);else n.closeSegment(r,e);return n.areaPath=n.areaPath.concat(r),i},closeSegment:function(e,t){var n=R.call(this.axisY,this.options.baseValue);e.push(xn,t[t.length-1].plotX,n,xn,t[0].plotX,n)},drawGraph:function(){var e=this;e.areaPath=[],gi.prototype.drawGraph.apply(e);var t=e.areaPath,n=e.options,i=e.area;i?i.animate({d:t}):e.area=zn[e.chart.guid].renderer.path(t).attr({fill:l(n.innerColor,new ri(e.color).setOpacity(n.fillOpacity||.75).get()),zIndex:0}).add(e.group)}});Yn.area=yi;var bi=c(yi,{seriesType:"steparea"});Yn.steparea=bi,ni.steparea=Un(ni.area,{step:"left"}),ni.spline=Un(ii);var _i=c(gi,{seriesType:"spline",getPointSpline:function(e,t,n){var i,r,a,o,s,l=1.5,d=l+1,u=t.plotX,c=t.plotY,h=e[n-1],p=e[n+1];if(h&&p){var f,g=h.plotX,m=h.plotY,v=p.plotX,y=p.plotY;i=(l*u+g)/d,r=(l*c+m)/d,a=(l*u+v)/d,o=(l*c+y)/d,f=(o-r)*(a-u)/(a-i)+c-o,r+=f,o+=f,r>m&&r>c?(r=Pt(m,c),o=2*c-r):m>r&&c>r&&(r=Mt(m,c),o=2*c-r),o>y&&o>c?(o=Pt(y,c),r=2*c-o):y>o&&c>o&&(o=Mt(y,c),r=2*c-o),t.rightContX=a,t.rightContY=o}return n?(s=["C",h.rightContX||h.plotX,h.rightContY||h.plotY,i||u,r||c,u,c],h.rightContX=h.rightContY=null):s=[wn,u,c],s}});Yn.spline=_i,ni.splinearea=Un(ni.area);var xi=yi.prototype,wi=c(_i,{seriesType:"splinearea",closedStacks:!0,getSegmentPath:xi.getSegmentPath,closeSegment:xi.closeSegment,drawGraph:xi.drawGraph});Yn.splinearea=wi,ni.bar=Un(ii,{borderColor:"#FFFFFF",borderWidth:0,borderRadius:0,groupPadding:.15,pointMark:null,barOffset:.1,minPointLength:0,pointsLimit:50,pointRange:null,activeSettings:{pointHoveredState:{brightness:.1,shadow:!1},pointSelectedState:{color:"#7AF4F4",shadow:!1}},dataPointText:{align:null,verticalAlign:null,y:null},baseValue:0});var Ci=c(gi,{seriesType:"bar",tooltipOutsidePlot:!0,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},isInverted:!1,init:function(){gi.prototype.init.apply(this,arguments);var e=this,t=zn[e.chart.guid];t.hasRendered&&jn(t.dataSeries,function(t){t.seriesType===e.seriesType&&(t.isDirty=!0)})},translate:function(){var e,t,n=this,r=zn[n.chart.guid],a=n.enablePolarLayout,o=n.options,s=o.stackMode,d=o.borderWidth,u=0,c=n.axisX,h=c.inverseOrder,p={};gi.prototype.translate.apply(n),o.divideSeries===!1?u=1:jn(r.dataSeries,function(r){var a=r.options;r.seriesType===n.seriesType&&r.visible&&n.options.group===a.group&&(a.stackMode?(e=r.stackKey,p[e]===i&&(p[e]=u++),t=p[e]):a.divideSeries!==!1&&(t=u++),r.columnIndex=t)});var f=n.points,g=It(c.transA)*(c.ordinalSlope||o.pointRange||c.closestPointRange||1),m=g*o.groupPadding,v=g-2*m,y=v/u,b=o.dataPointWidth,_=pn(b)?(y-b)/2:y*o.barOffset,x=a?_:sn(_),w=l(b,y-2*x),C=a?w:sn(w),T=At(Pt(C,1+2*d)),k=(h?u-n.columnIndex:n.columnIndex)||0,S=x+(m+k*y-g/2)*(h?-1:1),E=a?S:sn(S),D=o.baseValue,A=n.translatedThreshold=R.call(n.axisY,D),P=l(o.minPointLength,5);jn(f,function(e){var t,i=e.plotY,a=l(e.yBottom,A),o=e.plotX+E,u=At(Mt(i,a)),c=At(Pt(i,a)-u),h=n.axisY.stacks[(e.y<0?"-":"")+n.stackKey];s&&n.visible&&h&&h[e.x]&&h[e.x]._offset(E,T),It(c)<P&&P&&(c=P,u=It(u-A)>P?a-P:A-(A>=i?P:0)),e.barX=o,e.dataPointWidth=C,e.shapeType="rect",e.shapeArgs=t=r.renderer.Element.prototype.crisp.call(0,d,o,u,T,c),d%2&&(t.y-=1,t.height+=1),e.trackerArgs=It(c)<3&&Un(e.shapeArgs,{height:6,y:u-3})})},getSymbol:rn,drawGraph:rn,drawPoints:function(){var e,t=this,n=t.options,r=zn[t.chart.guid].renderer;jn(t.points,function(a){var o=a.plotY,s=a.graphic;o===i||isNaN(o)||null===a.y?s&&(a.graphic=s.destroy()):(e=a.shapeArgs,s?(ei(s),s.animate(Un(e))):a.graphic=s=r[a.shapeType](e).attr(a.pointAttr[a.selected?An:En]).add(t.group).shadow(n.shadow,null,n.stackMode&&!n.borderRadius))})},drawTracker:function(){var e,t,n,r,a,o=this,l=zn[o.chart.guid],d=l.renderer,u=+new Date,c=o.options,h=c.cursor,p=h&&{cursor:h},f=o.isCartesian&&o.plotGroup("trackerGroup",null,vn,c.zIndex||1,l.trackerGroup);jn(o.points,function(h){t=h.tracker,e=h.trackerArgs||h.shapeArgs,r=h.plotY,a=!o.isCartesian||r!==i&&!isNaN(r),delete e.strokeWidth,null!==h.y&&a&&(t?t.attr(e):h.tracker=d[h.shapeType](e).attr({isTracker:u,fill:Sn,visibility:o.visible?vn:yn}).on(tn?Vt:Ft,function(e){n=e.relatedTarget||e.fromElement,l.hoverSeries!==o&&s(n,"isTracker")!==u&&o._mouseOver(e),h._mouseOver(e)}).on(Rt,function(e){c.completeSeriesTrace||(n=e.relatedTarget||e.toElement,s(n,"isTracker")!==u&&o._mouseOut(e))}).css(p).add(h.group||f))})},alignDataLabel:function(e,t,n,i,r){var a=this,o=zn[a.chart.guid],s=o.isInverted,d=e.below||e.plotY>(a.translatedThreshold||o.plotSizeY),u=a.options.stackMode||n.inside;e.shapeArgs&&(i=Un(e.shapeArgs),s&&(i={x:o.plotWidth-i.y-i.height,y:o.plotHeight-i.x-i.width,width:i.height,height:i.width}),u||(s?(i.x+=d?0:i.width,i.width=0):(i.y+=d?i.height:0,i.height=0))),n.align=l(n.align,!s||u?"center":d?"right":"left"),n.verticalAlign=l(n.verticalAlign,s||u?"middle":d?"top":"bottom"),gi.prototype.alignDataLabel.call(a,e,t,n,i,r)},animate:function(e){var t=this,n=t.points,i=t.options;e||(jn(n,function(e){var n=e.graphic,r=e.shapeArgs,a=t.axisY,o=i.baseValue;n&&(n.attr({height:0,y:pn(o)?R.call(a,o):a.translate(F.call(a).min,0,1,0,1)}),n.animate({height:r.height,y:r.y},i.applyAnimation))}),t.animate=null)},remove:function(){var e=this,t=zn[e.chart.guid];t.hasRendered&&jn(t.dataSeries,function(t){t.seriesType===e.seriesType&&(t.isDirty=!0)}),gi.prototype.remove.apply(e,arguments)}});Yn.bar=Ci,ni.scatter=Un(ii,{drawWidth:0,activeSettings:{pointHoveredState:{drawWidth:0}},tooltipSettings:{customHeaderText:"{point.pointName}",customPointText:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b>"}});var Ti=c(gi,{seriesType:"scatter",sorted:!1,translate:function(){var e=this;gi.prototype.translate.apply(e),jn(e.points,function(t){t.shapeType="circle",t.shapeArgs={x:t.plotX,y:t.plotY,r:e.chart.options.tooltipSettings.showDistance}})},drawTracker:function(){for(var e,t=this,n=t.options.cursor,r=n&&{cursor:n},a=t.points,o=a.length;o--;)e=a[o].graphic,e&&(e.element._i=o);t._hasTracking?t._hasTracking=!0:t.markerGroup.attr({isTracker:!0}).on(tn?Vt:Ft,function(e){t._mouseOver(e),e.target._i!==i&&a[e.target._i]._mouseOver(e)}).on(Rt,function(e){t.options.completeSeriesTrace||t._mouseOut(e)}).css(r)}});Yn.scatter=Ti,ni.bubble=Un(ni.scatter,{pointMark:{drawWidth:1,activeSettings:{pointHoveredState:{innerColor:null},pointSelectedState:{innerColor:null}}},tooltipSettings:{customHeaderText:"{point.pointName}",customPointText:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>size: <b>{point.size}</b>"}});var ki=c(Ti,{seriesType:"bubble",translate:function(){var e,t,n,r,a,o=this,s=o.chart,l=zn[s.guid],d=10,u=Pt(10,sn(Mt(l.plotHeight,l.plotWidth)/5)),c=u-d;Ti.prototype.translate.apply(o),jn(o.points,function(n){n._rad=r=St.sqrt(n.size/Nt),(e===i||e>r)&&(e=r),(t===i||r>t)&&(t=r)}),n=t-e,d>e&&(a=e,e=t=i,jn(o.points,function(n){n._rad=r=n._rad*d/a,(e===i||e>r)&&(e=r),(t===i||r>t)&&(t=r)}),n=t-e),n>=c&&jn(o.points,function(t){t._rad=d+(t._rad-e)*c/n})},drawPoints:function(){var e=this;jn(e.points,function(e){jn([En,Dn,An],function(t){an(e.pointAttr[t],{r:e._rad,fill:new ri(e.pointAttr[t].fill).setOpacity(t==En?.75:1).get()})})}),gi.prototype.drawPoints.apply(e)}});Yn.bubble=ki,ni.pie=Un(ii,{borderColor:"#FFFFFF",borderWidth:0,center:["50%","50%"],separateColors:!0,dataPointText:{distance:30,enabled:!0,format:function(e,t){return t&&t.options&&t.options.axisX&&t.options.axisX.categoricalValues&&t.options.axisX.categoricalValues[e.x]!==i?t.options.axisX.categoricalValues[e.x]:e.y}},legendType:jt,pointMark:null,size:"75%",addToLegend:!1,slicedOffset:10,activeSettings:{pointHoveredState:{brightness:.1,shadow:!1}},tooltipSettings:{customHeaderText:"{point.dataSeries.collectionAlias}",customPointText:function(e,t){var n;return n=t&&t.options&&t.options.axisX&&t.options.axisX.categoricalValues&&t.options.axisX.categoricalValues[e.x]!==i?t.options.axisX.categoricalValues[e.x]:e.pointName?e.pointName:e.collectionAlias?e.collectionAlias:e.dataSeries.collectionAlias,"<span>"+n+"</span>: "+e.y}}});var Si=c(fi,{init:function(){fi.prototype.init.apply(this,arguments);var e,t=this;return an(t,{visible:t.visible!==!1,collectionAlias:l(t.collectionAlias,"Sector")}),pn(t.selected)?t.selected=t.sliced=!!t.selected:pn(t.sliced)&&(t.selected=t.sliced=!!t.sliced),e=function(){tt.call(t)},$n(t,"pointSelect",e),$n(t,"pointDeselect",e),t},toggle:function(e){var t,n=this,r=n.dataSeries,a=r.chart,o=zn[r.chart.guid],s=n.tracker,l=n.dataLabel,d=n.connector,u=n.shadowGroup;n.visible=e=e===i?!n.visible:e,t=e?"show":"hide",n.group[t](),s&&s[t](),l&&l[t](),d&&d[t](),u&&u[t](),n.legendItem&&q.call(o.chartLegend,n,e),!r.isDirty&&r.options.ignoreHiddenPoint&&(r.isDirty=!0,a.redraw())}}),Ei={seriesType:"pie",isCartesian:!1,pointClass:Si,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=zn[this.chart.guid].counters.color},animate:function(){var e=this,t=e.points;jn(t,function(t){var n=t.graphic,i=t.shapeArgs,r=-Nt/2;n&&(n.attr({r:0,start:r,end:r}),n.animate({r:i.r,start:i.start,end:i.end},e.options.applyAnimation))}),e.animate=null},setItemSource:function(e,t){var n=this;gi.prototype.setItemSource.call(n,e,!1),n.processData(),n.generatePoints(),l(t,!0)&&n.chart.redraw()},getCenter:function(){var e,t=this.options,n=zn[this.chart.guid],i=n.plotWidth,r=n.plotHeight,a=t.center.concat([t.size,t.innerSize||0]),o=Mt(i,r);return Xn(a,function(t,n){return e=/%$/.test(t),e?[i,r,o,o][n]*sn(t)/100:t})},translate:function(){this.generatePoints();var e,t,n,i,r,a,o,s,l,d=0,u=this,c=-.25,h=1e3,p=u.options,f=p.slicedOffset,g=f+p.borderWidth,m=zn[u.chart.guid],v=u.points,y=2*Nt,b=p.dataPointText.distance,_=p.ignoreHiddenPoint,x=v.length;for(u.center=e=u.getCenter(),u.getX=function(t,n){return i=St.asin((t-e[1])/(e[2]/2+b)),e[0]+(n?-1:1)*Bt(i)*(e[2]/2+b)},s=0;x>s;s++)l=v[s],d+=_&&!l.visible?0:l.y;for(s=0;x>s;s++)l=v[s],r=d?l.y/d:0,t=Et(c*y*h)/h,(!_||l.visible)&&(c+=r),n=Et(c*y*h)/h,l.shapeType="arc",l.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:t,end:n},i=(n+t)/2,l.slicedTranslation=Xn([Bt(i)*f+m.plotLeft,Lt(i)*f+m.plotTop],Et),a=Bt(i)*e[2]/2,o=Lt(i)*e[2]/2,l.tooltipPos=[e[0]+.7*a,e[1]+.7*o],l.labelPos=[e[0]+a+Bt(i)*b,e[1]+o+Lt(i)*b,e[0]+a+Bt(i)*g,e[1]+o+Lt(i)*g,e[0]+a,e[1]+o,0>b?"center":y/4>i?"left":"right",i],l.percentage=100*r,l.total=d;u.setTooltipPoints()},render:function(){var e=this;e.getAttribs(),e.drawPoints(),e.options.mouseInteractions!==!1&&e.drawTracker(),e.drawDataLabels(),e.options.applyAnimation&&e.animate&&e.animate(),e.isDirty=!1},drawPoints:function(){var e,t,n,i,r,a=this,o=zn[a.chart.guid],s=o.renderer,l=a.options.shadow;jn(a.points,function(d){t=d.graphic,r=d.shapeArgs,n=d.group,i=d.shadowGroup,l&&!i&&(i=d.shadowGroup=s.g().attr({zIndex:4}).add()),n||(n=d.group=s.g().attr({zIndex:5}).add()),e=d.sliced?d.slicedTranslation:[o.plotLeft,o.plotTop],n.translate(e[0],e[1]),i&&i.translate(e[0],e[1]),t?t.animate(r):d.graphic=t=s.arc(r).setRadialReference(a.center).attr(an(d.pointAttr[En],{"stroke-linejoin":"round"})).add(d.group).shadow(l,i),d.visible===!1&&d.toggle(!1)})},drawDataLabels:function(){var e,t,n,i,r,a,o,s,d,u,c,h,p=this,f=p.data,g=zn[p.chart.guid],m=p.options.dataPointText,v=l(m.connectorPadding,10),y=l(m.connectorWidth,1),b=m.distance,_=p.center,x=_[2]/2,w=_[1],C=b>0,T=[[],[]],k=2;if(m.enabled||p._hasPointLabels)for(gi.prototype.drawDataLabels.apply(p),jn(f,function(e){e.dataLabel&&T[e.labelPos[7]<Nt/2?0:1].push(e)}),T[1].reverse(),c=function(e,t){return t.y-e.y},a=T[0][0]&&T[0][0].dataLabel&&(T[0][0].dataLabel.getBBox().height||21);k--;){var S,E,D,A=[],P=[],M=T[k],I=M.length;if(b>0){for(E=w-x-b;w+x+b>=E;E+=a)A.push(E);if(S=A.length,I>S){for(u=[].concat(M),u.sort(c),h=I;h--;)u[h].rank=h;for(h=I;h--;)M[h].rank>=S&&M.splice(h,1);I=M.length}for(h=0;I>h;h++){e=M[h],r=e.labelPos;var B,L,N=9999;for(L=0;S>L;L++)B=It(A[L]-r[1]),N>B&&(N=B,D=L);if(h>D&&null!==A[h])D=h;else if(I-h+D>S&&null!==A[h])for(D=S-I+h;null===A[D];)D++;else for(;null===A[D];)D++;P.push({i:D,y:A[D]}),A[D]=null}P.sort(c)}for(h=0;I>h;h++){var H,O;if(e=M[h],r=e.labelPos,i=e.dataLabel,d=e.visible===!1?yn:vn,O=r[1],b>0?(H=P.pop(),D=H.i,s=H.y,(O>s&&null!==A[D+1]||s>O&&null!==A[D-1])&&(s=O)):s=O,o=m.justify?_[0]+(k?-1:1)*(x+b):p.getX(0===D||D===A.length-1?O:s,k),i.attr({visibility:d,align:r[6]})[i.moved?"animate":"attr"]({x:o+m.x+({left:v,right:-v}[r[6]]||0),y:s+m.y-10}),i.moved=!0,C&&y){t=e.connector;var F=o+("left"===r[6]?8:-8),R=s;n=[wn,F,R,xn,F+("left"===r[6]?-10:10),R,xn,r[4],r[5]],t?(t.animate({d:n}),t.attr("visibility",d)):e.connector=t=g.renderer.path(n).attr({"stroke-width":y,stroke:m.connectorColor||e.color||"#606060",visibility:d,zIndex:3}).translate(g.plotLeft,g.plotTop).add()}}}},alignDataLabel:rn,drawTracker:Ci.prototype.drawTracker,getSymbol:rn};Ei=c(gi,Ei),Yn.pie=Ei,ni.donut=Un(ni.pie,{innerSize:"45%"});var Di=c(Ei,{seriesType:"donut"});Yn.donut=Di;var Ai={_init:function(){var t=this;t.container=e("<div class='shield-lightbox' />"),t.mask=e("<div class='shield-lightbox-mask' />").appendTo(t.container),t.imageBox=e("<div class='shield-lightbox-imagebox' />").appendTo(t.container),t.image=e("<img />").appendTo(t.imageBox),t.caption=e("<p>Right-click and save image to disk. Left-click to dismiss.</p>").appendTo(t.imageBox),t.window=e(n),t.document=e(kt),t.body=e(kt.body)},show:function(t){function n(){r.visible&&(r.container.appendTo(r.body),r.window.on(Rn+r.ns,i),r.window.on("keydown"+r.ns,function(e){27===e.keyCode&&r.hide()}),r.container.on(Wn+r.ns,e.proxy(r.hide,r)),setTimeout(i,1e3/60))}function i(){r.mask.css({height:r.document.innerHeight()}),r.image.css({maxWidth:r.mask.width()-(r.image.outerWidth()-r.image.width())-2*r.margin,maxHeightINTERNAL:r.mask.height()-(r.image.outerHeight()-r.image.height())-2*r.margin}),r.imageBox.css({left:(r.document.innerWidth()-r.imageBox.outerWidth())/2,top:(r.window.innerHeight()-r.imageBox.outerHeight())/2+r.document.scrollTop()}),r.caption.css({left:(r.imageBox.width()-r.caption.outerWidth())/2+"px"})}var r=this;r.visible||(r.visible=!0,r.container||r._init(),r.image.attr("src")===t?n():r.image.on("load"+r.ns,n).attr("src",t).attr("alt","Right-click and save image to disk"))},hide:function(){var e=this;e.container.detach(),e.window.off(e.ns),e.visible=!1},ns:".shield",visible:!1,container:null,mask:null,imageBox:null,image:null,caption:null,window:null,document:null,body:null,margin:40};ci.defaults.exportOptions={image:!0,print:!0,exportTooltip:"Export the chart to an image",printTooltip:"Print the chart"},an(ci.prototype,{exportToImage:function(){if(Jt){var t=this,n=e(zn[t.guid].container),i=n.html(),r=e("<canvas />").attr("width",n.width()).attr("height",n.height())[0];if(typeof canvg!==Ot)throw"Export requires canvg: https://code.google.com/p/canvg/";i=i.replace(/(xmlns="[^\"]*")(.*?)\1/,"$1$2"),i=i.replace(/<(filter)\b[^>]*>.*?<\/\1>/gim,""),i=i.replace(/\bfilter\b=(["']).*?\1/gim,""),canvg(r,i),Ai.show(r.toDataURL())}},print:function(){var t=this,n=e("<iframe />").css({position:"absolute",left:"-10000px",top:"-10000px"}).appendTo(kt.body)[0],i=n.contentWindow.document;i.open("text/html","replace"),i.write(zn[t.guid].container.innerHTML),i.close(),n.contentWindow.print(),setTimeout(function(){kt.body.removeChild(n),n=null},100)}}),pi.push(function(t){var n,i=t.options.exportOptions,r=[];i!==!1&&((i.image&&Jt||i.print)&&(n=e('<div class="shield-buttons" />').appendTo(t.element)),i.image&&Jt&&r.push(e('<button class="shield-chart-button" type="button" title="'+i.exportTooltip+'"><div class="sui-sprite shield-export-button-img" /></button>').on("click.shield",e.proxy(t.exportToImage,t)).appendTo(n)),i.print&&r.push(e('<button class="shield-chart-button" type="button" title="'+i.printTooltip+'"><div class="sui-sprite shield-print-button-img" /></button>').on("click.shield",e.proxy(t.print,t)).appendTo(n)),e(t).bind("destroy",function(){e(r).each(function(e,t){t.off(".shield").remove()})}))});var Pi=gi,Mi=Yn.bar.prototype;an(nt.prototype,{init:function(e,t,n){var i,r=this,a=r.defaults;r.chart=t,zn[t.guid].angular&&(a.background={}),r.options=e=Un(a,e),i=e.background,i&&jn([].concat(fn(i)).reverse(),function(e){var t=e.backgroundColor;e=Un(r.defaultBackgroundOptions,e),t&&(e.backgroundColor=t),e.color=e.backgroundColor,n.options.plotBands.unshift(e)})},defaults:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:Number.MIN_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var Ii=z.prototype,Bi=S.prototype,Li={_offset:rn,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},_scale:rn,_points:rn,_title:rn},Ni={radialGauge:{axisTickText:{align:"center",x:0,y:null},minorPlotStripWidth:0,minorTicksRepeat:"auto",minorTicksHeight:10,minorTicksPlacementINTERNAL:"inside",minorTickWidth:1,plotBands:[],tickLength:10,tickPosition:"inside",tickWidth:2,title:{textAngle:0},zIndex:2},radialX:{plotStripWidth:1,axisTickText:{align:null,distance:15,x:0,y:null},endOffset:0,startOffset:0,plotBands:[],lastTickTextVisible:!1,tickLength:0},radialY:{gridLineInterpolationINTERNAL:"circle",axisTickText:{align:"right",x:-3,y:-2},plotBands:[],lastTickTextVisible:!1,title:{x:4,text:null,textAngle:90}}},Hi={radial:!0,setOptions:function(e,t){this.options=Un(ui.defaults,e,this.defaultRadialOptions,this.isXAxis?t.initialOptions.axisX:t.initialOptions.axisY)},_offset:function(){var e=this;Ii._offset.call(e),zn[e.chart.guid].axisOffset[e.side]=0,e.center=e.pane.center=Yn.pie.prototype.getCenter.call(e.pane)},_path:function(e,t){var n=this,i=n.center;return t=l(t,i[2]/2-n.offset),zn[n.chart.guid].renderer.symbols.arc(n.left+i[0],n.top+i[1],t,t,{start:n.startAngleRad,end:n.endAngleRad,open:!0,innerR:0})},_arrange:function(){var e=this;Ii._arrange.call(e),e.center&&(e.transA=e.isCircular?(e.endAngleRad-e.startAngleRad)/(e.max-e.min||1):e.center[2]/2/(e.max-e.min||1),e.isXAxis&&(e.minPixelPadding=e.transA*e.minPointOffset+(e.inverseOrder?(e.endAngleRad-e.startAngleRad)/4:0)))},_preTicks:function(){var e=this;e.autoConnect&&(e.max+=e.categoricalValues&&1||e.pointRange||e.closestPointRange)},_dimensions:function(){var e=this;Ii._dimensions.call(e),e.center&&(e.len=e.width=e.height=e.isCircular?e.center[2]*(e.endAngleRad-e.startAngleRad)/2:e.center[2]/2)},_position:function(e,t){var n=this;return n.isCircular||(t=n.translate(e),e=n.min),n.postTranslate(n.translate(e),l(t,n.center[2]/2)-n.offset)},postTranslate:function(e,t){var n=this,i=zn[n.chart.guid],r=n.center;return e=n.startAngleRad+e,{x:i.plotLeft+r[0]+Bt(e)*t,y:i.plotTop+r[1]+Lt(e)*t}},_bandPath:function(e,t,n){var i,r,a,o,s=this,d=s.center,u=s.startAngleRad,c=d[2]/2,h=[l(n.outerRadius,"100%"),n.innerRadius,l(n.thickness,10)],p=/%$/,f=s.isCircular;return"polygon"===s.options.gridLineInterpolationINTERNAL?o=s._linePath(e).concat(s._linePath(t,!0)):(f||(h[0]=s.translate(e),h[1]=s.translate(t)),h=Xn(h,function(e){return p.test(e)&&(e=sn(e,10)*c/100),e}),"circle"!==n.shape&&f?(i=u+s.translate(e),r=u+s.translate(t)):(i=-Nt/2,r=1.5*Nt,a=!0),o=zn[s.chart.guid].renderer.symbols.arc(s.left+d[0],s.top+d[1],h[0],h[0],{start:i,end:r,innerR:l(h[1],h[0]-h[2]),open:a})),o},_linePath:function(e,t){var n,i,r,a,o=this,s=o.center,l=zn[o.chart.guid],d=o._position(e);return o.isCircular?a=["M",s[0]+l.plotLeft,s[1]+l.plotTop,"L",d.x,d.y]:"circle"===o.options.gridLineInterpolationINTERNAL?(e=o.translate(e),e&&(a=o._path(0,e))):(n=l.axisX[0],a=[],e=o.translate(e),r=n.tickPositions,n.autoConnect&&(r=r.concat([r[0]])),t&&(r=[].concat(r).reverse()),jn(r,function(t,r){i=n._position(t,e),a.push(r?"L":"M",i.x,i.y)})),a},_titlePos:function(){var e=this,t=e.center,n=zn[e.chart.guid],i=e.options.title;return{x:n.plotLeft+t[0]+(i.x||0),y:n.plotTop+t[1]-{high:.5,middle:.25,low:0}[i.align]*t[2]+(i.y||0)}}};Yn.polarline=c(Yn.line,{seriesType:"polarline",enablePolarLayout:!0}),ni.polarline=Un(ni.line,ni.polarline),Yn.polararea=c(Yn.area,{seriesType:"polararea",enablePolarLayout:!0}),ni.polararea=Un(ni.area,ni.polararea),Yn.polarbar=c(Yn.bar,{seriesType:"polarbar",enablePolarLayout:!0}),ni.polarbar=Un(ni.bar,ni.polarbar,{pointRange:0}),Yn.polarspline=c(Yn.spline,{seriesType:"polarspline",enablePolarLayout:!0}),ni.polarspline=Un(ni.spline,ni.polarspline),Yn.polarsplinearea=c(Yn.splinearea,{seriesType:"polarsplinearea",enablePolarLayout:!0}),ni.polarsplinearea=Un(ni.splinearea,ni.polarsplinearea),Yn.polarscatter=c(Yn.scatter,{seriesType:"polarscatter",enablePolarLayout:!0}),ni.polarscatter=Un(ni.scatter,ni.polarscatter),h(Ii,"init",function(e,t,n){var r,a,o,s,d,u,c=this,h=zn[t.guid],p=h.angular,f=h.enablePolarLayout,g=n.isX,m=p&&g,v=t.options,y=n.pane||0;p?(an(c,m?Li:Hi),r=!g,r&&(c.defaultRadialOptions=Ni.radialGauge)):f&&(an(c,Hi),r=g,c.defaultRadialOptions=g?Ni.radialX:Un(ui.y,Ni.radialY)),e.call(c,t,n),m||!p&&!f||(s=c.options,h.panes||(h.panes=[]),c.pane=h.panes[y]=d=new nt(fn(v.pane)[y],t,c),u=d.options,h.inverted=!1,v.zoomType=null,c.startAngleRad=a=(u.startAngle-90)*Nt/180,c.endAngleRad=o=(l(u.endAngle,u.startAngle+360)-90)*Nt/180,c.offset=s.offset||0,c.isCircular=r,r&&n.max===i&&o-a===2*Nt&&(c.autoConnect=!0))}),h(Bi,"_position",function(e,t,n,i,r){var a=this.axis;return a._position?a._position(n):e.call(this,t,n,i,r)}),h(Bi,"_labelPos",function(e,t,n,i,r,a,o,s,d){var u,c=this.axis,h=a.y,p=a.align,f=(c.translate(this.pos)+c.startAngleRad+Nt/2)/Nt*180;return c.radial?(u=c._position(this.pos,c.center[2]/2+l(a.distance,-25)),"auto"===a.textAngle?i.attr({textAngle:f}):null===h&&(h=.9*sn(i.styles.lineHeight)-i.getBBox().height/2),null===p&&(p=c.isCircular?f>20&&160>f?"left":f>200&&340>f?"right":"center":"center",i.attr({align:p})),u.x+=a.x,u.y+=h):u=e.call(this,t,n,i,r,a,o,s,d),u}),h(Bi,"_markPath",function(e,t,n,i,r,a,o){var s,l,d=this.axis;return d.radial?(s=d._position(this.pos,d.center[2]/2+i),l=["M",t,n,"L",s.x,s.y]):l=e.call(this,t,n,i,r,a,o),l}),ni.rangearea=Un(ni.area,{drawWidth:1,pointMark:null,baseValue:null,tooltipSettings:{customPointText:'<span style="color:{point.dataSeries.color}">{point.dataSeries.collectionAlias}</span>: <b>{point.low}</b> - <b>{point.high}</b><br/>'},areaInteractivity:!0,dataPointText:{verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},shadow:!1});var Oi=c(fi,{setOptions:function(e,t){var n=this,r=n.dataSeries,a=r.pointArrayMap,o=0,s=0,l=a.length;if("object"==typeof e&&"number"!=typeof e.length)an(n,e),n.options=e;else if(e.length)for(e.length>l&&("string"==typeof e[0]?n.collectionAlias=e[0]:"number"==typeof e[0]&&(n.x=e[0]),o++);l>s;)n[a[s++]]=e[o++];return n.y=n[r.pointValKey],n.x===i&&r&&(n.x=t===i?r.autoIncrement():t),n},toArray:function(){return[this.low,this.high]}});Yn.rangearea=c(Yn.area,{seriesType:"rangearea",pointArrayMap:["low","high"],pointClass:Oi,pointValKey:"low",translate:function(){var e=this,t=e.axisY;Yn.area.prototype.translate.apply(e),jn(e.points,function(e){null!==e.y&&(e.plotLow=e.plotY,e.plotHigh=t.translate(e.high,0,1,0,1))})},getSegmentPath:function(e){for(var t,n,i,r,a=this,o=[],s=e.length,l=gi.prototype.getSegmentPath,d=a.options,u=d.step;s--;)t=e[s],o.push({plotX:t.plotX,plotY:t.plotHigh});return i=l.call(a,e),u&&(u===!0&&(u="left"),d.step={left:"right",center:"center",right:"left"}[u]),r=l.call(a,o),d.step=u,n=[].concat(i,r),r[0]="L",a.areaPath=a.areaPath.concat(i,r),n},drawDataLabels:function(){var e,t,n=this,i=n.data,r=i.length,a=[],o=gi.prototype,s=n.options.dataPointText,l=zn[n.chart.guid].inverted;if(s.enabled||n._hasPointLabels){for(e=r;e--;)t=i[e],t.y=t.high,t.plotY=t.plotHigh,a[e]=t.dataLabel,t.dataLabel=t.dataLabelUpper,t.below=!1,l?(s.align="left",s.x=s.xHigh):s.y=s.yHigh;for(o.drawDataLabels.apply(n,arguments),e=r;e--;)t=i[e],t.dataLabelUpper=t.dataLabel,t.dataLabel=a[e],t.y=t.low,t.plotY=t.plotLow,t.below=!0,l?(s.align="right",s.x=s.xLow):s.y=s.yLow;o.drawDataLabels.apply(n,arguments)}},alignDataLabel:Yn.bar.prototype.alignDataLabel,getSymbol:Yn.bar.prototype.getSymbol,drawPoints:rn}),ni.rangesplinearea=Un(ni.rangearea),Yn.rangesplinearea=c(Yn.rangearea,{seriesType:"rangesplinearea",getPointSpline:Yn.spline.prototype.getPointSpline}),ni.rangebar=Un(ni.bar,ni.rangearea,{drawWidth:1,pointRange:null}),Yn.rangebar=c(Yn.rangearea,{seriesType:"rangebar",translate:function(){var e,t=this,n=t.axisY;Mi.translate.apply(t),jn(t.points,function(t){var i=t.shapeArgs;t.plotHigh=e=n.translate(t.high,0,1,0,1),t.plotLow=t.plotY,i.y=e,i.height=t.plotY-e,t.trackerArgs=i})},drawGraph:rn,pointAttrToOptions:Mi.pointAttrToOptions,drawPoints:Mi.drawPoints,drawTracker:Mi.drawTracker,animate:Mi.animate});var Fi=gi.prototype,Ri=G.prototype;Fi.toXY=function(e){var t,n=this,i=zn[n.chart.guid],r=e.plotX,a=e.plotY;e.rectPlotX=r,e.rectPlotY=a,e.deg=r/Nt*180,t=n.axisX.postTranslate(e.plotX,n.axisY.len-a),e.plotX=e.polarPlotX=t.x-i.plotLeft,e.plotY=e.polarPlotY=t.y-i.plotTop},h(Yn.area.prototype,"init",it),h(Yn.splinearea.prototype,"init",it),h(Yn.spline.prototype,"getPointSpline",function(e,t,n,i){var r,a,o,s,l,d,u,c,h,p,f,g,m,v,y,b,_,x,w=1.5,C=w+1;return zn[this.chart.guid].enablePolarLayout?(a=n.plotX,o=n.plotY,s=t[i-1],l=t[i+1],this.connectEnds&&(s||(s=t[t.length-2]),l||(l=t[1])),s&&l&&(d=s.plotX,u=s.plotY,c=l.plotX,h=l.plotY,p=(w*a+d)/C,f=(w*o+u)/C,g=(w*a+c)/C,m=(w*o+h)/C,v=St.sqrt(St.pow(p-a,2)+St.pow(f-o,2)),y=St.sqrt(St.pow(g-a,2)+St.pow(m-o,2)),b=St.atan2(f-o,p-a),_=St.atan2(m-o,g-a),x=Nt/2+(b+_)/2,It(b-x)>Nt/2&&(x-=Nt),p=a+Bt(x)*v,f=o+Lt(x)*v,g=a+Bt(Nt+x)*y,m=o+Lt(Nt+x)*y,n.rightContX=g,n.rightContY=m),i?(r=["C",s.rightContX||s.plotX,s.rightContY||s.plotY,p||a,f||o,a,o],s.rightContX=s.rightContY=null):r=["M",a,o]):r=e.call(this,t,n,i),r}),h(Fi,"translate",function(e){var t=this;if(e.call(t),zn[t.chart.guid].enablePolarLayout&&!t.preventPostTranslate)for(var n=t.points,i=n.length;i--;)t.toXY(n[i])}),h(Fi,"getSegmentPath",function(e,t){var n=this,i=n.points;return zn[n.chart.guid].enablePolarLayout&&n.options.connectEnds!==!1&&t[t.length-1]===i[i.length-1]&&null!==i[0].y&&(n.connectEnds=!0,t=[].concat(t,[i[0]])),e.call(n,t)}),h(Fi,"animate",rt),h(Mi,"animate",rt),h(Fi,"setTooltipPoints",function(e,t){var n=this;return zn[n.chart.guid].enablePolarLayout&&an(n.axisX,{tooltipLen:360,tooltipPosName:"deg"}),e.call(n,t)}),h(Mi,"translate",function(e){var t,n,i,r,a=this,o=a.axisX,s=a.axisY.len,d=o.center,u=o.startAngleRad,c=zn[a.chart.guid].renderer;if(a.preventPostTranslate=!0,e.call(a),o.radial)for(n=a.points,r=n.length;r--;)i=n[r],t=i.barX+u,i.shapeType="path",i.shapeArgs={d:c.symbols.arc(d[0],d[1],s-i.plotY,null,{start:t,end:t+i.dataPointWidth,innerR:s-l(i.yBottom,s)})},a.toXY(i)}),h(Mi,"alignDataLabel",function(e,t,n,i,r,a){var o=this;if(zn[o.chart.guid].enablePolarLayout){var s,l,d=t.rectPlotX/Nt*180;null===i.align&&(s=d>20&&160>d?"left":d>200&&340>d?"right":"center",i.align=s),null===i.verticalAlign&&(l=45>d||d>315?"bottom":d>135&&225>d?"top":"middle",i.verticalAlign=l),Fi.alignDataLabel.call(o,t,n,i,r,a)}else e.call(o,t,n,i,r,a)}),h(Ri,"_index",function(e,t){var n,i,r,a,o=this,s=zn[o.chart.guid];return s.enablePolarLayout?(i=s.axisX[0].center,r=t.chartX-i[0]-s.plotLeft,a=t.chartY-i[1]-s.plotTop,n=180-Et(St.atan2(r,a)/Nt*180)):n=e.call(o,t),n}),h(Ri,"_coord",function(e,t){var n=zn[this.chart.guid],i={axisX:[],axisY:[]};return n.enablePolarLayout?jn(n.axes,function(e){var r=e.isXAxis,a=e.center,o=t.chartX-a[0]-n.plotLeft,s=t.chartY-a[1]-n.plotTop;i[r?"axisX":"axisY"].push({axis:e,value:e.translate(r?Nt-St.atan2(o,s):St.sqrt(St.pow(o,2)+St.pow(s,2)),!0)})}):i=e.call(this,t),i})}(jQuery,shield,this),function(e){e.ui.Chart.themes.bootstrap={seriesPalette:["#428BCA","#F0AD4E","#5CB85C","#D9534F","#5BC0DE","#474949","#84B3DC","#DDC01A","#878989","#DFF0D8"],primaryHeader:{style:{color:"#333333"}},secondaryHeader:{style:{color:"#333333"}},backgroundColor:"",borderWidth:0,chartAreaBackgroundColor:"",chartAreaShadow:!1,chartAreaBorderWidth:0,seriesSettings:{scatter:{activeSettings:{pointHoveredState:{drawWidth:4}},pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:null,activeSettings:{pointHoveredState:{innerColor:"#FFFFFF"}}}},area:{drawWidth:2,pointMark:{enabled:!1,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#FFFFFF",activeSettings:{pointHoveredState:{innerColor:null}}}},splinearea:{drawWidth:2,pointMark:{enabled:!1,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#FFFFFF",activeSettings:{pointHoveredState:{innerColor:null}}}},line:{drawWidth:3,shadow:!1,mouseInteractions:!0,pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#FFFFFF",activeSettings:{pointHoveredState:{innerColor:null}}}},spline:{drawWidth:3,shadow:!1,activeSettings:{pointHoveredState:{drawWidth:4}},pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#FFFFFF",activeSettings:{pointHoveredState:{innerColor:null}}}},pie:{dataPointText:{style:{color:"#333333"}}},donut:{dataPointText:{style:{color:"#333333"}}}},axisX:{drawWidth:1,drawColor:"#888888",ticksColor:"#888888",axisTickText:{style:{color:"#333333"},y:17},title:{style:{color:"#333333"}}},axisY:{drawColor:"#888888",ticksColor:"#888888",plotStripColor:"#888888",axisTickText:{style:{color:"#333333"}},title:{style:{color:"#333333"}}},chartLegend:{legendItemSettings:{elementStyle:{color:"#333333"},mouseOverStyle:{color:"#000"},disabledStyle:{color:"#aaaaaa"}}}}
}(shield),function(e){e.ui.Chart.themes.dark={seriesPalette:["#1E97E3","#FF8000","#00FF9C","#FF2A00","#FFC500","#C9C9C9","#FC2150","#0077C6","#99c900","#cc6e38"],primaryHeader:{style:{color:"#FFFFFF"}},secondaryHeader:{style:{color:"#F2F2F2"}},backgroundColor:"#2D2D2D",borderWidth:0,chartAreaBackgroundColor:"#2D2D2D",chartAreaShadow:!1,chartAreaBorderWidth:0,seriesSettings:{scatter:{activeSettings:{pointHoveredState:{drawWidth:4}},pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{innerColor:null}}}},area:{drawWidth:2,pointMark:{enabled:!1,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{enabled:!1,drawRadius:4}}}},splinearea:{drawWidth:2,pointMark:{enabled:!1,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{innerColor:null}}}},line:{drawWidth:3,shadow:!1,mouseInteractions:!0,pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{innerColor:null}}}},spline:{drawWidth:3,shadow:!1,activeSettings:{pointHoveredState:{drawWidth:4}},pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{innerColor:null}}}},pie:{dataPointText:{style:{color:"#7E7E7E"}}},donut:{dataPointText:{style:{color:"#7E7E7E"}}}},axisX:{drawColor:"#7E7E7E",ticksColor:"#7E7E7E",axisTickText:{style:{color:"#7E7E7E"},y:17},title:{style:{color:"#7E7E7E"}}},axisY:{drawColor:"#7E7E7E",ticksColor:"#7E7E7E",plotStripColor:"#7E7E7E",plotStripDashStyle:"LongDash",axisTickText:{style:{color:"#7E7E7E"}},title:{style:{color:"#7E7E7E"}}},chartLegend:{legendItemSettings:{elementStyle:{color:"#A5A5A5"},mouseOverStyle:{color:"#FFFFFF"},disabledStyle:{color:"#7E7E7E"}}}}}(shield),!function(e,t){"use strict";var n=t.ui.Widget,i=t.Constants,r=t.Class,a=document,o=i.SVG_NS,s=!!a.createElementNS&&!!a.createElementNS(o,"svg").createSVGRect,l=e.map,d=t.to["int"],u=t.error,c="CODABAR",h="CODE-11",p="CODE-39",f="CODE-93",g="CODE-128",m="CODE-128-A",v="CODE-128-B",y="CODE-128-C",b="CODE-25-STANDARD",_="CODE-25-INTERLEAVED",x="EAN-8",w="EAN-13",C="UPC-A",T="UPC-E",k="MSI-10",S="MSI-10-10",E="MSI-11",D="MSI-11-10",A="POSTNET",P={types:[],addType:function(e){this.types[e.prototype.type]=e},byType:function(e){return this.types[e]?new this.types[e]:null}},M=r.extend({type:null,validateRegExp:null,validate:function(e){return this.validateRegExp?new RegExp(this.validateRegExp).test(e):!0},encode:null,checksum:null}),I=M.extend({type:h,validateRegExp:"^[\\d\\-]+$",encode:function(e,t){t&&(e+=this.checksum(e)),e="*"+e+"*";var n,i="",r={0:"101011",1:"1101011",2:"1001011",3:"1100101",4:"1011011",5:"1101101",6:"1001101",7:"1010011",8:"1101001",9:"110101","-":"101101","*":"1011001"};for(n=0;n<e.length;n++)i.length>0&&(i+="0"),i+=r[e.charAt(n)];return[i]},checksum:function(e){var t=this._checksum(e,10,11);return e.length>10&&(t+=this._checksum(e+t,9,11)+""),t},_checksum:function(e,t,n){var i,r=0,a=1;for(i=e.length-1;i>=0;i--)r+=a*("-"==e.charAt(i)?10:d(e.charAt(i))),a=a>=t?1:a+1;return r%n+""}});P.addType(I);var B=M.extend({type:w,validateRegExp:"^[\\d]{12}$",encodingTable:{0:{lo:"0001101",le:"0100111",r:"1110010"},1:{lo:"0011001",le:"0110011",r:"1100110"},2:{lo:"0010011",le:"0011011",r:"1101100"},3:{lo:"0111101",le:"0100001",r:"1000010"},4:{lo:"0100011",le:"0011101",r:"1011100"},5:{lo:"0110001",le:"0111001",r:"1001110"},6:{lo:"0101111",le:"0000101",r:"1010000"},7:{lo:"0111011",le:"0010001",r:"1000100"},8:{lo:"0110111",le:"0001001",r:"1001000"},9:{lo:"0001011",le:"0010111",r:"1110100"}},parityTable:{0:["lo","lo","lo","lo","lo","lo"],1:["lo","lo","le","lo","le","le"],2:["lo","lo","le","le","lo","le"],3:["lo","lo","le","le","le","lo"],4:["lo","le","lo","lo","le","le"],5:["lo","le","le","lo","lo","le"],6:["lo","le","le","le","lo","lo"],7:["lo","le","lo","le","lo","le"],8:["lo","le","lo","le","le","lo"],9:["lo","le","le","lo","le","lo"]},encode:function(e,t){t&&(e+=this.checksum(e));var n,i=e.substring(0,1),r=e.substring(1,7),a=e.substring(7),o="",s=[],l=0,d=this.encodingTable,u=this.parityTable;for(o+="101",s.push(0,1,2),n=0;n<r.length;n++)o+=d[r.charAt(n)][u[i][n]];for(o+="01010",l=o.length,s.push(l-5,l-4,l-3,l-2,l-1),n=0;n<a.length;n++)o+=d[a.charAt(n)].r;return o+="101",l=o.length,s.push(l-3,l-2,l-1),[o,s]},checksum:function(e){var t,n=0,i=1;for(t=e.length-1;t>=0;t--)n+=d(e.charAt(t))*(i++%2?3:1);return 10-n%10+""}});P.addType(B);var L=B.extend({type:x,validateRegExp:"^[\\d]{7}$",encode:function(e,t){t&&(e+=this.checksum(e));var n,i=e.substring(0,4),r=e.substring(4),a="",o=[],s=0,l=this.encodingTable;for(this.parityTable,a+="101",o.push(0,1,2),n=0;n<i.length;n++)a+=l[i.charAt(n)].lo;for(a+="01010",s=a.length,o.push(s-5,s-4,s-3,s-2,s-1),n=0;n<r.length;n++)a+=l[r.charAt(n)].r;return a+="101",s=a.length,o.push(s-3,s-2,s-1),[a,o]}});P.addType(L);var N=B.extend({type:C,validateRegExp:"^\\d{11}$",encode:function(e,t){var n=B.prototype.encode.call(this,"0"+e,t),i=n[0].length;return n[1].push(3,4,5,6,7,8,9,i-4,i-5,i-6,i-7,i-8,i-9,i-10),n},checksum:function(e){return 11==e.length&&(e="0"+e),B.prototype.checksum.call(this,e)}});P.addType(N);var H=N.extend({type:T,validateRegExp:"^[0|1]\\d{6}$",_upce2upca:function(e){var t=e.substring(e.length-1);return"0"==t||"1"==t||"2"==t?e.substring(0,2)+e.charAt(5)+"0000"+e.substring(2,5):"3"==t?e.substring(0,3)+"00000"+e.substring(4,6):"4"==t?e.substring(0,4)+"00000"+e.charAt(4):e.substring(0,5)+"0000"+t},encode:function(e){var t,n=this.checksum(e),i="",r=e.charAt(0),a=e.substring(1),o=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],s=o[d(n)][d(r)];for(t=0;t<a.length;t++)i+=this.encodingTable[a.charAt(t)]["O"==s.charAt(t)?"lo":"le"];return["101"+i+"010101",[0,1,2,45,46,47,48,49,50]]},checksum:function(e){var t=e.charAt(0),n=e.substring(1);return N.prototype.checksum.call(this,t+this._upce2upca(n))}});P.addType(H);var O=M.extend({type:p,validateRegExp:"^[0-9A-Z\\-\\. \\$\\/\\+\\%\\*]+$",encode:function(e,t){t&&(e+=this.checksum(e)),e="*"+e+"*";var n,i="",r={0:"101001101101",1:"110100101011",2:"101100101011",3:"110110010101",4:"101001101011",5:"110100110101",6:"101100110101",7:"101001011011",8:"110100101101",9:"101100101101",A:"110101001011",B:"101101001011",C:"110110100101",D:"101011001011",E:"110101100101",F:"101101100101",G:"101010011011",H:"110101001101",I:"101101001101",J:"101011001101",K:"110101010011",L:"101101010011",M:"110110101001",N:"101011010011",O:"110101101001",P:"101101101001",Q:"101010110011",R:"110101011001",S:"101101011001",T:"101011011001",U:"110010101011",V:"100110101011",W:"110011010101",X:"100101101011",Y:"110010110101",Z:"100110110101","-":"100101011011",".":"110010101101"," ":"100110101101",$:"100100100101","/":"100100101001","+":"100101001001","%":"101001001001","*":"100101101101"};for(n=0;n<e.length;n++)n>0&&(i+="0"),i+=r[e.charAt(n)];return[i]},checksum:function(e){var t,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%*",i=0;for(t=0;t<e.length;t++)i+=n.indexOf(e.charAt(t));return n.charAt(i%43)}});P.addType(O);var F=M.extend({type:f,validateRegExp:"^[0-9A-Z\\-\\. \\$\\/\\+\\%\\*]+$",encode:function(e,t){t&&(e+=this.checksum(e)),e="*"+e+"*";var n,i="",r={0:"100010100",1:"101001000",2:"101000100",3:"101000010",4:"100101000",5:"100100100",6:"100100010",7:"101010000",8:"100010010",9:"100001010",A:"110101000",B:"110100100",C:"110100010",D:"110010100",E:"110010010",F:"110001010",G:"101101000",H:"101100100",I:"101100010",J:"100110100",K:"100011010",L:"101011000",M:"101001100",N:"101000110",O:"100101100",P:"100010110",Q:"110110100",R:"110110010",S:"110101100",T:"110100110",U:"110010110",V:"110011010",W:"101101100",X:"101100110",Y:"100110110",Z:"100111010","-":"100101110",".":"111010100"," ":"111010010",$:"111001010","/":"101101110","+":"101110110","%":"110101110","@":"100100110","#":"111011010","&":"111010110","~":"100110010","*":"101011110"};for(n=0;n<e.length;n++)i+=r[e.charAt(n)];return i+="1",[i]},checksum:function(e){var t=e.length;return e+=this._checksum(e,20,47),e+=this._checksum(e,15,47),e.substring(t,t+2)},_checksum:function(e,t,n){var i,r,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%@#&~*",o=0,s=1;for(r=e.length-1;r>=0;r--)i=a.indexOf(e.charAt(r)),o+=i*s++,s>t&&(s=1);return a.charAt(o%n)}});P.addType(F);var R=M.extend({type:A,validate:function(e){return/^\d+$/.test(e)&&(5==e.length||9==e.length||11==e.length)},encode:function(e,t){t&&(e+=this.checksum(e));var n,i="",r=["11000","00011","00101","00110","01001","01010","01100","10001","10010","10100"];for(n=0;n<e.length;n++)i+=r[e.charAt(n)];return["1"+i+"1"]},checksum:function(e){var t,n=0;for(t=0;t<e.length;t++)n+=d(e.charAt(t));return 10-n%10+""}});P.addType(R);var W=M.extend({validateRegExp:"^\\d+$",encode:function(e,t){t&&(e+=this.checksum(e));var n,i="",r=["100100100100","100100100110","100100110100","100100110110","100110100100","100110100110","100110110100","100110110110","110100100100","110100100110"];for(n=0;n<e.length;n++)i+=r[e.charAt(n)];return["110"+i+"1001"]},_mod10Checksum:function(e){var t,n=0,i=0;for(t=e.length-1;t>=0;t--){var r=d(e.charAt(t))*(i%2?1:2);r>9?(r+="",n+=d(r.charAt(0))+d(r.charAt(1))):n+=r,i++}return 9*n%10+""},_mod11Checksum:function(e){var t,n=0,i=2;for(t=e.length-1;t>=0;t--)n+=d(e.charAt(t))*i,i=i>=7?2:i+1;return 11-n%11+""}}),z=W.extend({type:k,checksum:function(e){return this._mod10Checksum(e)}});P.addType(z);var Y=W.extend({type:S,checksum:function(e){var t=this._mod10Checksum(e);return t+this._mod10Checksum(e+t)}});P.addType(Y);var V=W.extend({type:E,checksum:function(e){return this._mod11Checksum(e)}});P.addType(V);var j=W.extend({type:D,checksum:function(e){var t=this._mod11Checksum(e);return t+this._mod10Checksum(e+t)}});P.addType(j);var G=M.extend({type:c,validateRegExp:"^[A|B|C|D][\\d\\-\\$\\:\\/\\.\\+]+[A|B|C|D]$",encode:function(e){var t,n="",i={0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"101100110011",A:"1011001001",B:"1010010011",C:"1001001011",D:"1010011001"};for(t=0;t<e.length;t++)t>0&&(n+="0"),n+=i[e.charAt(t)];return[n]},checksum:function(){return""}});P.addType(G);var q=M.extend({type:g,encodingTable:[{A:" ",B:" ",C:"00",E:"11011001100"},{A:"!",B:"!",C:"01",E:"11001101100"},{A:'"',B:'"',C:"02",E:"11001100110"},{A:"#",B:"#",C:"03",E:"10010011000"},{A:"$",B:"$",C:"04",E:"10010001100"},{A:"%",B:"%",C:"05",E:"10001001100"},{A:"&",B:"&",C:"06",E:"10011001000"},{A:"'",B:"'",C:"07",E:"10011000100"},{A:"(",B:"(",C:"08",E:"10001100100"},{A:")",B:")",C:"09",E:"11001001000"},{A:"*",B:"*",C:"10",E:"11001000100"},{A:"+",B:"+",C:"11",E:"11000100100"},{A:",",B:",",C:"12",E:"10110011100"},{A:"-",B:"-",C:"13",E:"10011011100"},{A:".",B:".",C:"14",E:"10011001110"},{A:"/",B:"/",C:"15",E:"10111001100"},{A:"0",B:"0",C:"16",E:"10011101100"},{A:"1",B:"1",C:"17",E:"10011100110"},{A:"2",B:"2",C:"18",E:"11001110010"},{A:"3",B:"3",C:"19",E:"11001011100"},{A:"4",B:"4",C:"20",E:"11001001110"},{A:"5",B:"5",C:"21",E:"11011100100"},{A:"6",B:"6",C:"22",E:"11001110100"},{A:"7",B:"7",C:"23",E:"11101101110"},{A:"8",B:"8",C:"24",E:"11101001100"},{A:"9",B:"9",C:"25",E:"11100101100"},{A:":",B:":",C:"26",E:"11100100110"},{A:";",B:";",C:"27",E:"11101100100"},{A:"<",B:"<",C:"28",E:"11100110100"},{A:"=",B:"=",C:"29",E:"11100110010"},{A:">",B:">",C:"30",E:"11011011000"},{A:"?",B:"?",C:"31",E:"11011000110"},{A:"@",B:"@",C:"32",E:"11000110110"},{A:"A",B:"A",C:"33",E:"10100011000"},{A:"B",B:"B",C:"34",E:"10001011000"},{A:"C",B:"C",C:"35",E:"10001000110"},{A:"D",B:"D",C:"36",E:"10110001000"},{A:"E",B:"E",C:"37",E:"10001101000"},{A:"F",B:"F",C:"38",E:"10001100010"},{A:"G",B:"G",C:"39",E:"11010001000"},{A:"H",B:"H",C:"40",E:"11000101000"},{A:"I",B:"I",C:"41",E:"11000100010"},{A:"J",B:"J",C:"42",E:"10110111000"},{A:"K",B:"K",C:"43",E:"10110001110"},{A:"L",B:"L",C:"44",E:"10001101110"},{A:"M",B:"M",C:"45",E:"10111011000"},{A:"N",B:"N",C:"46",E:"10111000110"},{A:"O",B:"O",C:"47",E:"10001110110"},{A:"P",B:"P",C:"48",E:"11101110110"},{A:"Q",B:"Q",C:"49",E:"11010001110"},{A:"R",B:"R",C:"50",E:"11000101110"},{A:"S",B:"S",C:"51",E:"11011101000"},{A:"T",B:"T",C:"52",E:"11011100010"},{A:"U",B:"U",C:"53",E:"11011101110"},{A:"V",B:"V",C:"54",E:"11101011000"},{A:"W",B:"W",C:"55",E:"11101000110"},{A:"X",B:"X",C:"56",E:"11100010110"},{A:"Y",B:"Y",C:"57",E:"11101101000"},{A:"Z",B:"Z",C:"58",E:"11101100010"},{A:"[",B:"[",C:"59",E:"11100011010"},{A:"\\",B:"\\",C:"60",E:"11101111010"},{A:"]",B:"]",C:"61",E:"11001000010"},{A:"^",B:"^",C:"62",E:"11110001010"},{A:"_",B:"_",C:"63",E:"10100110000"},{A:"NUL",B:"`",C:"64",E:"10100001100"},{A:"SOH",B:"a",C:"65",E:"10010110000"},{A:"STX",B:"b",C:"66",E:"10010000110"},{A:"ETX",B:"c",C:"67",E:"10000101100"},{A:"EOT",B:"d",C:"68",E:"10000100110"},{A:"ENQ",B:"e",C:"69",E:"10110010000"},{A:"ACK",B:"f",C:"70",E:"10110000100"},{A:"BEL",B:"g",C:"71",E:"10011010000"},{A:"BS",B:"h",C:"72",E:"10011000010"},{A:"HT",B:"i",C:"73",E:"10000110100"},{A:"LF",B:"j",C:"74",E:"10000110010"},{A:"VT",B:"k",C:"75",E:"11000010010"},{A:"FF",B:"l",C:"76",E:"11001010000"},{A:"CR",B:"m",C:"77",E:"11110111010"},{A:"SO",B:"n",C:"78",E:"11000010100"},{A:"SI",B:"o",C:"79",E:"10001111010"},{A:"DLE",B:"p",C:"80",E:"10100111100"},{A:"DC1",B:"q",C:"81",E:"10010111100"},{A:"DC2",B:"r",C:"82",E:"10010011110"},{A:"DC3",B:"s",C:"83",E:"10111100100"},{A:"DC4",B:"t",C:"84",E:"10011110100"},{A:"NAK",B:"u",C:"85",E:"10011110010"},{A:"SYN",B:"v",C:"86",E:"11110100100"},{A:"ETB",B:"w",C:"87",E:"11110010100"},{A:"CAN",B:"x",C:"88",E:"11110010010"},{A:"EM",B:"y",C:"89",E:"11011011110"},{A:"SUB",B:"z",C:"90",E:"11011110110"},{A:"ESC",B:"{",C:"91",E:"11110110110"},{A:"FS",B:"|",C:"92",E:"10101111000"},{A:"GS",B:"}",C:"93",E:"10100011110"},{A:"RS",B:"~",C:"94",E:"10001011110"},{A:"US",B:"DEL",C:"95",E:"10111101000"},{A:"FNC3",B:"FNC3",C:"96",E:"10111100010"},{A:"FNC2",B:"FNC2",C:"97",E:"11110101000"},{A:"SHIFT",B:"SHIFT",C:"98",E:"11110100010"},{A:"CodeC",B:"CodeC",C:"99",E:"10111011110"},{A:"CodeB",B:"FNC4",C:"CodeB",E:"10111101110"},{A:"FNC4",B:"CodeA",C:"CodeA",E:"11101011110"},{A:"FNC1",B:"FNC1",C:"FNC1",E:"11110101110"},{A:"StartA",B:"StartA",C:"StartA",E:"11010000100"},{A:"StartB",B:"StartB",C:"StartB",E:"11010010000"},{A:"StartC",B:"StartC",C:"StartC",E:"11010011100"},{A:"Stop",B:"Stop",C:"Stop",E:"11000111010"}],validate:function(e){for(var t=0;t<e.length;t++)if(!this._getEncInfo(e.charAt(t)))return!1;return!0},_encode:function(e,t){t=t||!1;var n=this,i=[],r=n._findPrefix(e),a=r[0][0],o=r[1],s=r[2],l=t?"Start"+a:"Code"+a;return i=i.concat(n._encodeCodeset(o,l,a)),s&&s.length>0&&(i=i.concat(n._encode(s,!1))),i&&i.length>0&&(i[0]=i[0].replace("Code","Start")),i},_findPrefix:function(e){var t,n,i,r=this,a="",o="";for(n=0;n<e.length;n++)if(i=e.charAt(n),0!==n){if(t=o,r._getEncInfo(i,"A")||(o=o.replace("A","")),r._getEncInfo(i,"B")||(o=o.replace("B","")),r._getEncInfo(i,"C")||(o=o.replace("C","")),o.length<=0)return[t.split(""),a,e.substring(n)];a+=i}else r._getEncInfo(i,"A")&&(o+="A"),r._getEncInfo(i,"B")&&(o+="B"),r._getEncInfo(i,"C")&&(o+="C"),a+=i;return[o.split(""),e,""]},_encodeOptimized:function(e){var t=this,n=t._encode(e,!0);return n=t._optimizeForC(n),n=t._optimizeShifts(n),n&&n.length>0&&(n[0]=n[0].replace("Code","Start")),n},_optimizeForC:function(e){var t,n=this._splitOptimizeForC(e),i=n[0],r=n[1],a=n[2],o=[];if(i&&i.length>0&&(o=o.concat(i)),r&&r.length>0)for(o.push(r[0]),t=1;t<r.length;t+=2)o.push(r[t]+""+r[t+1]);return a&&a.length>0&&(o=o.concat(this._optimizeForC(a))),o},_splitOptimizeForC:function(e){if(!e||e.length<=0)return[[],[],[]];if(!/^(Code|Start)[A|B|C]$/.test(e[0]))return[e,[],[]];if(3==e.length&&/^\d$/.test(e[1])&&/^\d$/.test(e[2]))return[[],["CodeC",e[1],e[2]],[]];var t,n,i,r,a=[],o=[],s=[],l=-1,d=-1;for(t=0;t<e.length;t++)if(/^(Code|Start)[A|B|C]$/.test(e[t])&&(n=e[t].substring(e[t].length-1)),/^\d$/.test(e[t])&&-1==l&&(l=t,d=-1),l>-1&&!/^\d$/.test(e[t])&&(d=t-1),l>-1&&t>=e.length-1&&(d=t),l>-1&&d>-1){if(r=d-l+1,r>=4)return a=1==l?[]:e.slice(0,l),o=["CodeC"],i=d+(r%2===0?1:0),o=o.concat(e.slice(l,i)),i<e.length&&(s=["Code"+n].concat(e.slice(i))),[a,o,s];l=d=-1}return[e,[],[]]},_optimizeShifts:function(e){return e},_encodeCodeset:function(e,t,n){var i=this;return"A"==n?i._encodeA(e,t):"B"==n?i._encodeB(e,t):"C"==n?i._encodeC(e,t):null},_encodeA:function(e,t){return[t].concat(e.split(""))},_encodeB:function(e,t){return[t].concat(e.split(""))},_encodeC:function(e,t){var n,i=[t];for(n=0;n<e.length;n+=2)i.push(e.charAt(n)+e.charAt(n+1));return i},_getEncInfo:function(e,t){t=t||null;var n,i,r=this.encodingTable;for(i=0;i<r.length;i++)if(t){if(r[i][t]==e)return n=r[i],n.pos=i,n;if("100"==e||"101"==e||"102"==e)return n=r[d(e)],n.pos=i,n}else if(r[i].A==e||r[i].B==e||r[i].C==e)return n=r[i],n.pos=i,n;return null},encode:function(e){var t,n=this,i="",r=n.checksum(e),a=n._encodeOptimized(e),o=a[0].charAt(a[0].length-1);for(t=0;t<a.length;t++)i+=n._getEncInfo(a[t],o).E,/^(Start|Code)[A|B|C]$/.test(a[t])&&(o=a[t].charAt(a[t].length-1));return i+=n._getEncInfo(r,"C").E+n.encodingTable[106].E+"11",[i]},checksum:function(e){var t,n,i=this,r=i._encodeOptimized(e),a=i._getEncInfo(r[0]).pos;for(n=1;n<r.length;n++)a+=i._getEncInfo(r[n]).pos*n;return t=a%103,t>10?t+"":"0"+t}});P.addType(q);var X=q.extend({type:m,validate:function(e){for(var t=0;t<e.length;t++)if(!this._getEncInfo(e.charAt(t),"A"))return!1;return!0},_encodeOptimized:function(e){return this._encodeA(e,"StartA")}});P.addType(X);var U=q.extend({type:v,validate:function(e){for(var t=0;t<e.length;t++)if(!this._getEncInfo(e.charAt(t),"B"))return!1;return!0},_encodeOptimized:function(e){return this._encodeB(e,"StartB")}});P.addType(U);var $=q.extend({type:y,validate:function(e){return/^\d+$/.test(e)&&e.length%2===0},_encodeOptimized:function(e){return this._encodeC(e,"StartC")}});P.addType($);var Q=M.extend({type:b,validateRegExp:"^[\\d\\-]+$",encode:function(e,t){t&&(e+=this.checksum(e)),e="["+e+"]";var n,i="",r={0:"10101110111010",1:"11101010101110",2:"10111010101110",3:"11101110101010",4:"10101110101110",5:"11101011101010",6:"10111011101010",7:"10101011101110",8:"11101010111010",9:"10111010111010","[":"11011010","]":"1101011"};for(n=0;n<e.length;n++)i+=r[e.charAt(n)];return[i]},checksum:function(e){return this._checksum(e,3,1,10)},_checksum:function(e,t,n,i){var r,a,o="0123456789",s=0,l=t;for(r=e.length-1;r>=0;r--)a=o.indexOf(e.charAt(r)),s+=a*l,l=l==t?n:t;return s%=i,0!==s&&(s=i-s),o.charAt(s)}});P.addType(Q);var K=Q.extend({type:_,encode:function(e,t){t&&(e+=this.checksum(e)),e.length%2!==0&&(e="0"+e),e="["+e+"]";var n,i,r="",a={"00":"10101100110010","01":"10010110110100","02":"10100110110100","03":"10010011011010","04":"10101100110100","05":"10010110011010","06":"10100110011010","07":"10101101100100","08":"10010110110010","09":"10100110110010",10:"11010100100110",11:"11001010101100",12:"11010010101100",13:"11001001010110",14:"11010100101100",15:"11001010010110",16:"11010010010110",17:"11010101001100",18:"11001010100110",19:"11010010100110",20:"10110100100110",21:"10011010101100",22:"10110010101100",23:"10011001010110",24:"10110100101100",25:"10011010010110",26:"10110010010110",27:"10110101001100",28:"10011010100110",29:"10110010100110",30:"11011010010010",31:"11001101010100",32:"11011001010100",33:"11001100101010",34:"11011010010100",35:"11001101001010",36:"11011001001010",37:"11011010100100",38:"11001101010010",39:"11011001010010",40:"10101100100110",41:"10010110101100",42:"10100110101100",43:"10010011010110",44:"10101100101100",45:"10010110010110",46:"10100110010110",47:"10101101001100",48:"10010110100110",49:"10100110100110",50:"11010110010010",51:"11001011010100",52:"11010011010100",53:"11001001101010",54:"11010110010100",55:"11001011001010",56:"11010011001010",57:"11010110100100",58:"11001011010010",59:"11010011010010",60:"10110110010010",61:"10011011010100",62:"10110011010100",63:"10011001101010",64:"10110110010100",65:"10011011001010",66:"10110011001010",67:"10110110100100",68:"10011011010010",69:"10110011010010",70:"10101001100110",71:"10010101101100",72:"10100101101100",73:"10010010110110",74:"10101001101100",75:"10010100110110",76:"10100100110110",77:"10101011001100",78:"10010101100110",79:"10100101100110",80:"11010100110010",81:"11001010110100",82:"11010010110100",83:"11001001011010",84:"11010100110100",85:"11001010011010",86:"11010010011010",87:"11010101100100",88:"11001010110010",89:"11010010110010",90:"10110100110010",91:"10011010110100",92:"10110010110100",93:"10011001011010",94:"10110100110100",95:"10011010011010",96:"10110010011010",97:"10110101100100",98:"10011010110010",99:"10110010110010","[":"1010","]":"1101"};for(n=0;n<e.length;n+=i)i=isNaN(e.charAt(n))?1:2,r+=a[e.substr(n,i)];return[r]}});P.addType(K);for(var Z={types:[],addType:function(e){this.types[e.prototype.type]=e},byType:function(e,t){return this.types[e]?new this.types[e](t):null}},J=r.extend({type:null,init:function(e){var t=this,n=e.style;t.options=e,t.width=e.width-n.paddingLeft-n.paddingRight,t.height=e.height-n.paddingTop-n.paddingBottom,s||a.namespaces.scvbarcode||a.namespaces.add("scvbarcode","urn:schemas-microsoft-com:vml","#default#VML")},all:function(n,i){var r=this,a=r.options,l=a.style,d=a.text,u=d.style,c="",h=function(t){return e("<div/>").html(t).text()},p="",f=h(r.width>100?"&#68;&#101;&#109;&#111;&#32;&#86;&#101;&#114;&#115;&#105;&#111;&#110;":"&#68;&#101;&#109;&#111;"),g=h("&#104;&#116;&#116;&#112;&#58;&#47;&#47;&#119;&#119;&#119;&#46;&#115;&#104;&#105;&#101;&#108;&#100;&#117;&#105;&#46;&#99;&#111;&#109;");return t.guid(),l.paddingLeft&&(c+="margin-left:"+l.paddingLeft+"px;"),l.paddingTop&&(c+="margin-top:"+l.paddingTop+"px;"),l.paddingBottom&&(c+="margin-bottom:"+l.paddingBottom+"px;"),l.paddingRight&&(c+="margin-right:"+l.paddingRight+"px;"),p+=s?'<text x="'+r.width+'" y="'+(r.height-u.paddingBottom)+'" fill="#999999" text-anchor="end" font-size="12" style="cursor:pointer; z-index:150; font-size:12px;" onClick="javascript: location.href = \''+g+"';\">"+f+"</text>":'<div style="position:absolute; width:'+(r.width+2)+"px; text-align:right; color:#999999; cursor:pointer; z-index:150; top:"+(a.height-12-u.paddingBottom)+'px; font-size:12px;"><a href="'+g+'" style="color:#999999; text-decoration:none; background-color:#fdfdfd; font-size:12px;">'+f+"</a></div>",s?'<svg xmlns="'+o+'" version="1.1" width="'+r.width+'" height="'+r.height+'" shape-rendering="crispEdges"'+(c?' style="'+c+'" ':"")+">"+n+i+p+"</svg>":'<scvbarcode:group style="position:relative; width:'+r.width+"px; height:"+r.height+"px; "+c+'" coordsize="'+r.width+","+r.height+'">'+n+i+p+"</scvbarcode:group>"},barcode:function(e){for(var t,n,i=this,r=i.options,a=r.style,o=i.options.text,u=o.style,c=e[0],h=e[1]||[],p=o.enabled?u.fontSize+u.paddingTop+u.paddingBottom:0,f=i.width/c.length,g=i.height-p-(h.length>0?5:0),m=g+5,v=[],y=0;y<c.length;y++){var b=c.charAt(y);if("1"==b){for(var _=y*f,x=g,w=0;w<h.length;w++)if(h[w]==y){x=m;break}var C={x1:_,y1:0,x2:_,y2:x,w:f};1==d(t)&&(n=v.pop(),C={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2,w:n.w+f}),v.push(C)}t=b}return l(v,function(e){return s?'<line x1="'+(e.x1+e.w/2)+'" y1="'+e.y1+'" x2="'+(e.x2+e.w/2)+'" y2="'+e.y2+'" style="stroke:'+a.color+"; stroke-width:"+e.w+'" />':'<scvbarcode:line from="'+(e.x1+e.w/2)+","+e.y1+'" to="'+(e.x2+e.w/2)+","+e.y2+'" strokecolor="'+a.color+'" strokeweight="'+e.w+'px;" stroke="true" />'}).join("")},text:function(e){var t=this,n=t.options.text,i=n.style,r=n.enabled?i.fontSize+i.paddingTop+i.paddingBottom:0;return n.enabled?s?'<text x="'+t.width/2+'" y="'+(t.height-i.paddingBottom)+'" fill="'+i.color+'" text-anchor="middle" font-size="'+i.fontSize+'" font-family="'+i.fontFamily+';">'+e+"</text>":'<div style="position:absolute; width:'+t.width+"px; text-align:center; color:"+i.color+"; top:"+(t.options.height-r-i.paddingBottom)+"px; font-size:"+i.fontSize+"px; font-family:"+i.fontFamily+';">'+e+"</div>":""}}),et=[c,h,p,f,g,m,v,y,x,w,C,T,k,S,E,D,b,_],tt=0;tt<et.length;tt++)Z.addType(J.extend({type:et[tt]}));var nt=J.extend({type:"POSTNET",barcode:function(e){for(var t=this,n=t.options,i=n.style,r=t.options.text,a=r.style,o=e[0],d=r.enabled?a.fontSize+a.paddingTop+a.paddingBottom:0,u=t.width/(2*o.length-1),c=t.height-d,h=[],p=0;p<o.length;p++){var f=p*u*2,g="1"==o.charAt(p)?0:c/2;h.push({x1:f,y1:g,x2:f,y2:c,w:u})}return l(h,function(e){return s?'<line x1="'+(e.x1+e.w/2)+'" y1="'+e.y1+'" x2="'+(e.x2+e.w/2)+'" y2="'+e.y2+'" style="stroke:'+i.color+"; stroke-width:"+e.w+'" />':'<scvbarcode:line from="'+(e.x1+e.w/2)+","+e.y1+'" to="'+(e.x2+e.w/2)+","+e.y2+'" strokecolor="'+i.color+'" strokeweight="'+e.w+'px;" stroke="true" />'}).join("")}});Z.addType(nt);var it={value:null,type:null,checksum:!0,width:300,height:100,style:{background:null,borderColor:null,borderStyle:null,borderWidth:0,color:"#000000",paddingTop:5,paddingLeft:5,paddingRight:5,paddingBottom:5},text:{enabled:!1,checksum:!1,style:{color:"#000000",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif",fontSize:13,paddingTop:2,paddingBottom:0}}},rt=n.extend({init:function(){n.fn.init.apply(this,arguments);var t,i,r,a=this,o=a.options,s=o.style,l=o.type,d=o.dieOnError,c=o.value+"",h=P.byType(l),p=e(a.element),f="";return h?h.validate(c)?(t=Z.byType(l,o))?(p.css({background:s.background,borderColor:s.borderColor,borderStyle:s.borderStyle,borderWidth:s.borderWidth,width:o.width,height:o.height}),i=h.encode(c,o.checksum),r=t.barcode(i),o.text.enabled&&(f=t.text(c+(o.text.checksum?h.checksum(c):""))),void p.html(t.all(r,f))):void u("Invalid barcode type (2)",d):void u("Invalid barcode value: "+c,d):void u("Invalid barcode type: "+l,d)},destroy:function(){this.element.empty(),n.fn.destroy.call(this)}});rt.defaults=it,t.ui.plugin("Barcode",rt)}(jQuery,shield,this),!function(e,t){"use strict";var n=t.ui.Widget,i=t.Constants,r=t.Class,a=document,o=i.SVG_NS,s=!!a.createElementNS&&!!a.createElementNS(o,"svg").createSVGRect,l=e.map,d=t.to["int"],u=t.error,c=function(e){return d(e,10).toString(2)},h=function(e){return d(e,2)},p=function(e,t){for(e+="";e.length<t;)e="0"+e;return e},f=function(e,t){for(e+="";e.length<t;)e+="0";return e},g="byte",m="numeric",v="alphanumeric",y={modes:[],addMode:function(e){this.modes[e.prototype.mode]=e},byMode:function(e){return this.modes[e]?new this.modes[e]:null}},b=r.extend({mode:null,codeMode:null,validateRegex:null,_verErrLenTable:{"1L":152,"1M":128,"1Q":104,"1H":72,"2L":272,"2M":224,"2Q":176,"2H":128,"3L":440,"3M":352,"3Q":272,"3H":208,"4L":640,"4M":512,"4Q":384,"4H":288,"5L":864,"5M":688,"5Q":496,"5H":368,"6L":1088,"6M":864,"6Q":608,"6H":480,"7L":1248,"7M":992,"7Q":704,"7H":528,"8L":1552,"8M":1232,"8Q":880,"8H":688,"9L":1856,"9M":1456,"9Q":1056,"9H":800,"10L":2192,"10M":1728,"10Q":1232,"10H":976,"11L":2592,"11M":2032,"11Q":1440,"11H":1120,"12L":2960,"12M":2320,"12Q":1648,"12H":1264,"13L":3424,"13M":2672,"13Q":1952,"13H":1440,"14L":3688,"14M":2920,"14Q":2088,"14H":1576,"15L":4184,"15M":3320,"15Q":2360,"15H":1784,"16L":4712,"16M":3624,"16Q":2600,"16H":2024,"17L":5176,"17M":4056,"17Q":2936,"17H":2264,"18L":5768,"18M":4504,"18Q":3176,"18H":2504,"19L":6360,"19M":5016,"19Q":3560,"19H":2728,"20L":6888,"20M":5352,"20Q":3880,"20H":3080,"21L":7456,"21M":5712,"21Q":4096,"21H":3248,"22L":8048,"22M":6256,"22Q":4544,"22H":3536,"23L":8752,"23M":6880,"23Q":4912,"23H":3712,"24L":9392,"24M":7312,"24Q":5312,"24H":4112,"25L":10208,"25M":8e3,"25Q":5744,"25H":4304,"26L":10960,"26M":8496,"26Q":6032,"26H":4768,"27L":11744,"27M":9024,"27Q":6464,"27H":5024,"28L":12248,"28M":9544,"28Q":6968,"28H":5288,"29L":13048,"29M":10136,"29Q":7288,"29H":5608,"30L":13880,"30M":10984,"30Q":7880,"30H":5960,"31L":14744,"31M":11640,"31Q":8264,"31H":6344,"32L":15640,"32M":12328,"32Q":8920,"32H":6760,"33L":16568,"33M":13048,"33Q":9368,"33H":7208,"34L":17528,"34M":13800,"34Q":9848,"34H":7688,"35L":18448,"35M":14496,"35Q":10288,"35H":7888,"36L":19472,"36M":15312,"36Q":10832,"36H":8432,"37L":20528,"37M":15936,"37Q":11408,"37H":8768,"38L":21616,"38M":16816,"38Q":12016,"38H":9136,"39L":22496,"39M":17728,"39Q":12656,"39H":9776,"40L":23648,"40M":18672,"40Q":13328,"40H":10208},_errorCorrectionToMask:{L:"01",M:"00",Q:"11",H:"10"},_formatInformation:{"00000":"101010000010010","00001":"101000100100101","00010":"101111001111100","00011":"101101101001011","00100":"100010111111001","00101":"100000011001110","00110":"100111110010111","00111":"100101010100000","01000":"111011111000100","01001":"111001011110011","01010":"111110110101010","01011":"111100010011101","01100":"110011000101111","01101":"110001100011000","01110":"110110001000001","01111":"110100101110110",1e4:"001011010001001",10001:"001001110111110",10010:"001110011100111",10011:"001100111010000",10100:"000011101100010",10101:"000001001010101",10110:"000110100001100",10111:"000100000111011",11e3:"011010101011111",11001:"011000001101000",11010:"011111100110001",11011:"011101000000110",11100:"010010010110100",11101:"010000110000011",11110:"010111011011010",11111:"010101111101101"},validate:function(e){return this.validateRegex?new RegExp(this.validateRegex).test(e):!0},encode:function(e,t){var n,i,r,a,o=this,s=o._getVersion(e,t),l=4,d=21+4*(s-1),u=d+2*l,c=s+t,h=o._getFormatData(e,t),p=o.encodeValue(e),g=o._getDataLength(e,t),m=g-(h.length+p.length)>4?4:g-(h.length+p.length);return p=f(p,p.length+m),n=o._getBinaryValues(h+p),p=n.join(""),p=o._padEncodedToLength(p,g),n=o._getBinaryValues(p),r=o._getIntegerValues(n),p=o._getEC(c,i,r),a=o._getBinaryMatrix(p,s,d,u,t)},encodeValue:null,_getBinaryMatrix:function(e,t,n,i,r){var a,o,s,l,d,u,c,h,p=this,f=["000","001","010","011","100","101","110","111"],g=[],m=[],v=[],y=p._getPositionAdjustmentsTable();for(d=0;i>d;d++)for(m[d]=[],u=0;i>u;u++)m[d][u]=0;for(d=0;n>d;d++)v.push(new Array(n));if(p._fullFinderPattern(m,4,4),p._fillFinderPatternFilledValues(v,0,0),p._fullFinderPattern(m,4,i-11),p._fillFinderPatternFilledValues(v,0,n-8),p._fullFinderPattern(m,i-11,4),p._fillFinderPatternFilledValues(v,n-8,0),p._fillTimingPattern(m,v,n),m[i-12][12]=1,v[i-16][8]=1,t>1)for(d=0;d<y[t].length;d++)for(u=0;u<y[t].length;u++)c=y[t][d]+4,h=y[t][u]+4,10==c&&10==h||10==c&&h==i-11||c==i-11&&10==h||(m[c-2][h-2]=1,v[c-6][h-6]=1,m[c-2][h-1]=1,v[c-6][h-5]=1,m[c-2][h]=1,v[c-6][h-4]=1,m[c-2][h+1]=1,v[c-6][h-3]=1,m[c-2][h+2]=1,v[c-6][h-2]=1,m[c-1][h-2]=1,v[c-5][h-6]=1,m[c-1][h-1]=0,v[c-5][h-5]=1,m[c-1][h]=0,v[c-5][h-4]=1,m[c-1][h+1]=0,v[c-5][h-3]=1,m[c-1][h+2]=1,v[c-5][h-2]=1,m[c][h-2]=1,v[c-4][h-6]=1,m[c][h-1]=0,v[c-4][h-5]=1,m[c][h]=1,v[c-4][h-4]=1,m[c][h+1]=0,v[c-4][h-3]=1,m[c][h+2]=1,v[c-4][h-2]=1,m[c+1][h-2]=1,v[c-3][h-6]=1,m[c+1][h-1]=0,v[c-3][h-5]=1,m[c+1][h]=0,v[c-3][h-4]=1,m[c+1][h+1]=0,v[c-3][h-3]=1,m[c+1][h+2]=1,v[c-3][h-2]=1,m[c+2][h-2]=1,v[c-2][h-6]=1,m[c+2][h-1]=1,v[c-2][h-5]=1,m[c+2][h]=1,v[c-2][h-4]=1,m[c+2][h+1]=1,v[c-2][h-3]=1,m[c+2][h+2]=1,v[c-2][h-2]=1);for(t>=7&&p._fillHigherVersionData(m,v,t,n,i),l=0;8>l;l++){for(a=0,s=[],d=0;d<m.length;d++)s.push(m[d].slice(0));p._fillFormatData(m,v,n,i,f[l],r),p._fillMatrix(v,s,f[l],n,e),a+=p._calcPenalty1(s,n),a+=p._calcPenalty2(s,n),a+=p._calcPenalty3(s,n),a+=p._calcPenalty4(s,n),g.push(a)}return o=p._getSmallestPenaltyIndex(g),p._fillFormatData(m,v,n,i,f[o],r),p._fillMatrix(v,m,f[o],n,e),m},_fillHigherVersionData:function(e,t,n,i,r){var a=this,o={7:[0,0,1,0,1,0,0,1,0,0,1,1,1,1,1,0,0,0],8:[0,0,1,1,1,1,0,1,1,0,1,0,0,0,0,1,0,0],9:[1,0,0,1,1,0,0,1,0,1,0,1,1,0,0,1,0,0],10:[1,1,0,0,1,0,1,1,0,0,1,0,0,1,0,1,0,0],11:[0,1,1,0,1,1,1,1,1,1,0,1,1,1,0,1,0,0],12:[0,1,0,0,0,1,1,0,1,1,1,0,0,0,1,1,0,0],13:[1,1,1,0,0,0,1,0,0,0,0,1,1,0,1,1,0,0],14:[1,0,1,1,0,0,0,0,0,1,1,0,0,1,1,1,0,0],15:[0,0,0,1,0,1,0,0,1,0,0,1,1,1,1,1,0,0],16:[0,0,0,1,1,1,1,0,1,1,0,1,0,0,0,0,1,0],17:[1,0,1,1,1,0,1,0,0,0,1,0,1,0,0,0,1,0],18:[1,1,1,0,1,0,0,0,0,1,0,1,0,1,0,0,1,0],19:[0,1,0,0,1,1,0,0,1,0,1,0,1,1,0,0,1,0],20:[0,1,1,0,0,1,0,1,1,0,0,1,0,0,1,0,1,0],21:[1,1,0,0,0,0,0,1,0,1,1,0,1,0,1,0,1,0],22:[1,0,0,1,0,0,1,1,0,0,0,1,0,1,1,0,1,0],23:[0,0,1,1,0,1,1,1,1,1,1,0,1,1,1,0,1,0],24:[0,0,1,0,0,0,1,1,0,1,1,1,0,0,0,1,1,0],25:[1,0,0,0,0,1,1,1,1,0,0,0,1,0,0,1,1,0],26:[1,1,0,1,0,1,0,1,1,1,1,1,0,1,0,1,1,0],27:[0,1,1,1,0,0,0,1,0,0,0,0,1,1,0,1,1,0],28:[0,1,0,1,1,0,0,0,0,0,1,1,0,0,1,1,1,0],29:[1,1,1,1,1,1,0,0,1,1,0,0,1,0,1,1,1,0],30:[1,0,1,0,1,1,1,0,1,0,1,1,0,1,1,1,1,0],31:[0,0,0,0,1,0,1,0,0,1,0,0,1,1,1,1,1,0],32:[1,0,1,0,1,0,1,1,1,0,0,1,0,0,0,0,0,1],33:[0,0,0,0,1,1,1,1,0,1,1,0,1,0,0,0,0,1],34:[0,1,0,1,1,1,0,1,0,0,0,1,0,1,0,0,0,1],35:[1,1,1,1,1,0,0,1,1,1,1,0,1,1,0,0,0,1],36:[1,1,0,1,0,0,0,0,1,1,0,1,0,0,1,0,0,1],37:[0,1,1,1,0,1,0,0,0,0,1,0,1,0,1,0,0,1],38:[0,0,1,0,0,1,1,0,0,1,0,1,0,1,1,0,0,1],39:[1,0,0,0,0,0,1,0,1,0,1,0,1,1,1,0,0,1],40:[1,0,0,1,0,1,1,0,0,0,1,1,0,0,0,1,0,1]},s=o[n];
a._fillUpperVersionInformation(e,t,s,i,r),a._fillLowerVersionInformation(e,t,s,i,r)},_fillUpperVersionInformation:function(e,t,n,i,r){var a,o=r-15,s=i-11,l=0;for(a=4;10>a;a++)e[a][o]=n[l],t[a-4][s]=1,l++,e[a][o+1]=n[l],t[a-4][s+1]=1,l++,e[a][o+2]=n[l],t[a-4][s+2]=1,l++},_fillLowerVersionInformation:function(e,t,n,i,r){var a,o=r-13,s=i-9,l=0;for(a=4;10>a;a++)e[o][a]=n[l],t[s][a-4]=1,l++,e[o-1][a]=n[l],t[s-1][a-4]=1,l++,e[o-2][a]=n[l],t[s-2][a-4]=1,l++},_getSmallestPenaltyIndex:function(e){var t,n=e[0],i=0;for(t=0;t<e.length;t++)e[t]<n&&(i=t);return i},_calcPenalty1:function(e,t){var n,i,r,a,o=0;for(i=0;t>i;i++)for(a=1,r=1;t>r;r++)n=e[i+4][r+4],n===e[i+4][r+3]?(a++,5==a?o+=3:a>5&&o++):a=1;for(r=0;t>r;r++)for(a=1,i=1;t>i;i++)n=e[i+4][r+4],n===e[i+3][r+4]?(a++,5===a?o+=3:a>5&&o++):a=1;return o},_calcPenalty2:function(e,t){var n,i,r,a=0;for(i=0;t-1>i;i++)for(r=0;t-1>r;r++)n=e[i+4][r+4],n==e[i+4][r+5]&&n==e[i+5][r+4]&&n==e[i+5][r+5]&&(a+=3);return a},_calcPenalty3:function(e,t){var n,i,r=0;for(n=0;t>n;n++)for(i=0;t-7>=i;i++)e[n+4][i+4]&&!e[n+4][i+5]&&e[n+4][i+6]&&e[n+4][i+7]&&e[n+4][i+8]&&!e[n+4][i+9]&&e[n+4][i+10]&&(r+=40);for(i=0;t>i;i++)for(n=0;t-7>=n;n++)e[n+4][i+4]&&!e[n+5][i+4]&&e[n+6][i+4]&&e[n+7][i+4]&&e[n+8][i+4]&&!e[n+9][i+4]&&e[n+10][i+4]&&(r+=40);return r},_calcPenalty4:function(e,t){var n,i,r=0,a=0,o=0;for(n=0;t>n;n++)for(i=0;t>i;i++)e[n+4][i+4]?a++:o++;return r=d(2*(a/(a+o)*100-50))},_fillFormatData:function(e,t,n,i,r,a){var o=this,s=o._errorCorrectionToMask[a]+r,l=o._formatInformation[s],u=i-5,c=i-5;e[12][4]=d(l.charAt(0)),e[12][5]=d(l.charAt(1)),e[12][6]=d(l.charAt(2)),e[12][7]=d(l.charAt(3)),e[12][8]=d(l.charAt(4)),e[12][9]=d(l.charAt(5)),e[12][11]=d(l.charAt(6)),e[12][12]=d(l.charAt(7)),e[11][12]=d(l.charAt(8)),e[9][12]=d(l.charAt(9)),e[8][12]=d(l.charAt(10)),e[7][12]=d(l.charAt(11)),e[6][12]=d(l.charAt(12)),e[5][12]=d(l.charAt(13)),e[4][12]=d(l.charAt(14)),e[u][12]=d(l.charAt(0)),e[u-1][12]=d(l.charAt(1)),e[u-2][12]=d(l.charAt(2)),e[u-3][12]=d(l.charAt(3)),e[u-4][12]=d(l.charAt(4)),e[u-5][12]=d(l.charAt(5)),e[u-6][12]=d(l.charAt(6)),e[12][c-7]=d(l.charAt(7)),e[12][c-6]=d(l.charAt(8)),e[12][c-5]=d(l.charAt(9)),e[12][c-4]=d(l.charAt(10)),e[12][c-3]=d(l.charAt(11)),e[12][c-2]=d(l.charAt(12)),e[12][c-1]=d(l.charAt(13)),e[12][c]=d(l.charAt(14)),t[8][0]=1,t[8][1]=1,t[8][2]=1,t[8][3]=1,t[8][4]=1,t[8][5]=1,t[8][7]=1,t[8][8]=1,t[7][8]=1,t[5][8]=1,t[4][8]=1,t[3][8]=1,t[2][8]=1,t[1][8]=1,t[0][8]=1,t[n-1][8]=1,t[n-2][8]=1,t[n-3][8]=1,t[n-4][8]=1,t[n-5][8]=1,t[n-6][8]=1,t[n-7][8]=1,t[8][n-8]=1,t[8][n-7]=1,t[8][n-6]=1,t[8][n-5]=1,t[8][n-4]=1,t[8][n-3]=1,t[8][n-2]=1,t[8][n-1]=1},_fillMatrix:function(e,t,n,i,r){var a,o,s=this,l=0,d=!0;for(a=i-1;a>=0;a-=2)if(6==a&&a--,d){for(o=i-1;o>=0;o--)e[o][a]||(s._fillModule(o,a,l,t,n,r),l++),a-1>=0&&!e[o][a-1]&&(s._fillModule(o,a-1,l,t,n,r),l++);d=!d}else{for(o=0;i>o;o++)e[o][a]||(s._fillModule(o,a,l,t,n,r),l++),a-1>=0&&!e[o][a-1]&&(s._fillModule(o,a-1,l,t,n,r),l++);d=!d}},_fillModule:function(e,t,n,i,r,a){var o=this;n<a.length?o._fillCharacter(e,t,a.charAt(n),i,r):o._fillCharacter(e,t,"0",i,r)},_fillCharacter:function(e,t,n,i,r){var a,o;switch(r){case"000":a=(e+t)%2===0;break;case"001":a=e%2===0;break;case"010":a=t%3===0;break;case"011":a=(e+t)%3===0;break;case"100":a=(e/2+t/3)%2===0;break;case"101":a=e*t%2+e*t%3===0;break;case"110":a=(e*t%2+e*t%3)%2===0;break;case"111":a=((e+t)%2+e*t%3)%2===0;break;default:a=(e+t)%2===0}o=a?"0"==n?1:0:"0"==n?0:1,i[e+4][t+4]=o},_fillTimingPattern:function(e,t,n){for(var i=10,r=12,a=!0;n-4>r;)a&&(e[i][r]=1),t[i-4][r-4]=1,a=!a,r++;for(r=10,i=12,a=!0;n-4>i;)a&&(e[i][r]=1),t[i-4][r-4]=1,a=!a,i++},_fullFinderPattern:function(e,t,n){var i;for(i=0;7>i;i++)e[t+i][n]=1,e[t][n+i]=1,e[t+i][n+6]=1,e[t+6][n+i]=1;for(t+=2,n+=2,i=0;3>i;i++)e[t+i][n]=1,e[t+i][n+1]=1,e[t+i][n+2]=1},_fillFinderPatternFilledValues:function(e,t,n){var i,r,a,o;for(0===t&&0===n?i=r=8:0===t&&n>0?(i=8,r=n+8):(i=t+8,r=8),a=t;i>a;a++)for(o=n;r>o;o++)e[a][o]=1},_getEC:function(e,t,n){for(var i,r,a=this,o=a._getCodewordsLengthTable(),s=o[e],l=0,d=[],u=[],h=[],f=[],g=[],m=[],v=[],y=[],b=s.firstBlockCount,_=s.secondBlockCount,x=[],w=[];b>0;b--){for(x=[],i=0;i<s.firstDataCodeWords;i++)x[x.length]=n[l],l++;d[d.length]=x,g[g.length]=a._getErrorCorrectionForBlock(x,s)}for(;_>0;_--){for(w=[],r=0;r<s.secondBlockCodeWords;r++)w[w.length]=n[l],l++;u[u.length]=w,m[m.length]=a._getErrorCorrectionForBlock(w,s)}var C,T=s.firstDataCodeWords*s.firstBlockCount+s.secondBlockCodeWords*s.secondBlockCount,k=s.codewordsPerBlock*s.firstBlockCount+s.codewordsPerBlock*s.secondBlockCount,S=0,E=d.length+u.length;for(C=0;E>C;C++)0===S?d.length>0?(h[h.length]=d[0],d.splice(0,1)):(h[h.length]=u[0],S++,u.splice(0,1)):1===S&&u.length>0&&(h[h.length]=u[0],u.splice(0,1));for(S=0,E=g.length+m.length,C=0;E>C;C++)0===S?g.length>0?(f[f.length]=g[0],g.splice(0,1)):(f[f.length]=m[0],S++,m.splice(0,1)):1===S&&m.length>0&&(f[f.length]=m[0],m.splice(0,1));var D,A=h.length,P=f.length,M="";for(S=0,D=0;T>D;D++)S===A&&(S=0),h[S].length>0?(v[v.length]=h[S][0],h[S].splice(0,1),S++):(S++,D--);for(S=0,D=0;k>D;D++)S===P&&(S=0),f[S].length>0?(y[y.length]=f[S][0],f[S].splice(0,1),S++):(S++,D--);for(D=0;D<v.length;D++)M+=p(c(v[D]),8);for(D=0;D<y.length;D++)M+=p(c(y[D]),8);return M},_getErrorCorrectionForBlock:function(e,t){var n,i,r,a,o=t.codewordsPerBlock,s=[],l=[],d=0,u={7:[87,229,146,149,238,102,21],10:[251,67,46,61,118,70,64,94,32,45],13:[74,152,176,100,86,100,106,104,130,218,206,140,78],15:[8,183,61,91,202,37,51,58,58,237,140,124,5,99,105],16:[120,104,107,109,102,161,76,3,91,191,147,169,182,194,225,120],17:[43,139,206,78,43,239,123,206,214,147,24,99,150,39,243,163,136],18:[215,234,158,94,184,97,118,170,79,187,152,148,252,179,5,98,96,153],20:[17,60,79,50,61,163,26,187,202,180,221,225,83,239,156,164,212,212,188,190],22:[210,171,247,242,93,230,14,109,221,53,200,74,8,172,98,80,219,134,160,105,165,231],24:[229,121,135,48,211,117,251,126,159,180,169,152,192,226,228,218,111,0,117,232,87,96,227,21],26:[173,125,158,2,103,182,118,17,145,201,111,28,165,53,161,21,245,142,13,102,48,227,153,145,218,70],28:[168,223,200,104,224,234,108,180,110,190,195,147,205,27,232,201,21,43,245,87,42,195,212,119,242,37,9,123],30:[41,173,145,152,216,31,179,182,50,48,110,86,239,96,222,125,42,173,226,193,224,130,156,37,251,216,238,40,192,180]},c=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,1],h=[-1,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175];for(n=0;n<e.length+o;n++)l[d++]=n<e.length?e[n]:0;for(n=0;n<e.length;n++)if(r=l[0],l.splice(0,1),0!==r){for(s=u[o].slice(0),r=h[r],i=0;i<s.length;i++)a=r+s[i],a>255&&(a%=255),s[i]=a;for(i=0;i<s.length;i++)s[i]=c[s[i]];for(i=0;i<s.length;i++)l[i]=l[i]^s[i]}return l},_getIntegerValues:function(e){return l(e,function(e){return h(e)})},_getBinaryValues:function(e){var t,n=[];for(t=0;t<e.length;t+=8)n.push(t+8<=e.length?e.substr(t,8):f(e.substring(t),8));return n},_padEncodedToLength:function(e,t){if(e.length>=t)return e.substr(0,t);for(var n=e,i="11101100",r="00010001",a=!0;n.length<t;)n+=a?i:r,a=!a;return n},_getVersion:function(e,t){var n,i=e.length;for(n=1;39>n&&!(this._verErrLenTable[n+""+t]/8>=i);n++);return n+1},_getDataLength:function(e,t){var n=this;return n._verErrLenTable[n._getVersion(e,t)+""+t]},_getFormatData:function(e,t){return this.codeMode+p(c(e.length),this._getFormatLengthTotal(e,t))},_getFormatLengthTotal:function(e,t){var n=this,i=n.mode,r=n._getVersion(e,t);return r>=1&&9>=r?i==m?10:i==v?9:8:r>=10&&26>=r?i==m?12:i==v?11:i==g?16:10:i==m?14:i==v?13:i==g?16:12},_getCodewordsLengthTable:function(){var e=this;if(e._clt)return e._clt;var t,n,i=[7,1,19,0,0,10,1,16,0,0,13,1,13,0,0,17,1,9,0,0,10,1,34,0,0,16,1,28,0,0,22,1,22,0,0,28,1,16,0,0,15,1,55,0,0,26,1,44,0,0,18,2,17,0,0,22,2,13,0,0,20,1,80,0,0,18,2,32,0,0,26,2,24,0,0,16,4,9,0,0,26,1,108,0,0,24,2,43,0,0,18,2,15,2,16,22,2,11,2,12,18,2,68,0,0,16,4,27,0,0,24,4,19,0,0,28,4,15,0,0,20,2,78,0,0,18,4,31,0,0,18,2,14,4,15,26,4,13,1,14,24,2,97,0,0,22,2,38,2,39,22,4,18,2,19,26,4,14,2,15,30,2,116,0,0,22,3,36,2,37,20,4,16,4,17,24,4,12,4,13,18,2,68,2,69,26,4,43,1,44,24,6,19,2,20,28,6,15,2,16,20,4,81,0,0,30,1,50,4,51,28,4,22,4,23,24,3,12,8,13,24,2,92,2,93,22,6,36,2,37,26,4,20,6,21,28,7,14,4,15,26,4,107,0,0,22,8,37,1,38,24,8,20,4,21,22,12,11,4,12,30,3,115,1,116,24,4,40,5,41,20,11,16,5,17,24,11,12,5,13,22,5,87,1,88,24,5,41,5,42,30,5,24,7,25,24,11,12,7,13,24,5,98,1,99,28,7,45,3,46,24,15,19,2,20,30,3,15,13,16,28,1,107,5,108,28,10,46,1,47,28,1,22,15,23,28,2,14,17,15,30,5,120,1,121,26,9,43,4,44,28,17,22,1,23,28,2,14,19,15,28,3,113,4,114,26,3,44,11,45,26,17,21,4,22,26,9,13,16,14,28,3,107,5,108,26,3,41,13,42,30,15,24,5,25,28,15,15,10,16,28,4,116,4,117,26,17,42,0,0,28,17,22,6,23,30,19,16,6,17,28,2,111,7,112,28,17,46,0,0,30,7,24,16,25,24,34,13,0,0,30,4,121,5,122,28,4,47,14,48,30,11,24,14,25,30,16,15,14,16,30,6,117,4,118,28,6,45,14,46,30,11,24,16,25,30,30,16,2,17,26,8,106,4,107,28,8,47,13,48,30,7,24,22,25,30,22,15,13,16,28,10,114,2,115,28,19,46,4,47,28,28,22,6,23,30,33,16,4,17,30,8,122,4,123,28,22,45,3,46,30,8,23,26,24,30,12,15,28,16,30,3,117,10,118,28,3,45,23,46,30,4,24,31,25,30,11,15,31,16,30,7,116,7,117,28,21,45,7,46,30,1,23,37,24,30,19,15,26,16,30,5,115,10,116,28,19,47,10,48,30,15,24,25,25,30,23,15,25,16,30,13,115,3,116,28,2,46,29,47,30,42,24,1,25,30,23,15,28,16,30,17,115,0,0,28,10,46,23,47,30,10,24,35,25,30,19,15,35,16,30,17,115,1,116,28,14,46,21,47,30,29,24,19,25,30,11,15,46,16,30,13,115,6,116,28,14,46,23,47,30,44,24,7,25,30,59,16,1,17,30,12,121,7,122,28,12,47,26,48,30,39,24,14,25,30,22,15,41,16,30,6,121,14,122,28,6,47,34,48,30,46,24,10,25,30,2,15,64,16,30,17,122,4,123,28,29,46,14,47,30,49,24,10,25,30,24,15,46,16,30,4,122,18,123,28,13,46,32,47,30,48,24,14,25,30,42,15,32,16,30,20,117,4,118,28,40,47,7,48,30,43,24,22,25,30,10,15,67,16,30,19,118,6,119,28,18,47,31,48,30,34,24,34,25,30,20,15,61,16],r=["L","M","Q","H"],a=0;for(e._clt={},t=1;40>=t;t++)for(n=0;n<r.length;n++)e._clt[t+""+r[n]]={codewordsPerBlock:i[a],firstBlockCount:i[a+1],firstDataCodeWords:i[a+2],secondBlockCount:i[a+3],secondBlockCodeWords:i[a+4]},a+=5;return e._clt},_getPositionAdjustmentsTable:function(){var e=[],t=2;return e[t++]=[6,18],e[t++]=[6,22],e[t++]=[6,26],e[t++]=[6,30],e[t++]=[6,34],e[t++]=[6,22,38],e[t++]=[6,24,42],e[t++]=[6,26,46],e[t++]=[6,28,50],e[t++]=[6,30,54],e[t++]=[6,32,58],e[t++]=[6,34,62],e[t++]=[6,26,46,66],e[t++]=[6,26,48,70],e[t++]=[6,26,50,74],e[t++]=[6,30,54,78],e[t++]=[6,30,56,82],e[t++]=[6,30,58,86],e[t++]=[6,34,62,90],e[t++]=[6,28,50,72,94],e[t++]=[6,26,50,74,98],e[t++]=[6,30,54,78,102],e[t++]=[6,28,54,80,106],e[t++]=[6,32,58,84,110],e[t++]=[6,30,58,86,114],e[t++]=[6,34,62,90,118],e[t++]=[6,26,50,74,98,122],e[t++]=[6,30,54,78,102,126],e[t++]=[6,26,52,78,104,130],e[t++]=[6,30,56,82,108,134],e[t++]=[6,34,60,86,112,138],e[t++]=[6,30,58,86,114,142],e[t++]=[6,34,62,90,118,146],e[t++]=[6,30,54,78,102,126,150],e[t++]=[6,24,50,76,102,128,154],e[t++]=[6,28,54,80,106,132,158],e[t++]=[6,32,58,84,110,136,162],e[t++]=[6,26,54,82,110,138,166],e[t++]=[6,30,58,86,114,142,170],e}}),_=b.extend({mode:m,codeMode:"0001",validateRegex:"^\\d+$",encodeValue:function(e){for(var t=[];e.length>0;)e.length>2?(t.push(p(c(d(e.substr(0,3))),10)),e=e.substr(3)):2===e.length?(t.push(p(c(d(e)),7)),e=""):(t.push(p(c(d(e)),4)),e="");return 0===t.length&&t.push(p(c(0),4)),t.join("")}});y.addMode(_);var x=b.extend({mode:g,codeMode:"0100",validateRegex:"^[0-9A-Za-z'\\\r\\\n\\ \\!\\\"\\#\\$\\%\\&\\(\\)\\*\\+\\,\\-\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\\xc2\xa5\\]\\^\\_\\`\\{\\|\\}\\\xc2\xaf\\\xef\xbd\xa1\\\xef\xbd\xa2\\\xef\xbd\xa3\\\xef\xbd\xa4\\\xef\xbd\xa5\\\xef\xbd\xa6\\\xef\xbd\xa7\\\xef\xbd\xa8\\\xef\xbd\xa9\\\xef\xbd\xaa\\\xef\xbd\xab\\\xef\xbd\xac\\\xef\xbd\xad\\\xef\xbd\xae\\\xef\xbd\xaf\\\xef\xbd\xb0\\\xef\xbd\xb1\\\xef\xbd\xb2\\\xef\xbd\xb3\\\xef\xbd\xb4\\\xef\xbd\xb5\\\xef\xbd\xb6\\\xef\xbd\xb7\\\xef\xbd\xb8\\\xef\xbd\xb9\\\xef\xbd\xba\\\xef\xbd\xbb\\\xef\xbd\xbc\\\xef\xbd\xbd\\\xef\xbd\xbe\\\xef\xbd\xbf\\\xef\xbe\u20ac\\\xef\xbe\x81\\\xef\xbe\u201a\\\xef\xbe\u0192\\\xef\xbe\u201e\\\xef\xbe\u2026\\\xef\xbe\u2020\\\xef\xbe\u2021\\\xef\xbe\u02c6\\\xef\xbe\u2030\\\xef\xbe\u0160\\\xef\xbe\u2039\\\xef\xbe\u0152\\\xef\xbe\x8d\\\xef\xbe\u017d\\\xef\xbe\x8f\\\xef\xbe\x90\\\xef\xbe\u2018\\\xef\xbe\u2019\\\xef\xbe\u201c\\\xef\xbe\u201d\\\xef\xbe\u2022\\\xef\xbe\u2013\\\xef\xbe\u2014\\\xef\xbe\u02dc\\\xef\xbe\u2122\\\xef\xbe\u0161\\\xef\xbe\u203a\\\xef\xbe\u0153\\\xef\xbe\x9d\\\xef\xbe\u017e\\\xef\xbe\u0178]+$",encodingTable:{"\r":"13","\n":"10"," ":"32","!":"33",'"':"34","#":"35",$:"36","%":"37","&":"38","'":"39","(":"40",")":"41","*":"42","+":"43",",":"44","-":"45",".":"46","/":"47",0:"48",1:"49",2:"50",3:"51",4:"52",5:"53",6:"54",7:"55",8:"56",9:"57",":":"58",";":"59","<":"60","=":"61",">":"62","?":"63","@":"64",A:"65",B:"66",C:"67",D:"68",E:"69",F:"70",G:"71",H:"72",I:"73",J:"74",K:"75",L:"76",M:"77",N:"78",O:"79",P:"80",Q:"81",R:"82",S:"83",T:"84",U:"85",V:"86",W:"87",X:"88",Y:"89",Z:"90","[":"91","\xc2\xa5":"92","]":"93","^":"94",_:"95","`":"96",a:"97",b:"98",c:"99",d:"100",e:"101",f:"102",g:"103",h:"104",i:"105",j:"106",k:"107",l:"108",m:"109",n:"110",o:"111",p:"112",q:"113",r:"114",s:"115",t:"116",u:"117",v:"118",w:"119",x:"120",y:"121",z:"122","{":"123","|":"124","}":"125","\xc2\xaf":"126","\xef\xbd\xa1":"161","\xef\xbd\xa2":"162","\xef\xbd\xa3":"163","\xef\xbd\xa4":"164","\xef\xbd\xa5":"165","\xef\xbd\xa6":"166","\xef\xbd\xa7":"167","\xef\xbd\xa8":"168","\xef\xbd\xa9":"169","\xef\xbd\xaa":"170","\xef\xbd\xab":"171","\xef\xbd\xac":"172","\xef\xbd\xad":"173","\xef\xbd\xae":"174","\xef\xbd\xaf":"175","\xef\xbd\xb0":"176","\xef\xbd\xb1":"177","\xef\xbd\xb2":"178","\xef\xbd\xb3":"179","\xef\xbd\xb4":"180","\xef\xbd\xb5":"181","\xef\xbd\xb6":"182","\xef\xbd\xb7":"183","\xef\xbd\xb8":"184","\xef\xbd\xb9":"185","\xef\xbd\xba":"186","\xef\xbd\xbb":"187","\xef\xbd\xbc":"188","\xef\xbd\xbd":"189","\xef\xbd\xbe":"190","\xef\xbd\xbf":"191","\xef\xbe\u20ac":"192","\xef\xbe\x81":"193","\xef\xbe\u201a":"194","\xef\xbe\u0192":"195","\xef\xbe\u201e":"196","\xef\xbe\u2026":"197","\xef\xbe\u2020":"198","\xef\xbe\u2021":"199","\xef\xbe\u02c6":"200","\xef\xbe\u2030":"201","\xef\xbe\u0160":"202","\xef\xbe\u2039":"203","\xef\xbe\u0152":"204","\xef\xbe\x8d":"205","\xef\xbe\u017d":"206","\xef\xbe\x8f":"207","\xef\xbe\x90":"208","\xef\xbe\u2018":"209","\xef\xbe\u2019":"210","\xef\xbe\u201c":"211","\xef\xbe\u201d":"212","\xef\xbe\u2022":"213","\xef\xbe\u2013":"214","\xef\xbe\u2014":"215","\xef\xbe\u02dc":"216","\xef\xbe\u2122":"217","\xef\xbe\u0161":"218","\xef\xbe\u203a":"219","\xef\xbe\u0153":"220","\xef\xbe\x9d":"221","\xef\xbe\u017e":"222","\xef\xbe\u0178":"223"},encodeValue:function(e){var t,n=this,i=[];for(t=0;t<e.length;t++)i.push(p(c(d(n.encodingTable[e.charAt(t)])),8));return i.join("")}});y.addMode(x);var w=b.extend({mode:v,codeMode:"0010",validateRegex:"^[0-9A-Z \\$\\%\\*\\+\\-\\.\\/\\:]+$",encodingTable:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",A:"10",B:"11",C:"12",D:"13",E:"14",F:"15",G:"16",H:"17",I:"18",J:"19",K:"20",L:"21",M:"22",N:"23",O:"24",P:"25",Q:"26",R:"27",S:"28",T:"29",U:"30",V:"31",W:"32",X:"33",Y:"34",Z:"35"," ":"36",$:"37","%":"38","*":"39","+":"40","-":"41",".":"42","/":"43",":":"44"},encodeValue:function(e){var t,n,i,r,a,o=this,s=e.length%2!==0,l=[],u=[],h=[],f=0;for(n=0;n<e.length;n++)t=e.charAt(n),l[n]=o.encodingTable[t];for(n=0;n<l.length;n+=2)i=l[n],n+1<=l.length-1?(r=l[n+1],u[f]=d(45*i)+d(r)):u[f]=i,f++;for(n=0;n<u.length;n++)a=c(u[n]),s&&n===u.length-1?(a=p(a,6),h[n]=a):(a=p(a,11),h[n]=a);return h.join("")}});y.addMode(w);var C=r.extend({init:function(e){var t=this,n=e.style;t.options=e,t.size=e.size-2*n.padding,s||a.namespaces.sqrv||(a.namespaces.add("sqrv","urn:schemas-microsoft-com:vml","#default#VML"),a.createStyleSheet().cssText="sqrv\\:fill, sqrv\\:path, sqrv\\:shape, sqrv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},all:function(n){var i,r,a=this,u=a.size,c=a.options,h=c.style,p=u/n.length,f="",g=[],m=function(t){return e("<div/>").html(t).text()},v="",y=u>200?12:10,b=m(u>100?"&#68;&#101;&#109;&#111;&#32;&#86;&#101;&#114;&#115;&#105;&#111;&#110;":"&#68;&#101;&#109;&#111;"),_=m("&#104;&#116;&#116;&#112;&#58;&#47;&#47;&#119;&#119;&#119;&#46;&#115;&#104;&#105;&#101;&#108;&#100;&#117;&#105;&#46;&#99;&#111;&#109;");for(t.guid(),h.padding&&(f+="margin:"+h.padding+"px;"),i=0;i<n.length;i++)for(r=0;r<n[i].length;r++)n[i][r]&&g.push({x:r*p,y:i*p});if(v+=s?'<text x="'+u+'" y="'+u+'" fill="#999999" text-anchor="end" font-size="'+y+'" style="cursor:pointer; z-index:0;" onClick="javascript: location.href = \''+_+"'; margin:0; padding:0;\">"+b+"</text>":'<div style="position:absolute; display:block; width:'+u+"px; text-align:right; color:#999999; cursor:pointer; z-index:0; top:"+(u-y-2)+"px; left:0px; font-size:"+y+'px;"><a href="'+_+'" style="color:#999999; text-decoration:none;">'+b+"</a></div>",s)return'<svg xmlns="'+o+'" version="1.1" width="'+u+'" height="'+u+'" shape-rendering="crispEdges"'+(f?' style="'+f+'" ':"")+">"+v+'<path d="'+l(g,function(e){return"M"+e.x+" "+e.y+" L"+(e.x+p)+" "+e.y+" L"+(e.x+p)+" "+(e.y+p)+" L"+e.x+" "+(e.y+p)+" z"}).join(" ")+'" fill="'+h.color+'" stroke="'+h.color+'" stroke-width="0" /></svg>';var x=1e4/u,w=d(p*x),C=l(g,function(e){var t=d(e.x*x),n=d(e.y*x);return"m"+t+","+n+" l"+(t+w)+","+n+","+(t+w)+","+(n+w)+","+t+","+(n+w)}).join(" ")+" e";return'<sqrv:shape style="z-index:200; position:absolute; width:'+u+"px; height:"+u+"px; display:block; "+f+'" coordsize="10000,10000" path="'+C+'" filled="t" fillcolor="'+h.color+'" stroked="f" strokecolor="'+h.color+'" strokeweight="0">'+v+"</sqrv:shape>"}}),T={value:"",mode:"byte",errorLevel:"L",size:300,style:{background:null,borderColor:null,borderStyle:null,borderWidth:0,color:"#000000",padding:5}},k=n.extend({init:function(){n.fn.init.apply(this,arguments);var t,i=this,r=i.options,a=r.style,o=r.value,s=(r.mode+"").toLowerCase(),l=r.errorLevel,d=r.dieOnError,c=y.byMode(s),h=new C(r);return e(i.element).css({background:a.background,borderColor:a.borderColor,borderStyle:a.borderStyle,borderWidth:a.borderWidth,width:r.size,height:r.size}),c?c.validate(o)?"L"!=l&&"M"!=l&&"Q"!=l&&"H"!=l?void u("Invalid errorLevel: "+l,d):(t=c.encode(o,l),void e(i.element).html(h.all(t))):void u("Invalid qrcode value: "+o,d):void u("Invalid qrcode mode: "+s,d)},destroy:function(){this.element.empty(),n.fn.destroy.call(this)}});k.defaults=T,t.ui.plugin("QRcode",k)}(jQuery,shield,this),!function(e,t,n,i){"use strict";var r,a,o,s,l,d,u=t.ui.Widget,c=(t.Class,t.DataSource),h=t.ui.Position,p=document,f=Math.abs,g=Math.min,m=Math.max,v=e.proxy,y=e.each,b=e.map,_=t.to,x=t.format,w=t.error,C=t.is,T=C.defined,k=C.string,S=C.object,E=C.func,D=C["null"],A=(C.number,"mouseenter"),P="mouseleave",M="click",I="focus",B="blur",L="change",N="title",H="center",O="middle",F="left",R="right",W="up",z="down",Y="top",V="bottom",j="horizontal",G="vertical",q="collapse",X="expand",U="resize",$="tabindex",Q="disabled",K="suiaccitemindex",Z="suiaccitemdata",J="suiaccitemloaded",et={top:V,bottom:Y,left:R,right:F,center:H},tt="sui-tooltip-title",nt="sui-tooltip-sto",it="sui-tooltip-hto",rt="sui-tooltip-target-hover";r={cls:i,enabled:!0,visible:i,width:i,height:i,delay:100,filter:i,content:function(t){return e(t).data(tt)},position:Y,trigger:A,autoHide:!0,callout:!0,events:{}},a=u.extend({init:function(){u.fn.init.apply(this,arguments);var t,n,i,r,a,o=this,s=o.options,l=s.content,d=s.position,c=s.cls,h=s.filter,f=s.trigger,g=s.autoHide,m=s.visible,y=s.width,b=s.height,_=s.callout,x=e(o.element);return!S(l)||l.remote&&l.remote.url?(o._eventNS=".shieldTooltip"+o.getInstanceId(),o._currentTarget=null,o._tooltip=t=e("<div/>").appendTo(p.body),t.addClass("sui-tooltip"+(c?" "+c:"")),a={position:"absolute"},T(y)&&(a.width=y),T(b)&&(a.height=b),t.css(a),o._content=e('<div class="sui-tooltip-content"></div>').appendTo(t),g||t.addClass("sui-tooltip-with-button").append('<div class="sui-tooltip-button">&times;</div>').click(v(o._hide,o,!0)),S(d)?o._pos=d:(i=et[d]?et[d]:V,r=et[d]?d:Y,_&&d!=H&&(r+=r==F||r==Y?"-5":"+5"),o._pos={source:i,target:r,overflow:"flipfit"}),_&&(o._pos.callback=v(o._posSet,o)),o._targets=n=h?x.find(h):x,o._showEvent=f,o._hideEvent=null,g&&(f==A||f==M?o._hideEvent=P:f==I&&(o._hideEvent=B)),n.each(function(){var t=e(this);t.on(A+o._eventNS,v(o._targetMouseEnter,o,t)).on(P+o._eventNS,v(o._targetMouseLeave,o,t)).on(o._showEvent+o._eventNS,v(o._onShow,o,t,!0)),o._hideEvent&&t.on(o._hideEvent+o._eventNS,v(o._onHide,o,t,!0))}),o._destroyed=!1,o.enabled(!!s.enabled),void(T(m)&&o.visible(m))):void w("shieldTooltip: Invalid content options",s.dieOnError)},_targetMouseEnter:function(e){e.addClass(rt),e.attr(N)&&e.data(tt,e.attr(N)).removeAttr(N)},_targetMouseLeave:function(e){e.removeClass(rt),e.data(tt)&&e.attr(N,e.data(tt))},_onShow:function(t,n){var i=this;if(i._enabled){var r=(i._tooltip,setTimeout(v(i._show,i,t,n),i.options.delay));t.one(P,function(){var t=e(this),n=t.data(nt);n&&clearTimeout(n)}).data(nt,r)}},_onHide:function(t,n){var i=this,r=i._tooltip,a=setTimeout(v(i._hide,i,n),50);r.one(A,function(){var t=e(this),n=t.data(it);n&&(clearTimeout(n),t.data(it,null))}).one(P,function(){setTimeout(function(){t.hasClass(rt)||i._hide(i,n)},50)}).data(it,a)},_show:function(e,t){var n,i,r,a=this,o=a.options,s=o.content,l=o.height,d=a._tooltip,u=a._content;a._destroyed||a._currentTarget!=e&&(t&&(r=a.trigger("show",{target:e}),r.isDefaultPrevented())||(k(s)?n=s:S(s)?s.remote.iframe?n='<iframe class="sui-tooltip-iframe" src="'+s.remote.url+'" style="border:none; border-width:0px; width:100%; height:'+(l?l+"px":"100%")+';"></iframe>':(i=!0,n=" "):E(s)&&(n=s(e)),n&&(d.show(),a._currentTarget=e,i?u.load(s.remote.url):u.html(n),a._visible=!0,h.Set(d,e,a._pos))))},_hide:function(t){var n,i=this;i._currentTarget&&(t&&(n=i.trigger("hide"),n.isDefaultPrevented())||(e(i._tooltip).hide().find(".sui-tooltip-callout-container").remove(),i._currentTarget=null,i._visible=!1))},_posSet:function(i){var r,a,o,s,l,d,u,c,p=this,g=p.options,m=p._tooltip,v=i.horizontal,y=i.vertical,b=(i.important,i.element),_=i.target,x=b.width,w=b.height,C=6;if(g.callout){if(v==H&&y==O)return;if(v==H||y==O)a=v==H?y:v,s=et[a],o={source:s,target:a+(s==V||s==R?"+1":"-1")};else if(l=t.ui.Util.GetWithinInfo(n),v==F&&b.left-l.scrollLeft>3&&(a=F,o={source:R,target:F+"+1"}),v==R&&l.scrollLeft+l.width-b.left-b.width>3&&(a=R,o={source:F,target:R+"-1"}),a&&(d=b.top+w/2,u=_.top+_.height-(_.top+_.height-l.scrollTop)/2,c=d-u,f(c)>w/2-C&&(c=c>0?w/2-C:C-w/2),0!==c&&(o.target+=" "+H+(c>0?"-"+c:"+"+c))),a||(y==Y&&b.top-l.scrollTop>3&&(a=Y,o={source:V,target:Y+"+1"}),y==V&&l.scrollTop+l.height-b.top-b.height>3&&(a=V,o={source:Y,target:V+"-1"}),a&&(d=b.left+x/2,u=_.left+_.width-(_.left+_.width-l.scrollLeft)/2,c=d-u,f(c)>x/2-C&&(c=c>0?x/2-C:C-x/2),0!==c&&(o.target=H+(c>0?"-"+c:"+"+c)+" "+o.target))),!a)return;r=e('<div class="sui-tooltip-callout-container"><div class="sui-tooltip-callout sui-tooltip-callout-'+a+'"></div>').appendTo(m),h.Set(r,m,o)}},visible:function(){var e,t=this,n=[].slice.call(arguments);return t._destroyed?void 0:n.length>0?(e=!!n[0],e?t._show(n[1]):t._hide(),void(t._visible=e)):t._visible},enabled:function(){var e,t=this,n=[].slice.call(arguments);return n.length>0?(e=!!n[0],e||t.visible(!1),void(t._enabled=e)):t._enabled},destroy:function(){var t=this,n=t._targets;t._destroyed=!0,n&&(n.each(function(){var n=e(this);n.off(t._eventNS)}),t._targets=null),e(t._tooltip).remove(),u.fn.destroy.call(t)}}),a.defaults=r,t.ui.plugin("Tooltip",a),o={cls:i,barSize:5,orientation:j,panes:i,events:{}},s=u.extend({init:function(){u.fn.init.apply(this,arguments);var t,r=this,a=r.options,o=a.cls,s=(a.orientation==j,e(r.element));s.addClass("sui-splitter-container"+(o?" "+o:"")),"absolute"!==s.css("position")&&"relative"!==s.css("position")&&s.css({position:"relative"}),s.css("width")===i&&s.css({width:"100%"}),r._height=s.css("height")?s.css("height"):s.parent().innerHeight(),s.css({height:r._height}),r._children=t=s.children(),r._offset=0,r._barSize=a.barSize,r._bars=[],r._dragBars=[],r._navigators=[],t.each(function(n){var i=e(this);r._addPane(t,i,n)}),e(n).on(U+".shieldSplitter"+r.getInstanceId(),v(r._adjust,r)),r._adjust(),r._adjustDraggables(),r._manageCollapsedPanes()},_adjust:function(){var t=this,n=t.element,i=t._children.last(),r=t.options.orientation==j,a=(r?n.innerWidth():n.innerHeight())-t._offset+"px";n.find(".sui-splitter-pane-vertical, .sui-splitter-dragbar-vertical, .sui-splitter-bar-vertical").each(function(){e(this).outerWidth(e(this).parent().innerWidth())}),n.find(".sui-splitter-pane-horizontal, .sui-splitter-dragbar-horizontal, .sui-splitter-bar-horizontal").each(function(){e(this).outerHeight(e(this).parent().innerHeight())}),r?i.outerWidth(a):i.outerHeight(a)},_adjustHeights:function(t,n){var i=this,r=i.options.orientation==j;r?(t.find(".sui-splitter-collapsible-vertical-up, .sui-splitter-collapsible-vertical-down").each(function(){var t=e(this);t.css({top:t.prev().innerWidth()/2})}),n.find(".sui-splitter-collapsible-vertical-up, .sui-splitter-collapsible-vertical-down").each(function(){var t=e(this);t.css({top:t.prev().innerWidth()/2})})):(t.find(".sui-splitter-pane-horizontal, .sui-splitter-dragbar, .sui-splitter-bar").each(function(){e(this).outerHeight(e(this).parent().innerHeight())}),n.find(".sui-splitter-pane-horizontal, .sui-splitter-dragbar, .sui-splitter-bar").each(function(){e(this).outerHeight(e(this).parent().innerHeight())}),t.find(".sui-splitter-collapsible-horizontal-left, .sui-splitter-collapsible-horizontal-right").each(function(){var t=e(this);t.css({top:t.prev().innerHeight()/2})}),n.find(".sui-splitter-collapsible-horizontal-left, .sui-splitter-collapsible-horizontal-right").each(function(){var t=e(this);t.css({top:t.prev().innerHeight()/2})}))},_adjustDraggables:function(){var t,n,r,a,o,s,l,d,u,c,h,p,f,v=this,y=v.options.orientation==j;for(n=0;n<v._dragBars.length;n++)v._dragBars[n]&&(r=v._dragBars[n],a=e(v._children[n]),o=e(v._children[n+1]),s=r.initialOptions,l=y?a.position().left:a.position().top,c=v._getPaneMin(n),c!==i&&(l+=c),h=v._getPaneMax(n+1),h!==i&&(t=y?o.position().left:o.position().top,u=y?o.innerWidth():o.innerHeight(),l=m(l,t-(h-u))),d=y?o.position().left+o.innerWidth():o.position().top+o.innerHeight(),p=v._getPaneMax(n),p!==i&&(t=y?a.position().left:a.position().top,d=g(d,t+p)),f=v._getPaneMin(n+1),f!==i&&(t=y?o.position().left:o.position().top,d=g(d,t+f)),s.min=l,s.max=d,r.refresh(s))},_createCollapseNavigator:function(t,n){var r,a,o,s,l,d=this,u=e(d.element),c=d.options,h=c.orientation,p=c.panes,f=h==j;s=p&&n<p.length&&p[n].collapsible,l=p&&n<p.length-1&&p[n+1].collapsible,(s||l)&&(r=f?s?F:R:s?W:z,a=e('<div class="sui-splitter-collapsible sui-splitter-collapsible-'+h+"-"+r+'"></div>'),a.insertAfter(t),o={left:f?t.position().left+1:t.position().left+u.innerWidth()/2,top:f?t.position().top+t.innerHeight()/2:t.position().top+1},a.css(o),a.on(M,function(){var r=e(d._children[n]),a=e(d._children[n+1]),o=d._dragBars[n]?e(d._dragBars[n].element):i,s=d._navigators[n],l=s.navigator,u=s.direction,c=s.collapsed,p=s.delta;switch(o&&c&&o.show(),u){case F:c?r.show():(p=0===n?r.outerWidth():r.innerWidth(),r.hide()),a.css({left:a.position().left+(c?p:-p)}),t.css({left:t.position().left+(c?p:-p)}),o&&o.css({left:o.position().left+(c?p:-p)}),l.css({left:l.position().left+(c?p:-p)}),a.outerWidth(a.outerWidth()+(c?-p:p)),l.removeClass("sui-splitter-collapsible-"+h+"-"+(c?R:F)),l.addClass("sui-splitter-collapsible-"+h+"-"+(c?F:R)),s.collapsed=!c,s.delta=s.collapsed?p:0;break;case R:c?a.show():(p=a.innerWidth(),a.hide()),t.css({left:t.position().left+(c?-p:p)}),o&&o.css({left:o.position().left+(c?-p:p)}),l.css({left:l.position().left+(c?-p:p)}),r.outerWidth(r.outerWidth()+(c?-p:p)),l.removeClass("sui-splitter-collapsible-"+h+"-"+(c?F:R)),l.addClass("sui-splitter-collapsible-"+h+"-"+(c?R:F)),s.collapsed=!c,s.delta=s.collapsed?p:0;break;case W:c?r.show():(p=0===n?r.outerHeight():r.innerHeight(),r.hide()),a.css({top:a.position().top+(c?p:-p)}),t.css({top:t.position().top+(c?p:-p)}),o&&o.css({top:o.position().top+(c?p:-p)}),l.css({top:l.position().top+(c?p:-p)}),a.outerHeight(a.outerHeight()+(c?-p:p)),l.removeClass("sui-splitter-collapsible-"+h+"-"+(c?z:W)),l.addClass("sui-splitter-collapsible-"+h+"-"+(c?W:z)),s.collapsed=!c,s.delta=s.collapsed?p:0;break;case z:c?a.show():(p=a.innerHeight(),a.hide()),t.css({top:t.position().top+(c?-p:p)}),o&&o.css({top:o.position().top+(c?-p:p)}),l.css({top:l.position().top+(c?-p:p)}),r.outerHeight(r.outerHeight()+(c?-p:p)),l.removeClass("sui-splitter-collapsible-"+h+"-"+(c?W:z)),l.addClass("sui-splitter-collapsible-"+h+"-"+(c?z:W)),s.collapsed=!c,s.delta=s.collapsed?p:0}o&&s.collapsed&&o.hide(),s.collapsed?d.trigger(q,{paneIndex:n}):d.trigger(X,{paneIndex:n}),d._adjustHeights(r,a)}),d._navigators[n]={navigator:a,delta:0,direction:r,collapsed:!1,index:s?n:n+1})},_manageCollapsedPanes:function(){var e,t,n,i,r=this,a=r.options.panes;if(r._navigators)for(i=0;i<r._navigators.length;i++)e=r._navigators[i],t=e.index,n=e.navigator,a&&t<a.length&&a[t].collapsed&&n.trigger(M)},_getPaneSize:function(t){var n,i,r=this,a=r.options,o=r.options.panes,s=a.orientation==j,l=e(r.element);return o&&t<o.length&&(o[t].size||o[t].min)&&(i=o[t].size||o[t].min),i?r._getSize(i,"Invalid pane size")+"px":(n=s?l.innerWidth():l.innerHeight(),(n-(r._children.length-1)*r._barSize)/r._children.length)},_getPaneMin:function(e){var t,n=this,r=n.options.panes;return r&&e<r.length&&r[e].min&&(t=r[e].min),t?n._getSize(t,"Invalid min pane size!"):i},_getPaneMax:function(e){var t,n=this,r=n.options.panes;return r&&e<r.length&&r[e].max&&(t=r[e].max),t?n._getSize(t,"Invalid max pane size!"):i},_getSize:function(t,n){var i,r,a=this,o=a.options,s=o.orientation==j,l=e(a.element);if(i=s?l.innerWidth():l.innerHeight(),k(t)&&"%"==t.charAt(t.length-1)){if(r=parseInt(t.substring(0,t.length-1),10),r>=100)throw n;t=(i-(a._children.length-1)*a._barSize)*r/100}else t=parseInt(t,10);return t},_addPane:function(n,r,a){var o,s,l,d,u,c,h,p,f,g=this,m=g.options,v=m.orientation,y=v==j,b=m.panes,_=b&&a<b.length&&b[a].resizable===!1,x=b&&a<b.length&&b[a].scrollable===!0;if(e(g.element),r.addClass("sui-splitter-pane sui-splitter-pane-"+v),x&&r.css({overflow:"auto"}),o=g._getPaneSize(a),s=g._getPaneMin(a),s!==i&&s>o)throw"Size less that min pane size!";if(l=g._getPaneMax(a),l!==i&&o>l)throw"Size bigger that max pane size!";d={left:(y?g._offset:0)+"px",top:(y?0:g._offset)+"px"},y?(d.width=o,d.height=g._height):d.height=o,r.css(d),a!=n.length-1&&(g._offset+=y?r.outerWidth():r.outerHeight(),u=e("<div>&nbsp;</div>").addClass("sui-unselectable sui-splitter-bar sui-splitter-bar-"+v),c={left:v==j?g._offset:0,top:v==G?g._offset:0},y?(c.width=g._barSize,c.height=g._height):c.height=g._barSize,u.css(c),u.insertAfter(r),_||(h=e("<div>&nbsp;</div>").addClass("sui-unselectable sui-splitter-dragbar sui-splitter-dragbar-"+v),h.css(c),h.insertAfter(u),p={direction:y?j:G,events:{start:function(){var t=r,i=e(n[a+1]);t.addClass("sui-unselectable"),i.addClass("sui-unselectable")
},stop:function(t){var o,s=r,l=e(n[a+1]),d=g._bars[a],u=g._navigators[a],c=u?u.navigator:i;s.removeClass("sui-unselectable"),l.removeClass("sui-unselectable"),v==j?(o=t.left-d.position().left,s.width(s.width()+o),l.css({left:t.left+d.outerWidth()}),l.width(l.width()-o),c&&c.css({left:c.position().left+o})):(o=t.top-d.position().top,s.height(s.height()+o),l.css({top:t.top+d.outerHeight()}),l.height(l.height()-o),c&&c.css({top:c.position().top+o})),d.css({left:t.left,top:t.top}),g._adjustHeights(s,l),g._adjustDraggables(),g.trigger(U,{paneIndex:a})}}},f=new t.ui.Draggable(h,p),g._dragBars[a]=f),g._bars.push(u),g._createCollapseNavigator(u,a),g._offset+=g._barSize)},destroy:function(){var t,i=this,r=i.element;for(r.removeClass("sui-splitter-container"),e(n).off(U+".shieldSplitter"+i.getInstanceId()),t=0;t<i._children.length;t++){var a=i._navigators[t];if(a){var o=a.navigator;o.off(M)}}i._children=i._bars=i._dragBars=i._navigators=null,i._offset=i._height=i._barSize=0,u.fn.destroy.call(i)}}),s.defaults=o,t.ui.plugin("Splitter",s),l={cls:i,enabled:!0,animation:{enabled:!0,duration:200},mode:"single",expanded:i,dataSource:i,titleTemplate:"{title}",contentTemplate:"{content}",width:i,height:i,maxHeight:i,events:{}},d=u.extend({init:function(){u.fn.init.apply(this,arguments);var t,n,i,r,a=this,o=a.options,s=o.cls,l=o.dieOnError,d=o.dataSource,h=(o.expanded,e(a.element));if(a._original=t=e(a.element),a._tagname=i=t.prop("tagName").toLowerCase(),t.wrap("<span/>"),t.hide(),a.element=h=e('<ul class="sui-accordion'+(s?" "+s:"")+'"/>').on(I,function(){a.trigger(I)}).on(B,function(){a.trigger(B)}),t.after(h),n=t.attr($),h.attr($,T(n)?n:"0"),T(o.width)&&h.css("width",o.width),T(o.height)&&h.css("height",o.height),T(o.maxHeight)&&h.css("max-height",o.maxHeight),d)a.dataSource=c.create(d);else{if("ul"!==i)return a.destroy(),void w("shieldAccordion: No dataSource or underlying UL element found.",l);r=function(t){var n=[];return e(t).children("li").each(function(){var t={title:e(this).children("h1, h2, h3, h4, h5, h6").first().html(),content:e(this).children("div, p").html()};e(this).children("ul").length>0&&(t.items=r(e(this).children("ul")[0])),n.push(t)}),n},a.dataSource=c.create({data:t,schema:{parse:r}})}a.dataSource.on(L+".shieldAccordion"+a.getInstanceId(),v(a._dsChange,a)),a.dataSource.read()},refresh:function(e){this.refreshWithElement(this._original,e)},_dsChange:function(){var e=this,t=e.options;e._render(),e._dsLoadedOnce||(e._dsLoadedOnce=!0,T(t.expanded)?e.expanded(t.expanded):e.dataSource.view&&e.dataSource.view.length>0&&e.expanded(0),e.enabled(t.enabled))},_render:function(){var t=this,n=t.options,i=t.dataSource.view,r=e(t.element),a=i.length;r.empty(),i&&y(i,function(i,o){var s,l,d,u,c=e('<li class="sui-accordion-item '+(i+1>=a?"sui-accordion-item-last ":"")+'sui-accordion-item-collapsed"></li>').data(K,i).data(Z,o).appendTo(r);l=e('<div class="sui-accordion-item-title"></div>').click(function(){t._enabled&&t._itemClick(e(c))}).appendTo(c),s=x.call(t,n.titleTemplate,o,i,l),T(s)&&!D(s)&&l.html(s),d=e('<div class="sui-accordion-item-body"></div>').appendTo(c).hide(),u=e('<div class="sui-accordion-item-body-content"></div>').appendTo(d),C.array(o.items)&&o.items.length>0&&e("<div></div>").appendTo(d).shieldAccordion({cls:"sui-accordion-item-body-items "+(n.cls?" "+n.cls:""),enabled:n.enabled,animation:n.animation,mode:n.mode,dataSource:{data:o.items},titleTemplate:n.titleTemplate,contentTemplate:n.contentTemplate,events:n.events})})},_itemClick:function(e){var t=this,n=t.options,i=e.hasClass("sui-accordion-item-collapsed");"single"==n.mode?i&&(t._collapse(e.siblings(".sui-accordion-item").not(".sui-accordion-item-collapsed").first(),!1,!0),t._expand(e,!1,!1)):i?t._expand(e,!1,!1):t._collapse(e,!1,!1)},_expand:function(t,n,i){var r,a,o,s=this,l=s.options,d=l.animation.enabled&&!n,u=l.animation.duration,c=e(t).children(".sui-accordion-item-body").first(),h=t.data(K),p=t.data(Z);(i||(o=s.trigger("expand",{item:p,index:h,element:t}),!o.isDefaultPrevented()))&&(1!==t.data(J)&&(t.data(J,1),a=t.children(".sui-accordion-item-body").first().children(".sui-accordion-item-body-content").first(),r=x.call(s,l.contentTemplate,p,h,a),T(r)&&!D(r)&&a.html(r)),t.removeClass("sui-accordion-item-collapsed").addClass("sui-accordion-item-expanded"),d?c.slideDown(u):c.show())},_collapse:function(t,n,i){var r,a=this,o=a.options,s=o.animation.enabled&&!n,l=o.animation.duration,d=e(t).children(".sui-accordion-item-body").first(),u=t.data(K),c=t.data(Z);(i||(r=a.trigger("collapse",{item:c,index:u,element:t}),!r.isDefaultPrevented()))&&(t.removeClass("sui-accordion-item-expanded").addClass("sui-accordion-item-collapsed"),s?d.slideUp(l):d.hide())},expanded:function(){var t,n,i,r,a=this,o=e(a.element),s=(a._original,[].slice.call(arguments));return s.length>0?(t=_.array(s[0]),n=T(s[1])?!!s[1]:!0,i=T(s[2])?!!s[2]:!0,r=o.children(),void b(t,function(t){t>=0&&(n?a._expand(e(r[t]),i,!0):a._collapse(e(r[t]),i,!0))})):b(o.children(".sui-accordion-item").not(".sui-accordion-item-collapsed"),function(e){return e.data(K)})},enabled:function(){var t,n=this,i=e(n.element),r=n._original,a=[].slice.call(arguments);return a.length>0?(t=!!a[0],t?(i.removeAttr(Q).removeClass("sui-accordion-disabled"),r.removeAttr(Q)):(i.attr(Q,Q).addClass("sui-accordion-disabled"),r.attr(Q,Q)),void(n._enabled=t)):n._enabled},destroy:function(){var t=this;t.dataSource&&t.dataSource.off(L+".shieldAccordion"+t.getInstanceId()),e(t.element).remove(),t._original.unwrap().show(),t._original=null,u.fn.destroy.call(t)}}),d.defaults=l,t.ui.plugin("Accordion",d)}(jQuery,shield,this),!function(e,t,n){"use strict";var i,r,a=t.ui.Widget,o=document,s=Math.ceil,l=navigator.userAgent,d=n.opera,u=/msie/i.test(l)&&!d,c=u&&7===o.documentMode;e.extend,i={show:!1,showImage:!0,text:null,template:null,useSmallImage:!1},r=a.extend({init:function(){var e=this;a.fn.init.apply(e,arguments),e.refresh(),e.options.show?e.show():e.hide()},destroy:function(){var t=this;e(t.mainElement).remove(),t.options.showImage&&(e(t.loadingImage).remove(),t.loadingImage=null),t.loadingText&&(e(t.loadingText).remove(),t.loadingText=null),e(t.backgroundElement).remove(),t.mainElement=t.backgroundElement=null,a.fn.destroy.call(t)},_render:function(){var t,n=this,i=n.options,r=i.template;if(n.mainElement=t=e("<div/>").appendTo(o.body),t.addClass("sui-loading-panel"),c&&t.addClass("sui-loading-panel-ie7"),r){r=e(r.replace(/^\s+/,"").replace(/\s+$/,"")),r.appendTo(o.body);var a=s((n.element.height()-r.height())/2),l=s((n.element.width()-r.width())/2);r.css({"z-index":"inherit",position:"relative",dispaly:"block",top:a+"px",left:l+"px"}).appendTo(t),n.template=r}else{if(i.showImage){var d=e("<span/>").appendTo(t);n.loadingImage=d,d.addClass(i.useSmallImage?"sui-loading-image-small":"sui-loading-image")}i.text&&n._generateTextElement()}var u=e("<span/>").appendTo(t);n.backgroundElement=u,u.addClass("sui-loading-back"),n._setPosition()},_generateTextElement:function(){var t=this,n=e("<span/>").appendTo(t.mainElement);n.get(0).innerHTML=t.options.text,n.addClass("sui-loading-text"),t.loadingText=n},refresh:function(){var e=this,t=(e.options,e.mainElement&&"none"!=e.mainElement.css("display")?!1:!0);e.destroy(),e._render(),t?e.hide():e.show()},_setPosition:function(){var e=this,n=(e.options,e.element),i=n.offset(),r=t.ui.Util.GetMaxZIndex("div")+1;e.mainElement.css({left:s(i.left)+"px",top:s(i.top)+"px","z-index":r}),c&&(e.loadingText&&e.loadingText.css({"z-index":r+1}),e.loadingImage&&e.loadingImage.css({"z-index":r+1}),e.template&&e.template.css("z-index",r+1))},_setElementsPosition:function(){var e=this,t=e.element.height(),n=e.loadingImage,i=e.loadingText,r=n?n.height():0,a=i?i.height():0,o=s((t-r-a)/2);n&&e.loadingImage.css("top",o+"px"),i&&e.loadingText.css("top",o+"px")},show:function(){var e=this,t=e.options,n=e.element;e.mainElement.width(n.get(0).offsetWidth),e.mainElement.height(n.get(0).offsetHeight),e._setPosition(),e.mainElement.css("display",""),t.template||e._setElementsPosition()},hide:function(){this.mainElement.css("display","none")},setText:function(e){this.options.text=e,this.refresh()}}),r.defaults=i,t.ui.plugin("LoadingPanel",r)}(jQuery,shield,this),!function(e,t){"use strict";var n=t.ui.Widget,i=(t.Class,t.Constants),r=document,a=i.SVG_NS,o=!!r.createElementNS&&!!r.createElementNS(a,"svg").createSVGRect,s=(e.map,e.each,e.proxy,t.to["int"]),l=(t.is.func,t.error,Math.min),d=Math.max,u="disabled",c="px",h="float",p="left",f="right",g="horizontal",m="vertical",v="circular",y=function(e,t,n,i){var r=(i-90)*Math.PI/180;return{x:e+n*Math.cos(r),y:t+n*Math.sin(r)}},b=function(e,t,n,i,r){var a=y(e,t,n,r),o=y(e,t,n,i),s=180>=r-i?"0":"1";return["M",a.x,a.y,"A",n,n,0,s,0,o.x,o.y].join(" ")},_={enabled:!0,min:0,max:100,value:0,layout:g,layoutOptions:{circular:{width:30,color:"#197BB5",colorDisabled:"#C4C4C4",borderColor:"#C4C4C4",borderWidth:1,backgroundColor:"#FFFFFF"}},reversed:!1,text:{enabled:!1,template:"{0}"},events:{}},x=n.extend({init:function(){n.fn.init.apply(this,arguments);var t,i=this,a=e(i.element),s=i.options,l=s.layout;a.addClass("sui-progressbar"),l===m?a.addClass("sui-progressbar-vertical"):l===v&&a.addClass("sui-progressbar-circular"),l!==v&&(i.inner=e("<div/>").addClass("sui-progressbar-value").appendTo(a)),l===g?(t=i.inner.css(h)||p,t=s.reversed?t===p?f:p:t===f?f:p,i.inner.css(h,t)):l==v&&(o||r.namespaces.scvprogressbar||r.namespaces.add("scvprogressbar","urn:schemas-microsoft-com:vml","#default#VML")),i._value=s.value,i._render(),i.enabled(s.enabled)},_render:function(){var n,i,r,l=this,d=l.options,u=d.layout,h=d.reversed,p=d.min,f=d.max,y=l._value,_=d.text,x=e(l.element),w=x.width(),C=x.height(),T=l.inner,k=f-p,S=s(100*(y-p)/k);if(u===m)n=s(S*C/100),T.css({width:"100%",height:n+c,"margin-top":(h?"0":C-n)+c});else if(u===g)T.css({width:S+"%",height:C+c});else{if(u!==v)return;var E="",D=d.layoutOptions[u],A=D.width,P=D.borderWidth,M=l._enabled?D.color:D.colorDisabled,I=D.borderColor,B=D.backgroundColor,L=w/2,N=C/2,H=(w>C?N:L)-A/2-1,O=2*H,F=s(360*(y-p)/k),R=h?360-F:0,W=R+F,z=A-2*P;o?(E='<svg xmlns="'+a+'" version="1.1" width="'+w+'" height="'+C+'">',P>0&&(E+='<circle cx="'+L+'" cy="'+N+'" r="'+H+'" stroke="'+I+'" stroke-width="'+A+'" fill="none" />'),y>=f?E+='<circle cx="'+L+'" cy="'+N+'" r="'+H+'" stroke="'+M+'" stroke-width="'+z+'" fill="none" />':(E+='<circle cx="'+L+'" cy="'+N+'" r="'+H+'" stroke="'+B+'" stroke-width="'+z+'" fill="none" />',E+='<path d="'+b(L,N,H,R,W)+'" stroke="'+M+'" stroke-width="'+z+'" fill="none" />'),E+="</svg>"):(E+='<scvprogressbar:group style="width:'+w+"px; height:"+C+'px;" coordsize="'+w+","+C+'">',P>0&&(E+='<scvprogressbar:oval style="width:'+O+"px; height:"+O+"px; position:relative; top:"+N+"px; left:"+L+'px;" strokeweight="'+A+'px" strokecolor="'+I+'" fill="false"><scvprogressbar:fill opacity="0%" color="transparent" /></scvprogressbar:oval>'),y>=f?E+='<scvprogressbar:oval style="width:'+O+"px; height:"+O+"px; position:relative; top:"+N+"px; left:"+L+'px;" strokeweight="'+z+'px" strokecolor="'+M+'" fill="false"><scvprogressbar:fill opacity="0%" color="transparent" /></scvprogressbar:oval>':(E+='<scvprogressbar:oval style="width:'+O+"px; height:"+O+"px; position:relative; top:"+N+"px; left:"+L+'px;" strokeweight="'+z+'px" strokecolor="'+B+'" fill="false"><scvprogressbar:fill opacity="0%" color="transparent" /></scvprogressbar:oval>',E+='<scvprogressbar:arc style="width:'+O+"px; height:"+O+"px; position:relative; top:"+N+"px; left:"+L+'px;" fill="false" strokeweight="'+z+'px" strokecolor="'+M+'" startangle="'+R+'" endangle="'+W+'"><scvprogressbar:fill opacity="0%" color="transparent" /></scvprogressbar:arc>'),E+="</scvprogressbar:group>"),x.html(E)}_.enabled&&(x.find(".sui-progressbar-text").remove(),l.text=e('<div class="sui-progressbar-text" />').appendTo(x).html(t.format.call(l,_.template,l._value)),i=l.text.width(),r=l.text.height(),l.text.css({top:(C-r)/2+c,left:(w-i)/2+c}))},value:function(){var e,t=this,n=t.options,i=[].slice.call(arguments);if(!(i.length>0))return t._value;if(t._enabled){e=d(l(i[0],n.max),n.min);var r=t.trigger("change",{value:e});r.isDefaultPrevented()||(t._value=e,t._render(),e>=n.max&&t.trigger("complete"))}},enabled:function(){var t,n=this,i=e(n.element),r=[].slice.call(arguments);return r.length>0?(t=!!r[0],t?i.removeAttr(u).removeClass("sui-progressbar-disabled"):i.attr(u,u).addClass("sui-progressbar-disabled"),n._enabled=t,void(n.options.layout==v&&n._render())):n._enabled},destroy:function(){var t=this;e(t.element).removeClass("sui-progressbar sui-progressbar-disabled sui-progressbar-vertical sui-progressbar-circular").empty(),n.fn.destroy.call(t)}});x.defaults=_,t.ui.plugin("ProgressBar",x)}(jQuery,shield,this),!function(e,t,n){"use strict";var i,r,a=t.ui.Widget,o=(e.extend,t.is),s=o.undefined,l="change";i={min:0,max:5,step:1,symbolWidth:16,symbolHeight:16,enabled:!0,markPreset:!1,value:0,events:{}},r=a.extend({init:function(e,t){var n=this;a.fn.init.apply(n,arguments),n._enabled=n.options.enabled,n._renderRating(e,t,!1)},_setSelection:function(e){var t=this;return t._enabled?(t._value=e,t._markPreset&&(t._markPreset=!1),t._range.find(".sui-rating-hover").hide(),t._range.find(".sui-rating-selected").width(e*t._symbolWidth-t._min*t._symbolWidth).show(),t.trigger(l),!0):void 0},_calcRawScore:function(t,n){var i=this,r=n.changedTouches?n.changedTouches[0].pageX:n.pageX,a=r-e(t).offset().left;return i._ltr||(a=i._range.width()-a),a>i._range.width()&&(a=i._range.width()),0>a&&(a=0),Math.ceil(a/i._symbolWidth*(1/i._step))},_setHover:function(e){var t,n,i=this;i._enabled&&(t=e*i._symbolWidth*i._step,n=i._range.find(".sui-rating-hover"),n.width()!=t&&(i._range.find(".sui-rating-selected").hide(),n.width(t).show()))},_touchHandler:function(e){var t=e.originalEvent.changedTouches,i=t[0],r="";switch(e.type){case"touchmove":r="mousemove";break;case"touchend":r="mouseup";break;default:return}var a=document.createEvent("MouseEvent");a.initMouseEvent(r,!0,!0,n,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(a),e.preventDefault()},_renderRating:function(e,t,n){var r=this,a=1;if(r._item=r.element,r._item.hasClass("sui-rating")||r._item.addClass("sui-rating"),r._ltr=!r.element.parent().hasClass("sui-rtl"),n){var o=null;s(r._value)?(o=isNaN(t.value)?i.value:t.value,r._value=o):o=r._value,r._enabled&&(r._wired=!1)}if(!r._initialized){r._min=isNaN(t.min)?i.min:t.min,r._max=isNaN(t.max)?i.max:t.max,r._step=isNaN(t.step)?i.step:t.step,r._symbolWidth=isNaN(t.symbolWidth)?i.symbolWidth:t.symbolWidth,r._symbolHeight=isNaN(t.symbolHeight)?i.symbolHeight:t.symbolHeight,r._value=isNaN(t.value)?i.value:t.value,r._markPreset=isNaN(t.markPreset)?i.markPreset:t.markPreset,e="DIV"==r._item[0].nodeName?"div":"span",a++;var l='<{{element}} id="shieldRating-range-{{index}}" class="sui-rating-range" tabindex="0"><{{element}} class="sui-rating-selected" style="height:'+r._symbolHeight+'px"></{{element}}><{{element}} class="sui-rating-hover" style="height:'+r._symbolHeight+'px"></{{element}}></{{element}}>',d=l.replace(/{{index}}/gi,a).replace(/{{element}}/gi,e);this.element.append(d),r._initialized=!0}r._item.find(".sui-rating-selected, .sui-rating-hover").height(r._symbolHeight),r._range=r._item.find(".sui-rating-range"),r._range.width(r._symbolWidth*(r._max-r._min)).height(r._symbolHeight);var u="sui-rating-preset"+(r._ltr?"":"-rtl");if(r._markPreset?r._item.find(".sui-rating-selected").addClass(u):r._item.find(".sui-rating-selected").removeClass(u),null!=r._value){var c=(r._value-r._min)*r._symbolWidth;r._item.find(".sui-rating-selected").width(c)}r._wired||(r._enabled&&(n||(r._range.on("touchmove touchend",r._touchHandler),r._range.mousemove(function(e){var t=r._calcRawScore(this,e);r._setHover(t)}),r._range.mouseleave(function(){r._range.find(".sui-rating-hover").hide().width(0),r._item.trigger("hover",[null]).trigger("over",[null]),r._range.find(".sui-rating-selected").show()}),r._range.mouseup(function(e){var t=r._calcRawScore(this,e),n=t*r._step+r._min;r._setSelection(n),r._range.blur()}),r._range.keyup(function(e){(38==e.which||e.which==(r._ltr?39:37))&&r._setSelection(Math.min(r._value+r._step,r._max)),(40==e.which||e.which==(r._ltr?37:39))&&r._setSelection(Math.max(r._value-r._step,r._min))}))),r._wired=!0)},value:function(){var e=this,t=e.options,n=[].slice.call(arguments);if(!(n.length>0))return s(e._value)?s(t.value)?e._value:t.value:e._value;var i=n[0];i<e._min||i>e._max||(e.options.value=i,e._value=i,e._renderRating(e,t,!0))},enabled:function(){var e=this,t=e.options,n=e.element,i=[].slice.call(arguments);return i.length>0?(e._enabled=i[0],e._renderRating(e,t,!0),void(e._enabled?n.removeClass("sui-rating-disabled"):n.addClass("sui-rating-disabled"))):e._enabled},destroy:function(){var t=this;e(t.element).removeClass("sui-rating-hover sui-rating-selected sui-rating-disabled sui-rating-preset-rtl sui-rating-preset sui-rating").empty(),t._range.off("touchmove touchend",t._touchHandler),t._markPreset=t._enabled=t._min=t._max=t._value=t._ltr=t._item=t._symbolWidth=t._symbolHeight=t._step=t._wired=t._initialized=t._range=null,a.fn.destroy.call(t)}}),r.defaults=i,t.ui.plugin("Rating",r)}(jQuery,shield,this),!function(e,t,n){"use strict";var i=t.ui.Widget,r=(t.Class,t.DataSource),a=document,o=t.is,s=(t.get,t.format),l=t.to["int"],d=(Math.abs,e.each,e.proxy),u=(e.extend,e.map,n.opera),c=navigator.userAgent,h=/msie/i.test(c)&&!u,p=h&&7===a.documentMode,f="width",g="sui-selected",m="sui-disabled",v="click",y="px",b={currentPage:1,totalItems:null,pageSize:10,pageLinksCount:5,directionLinks:!0,boundaryLinks:!0,imageLinks:!1,messages:{infoBarTemplate:"{0} - {1} of {2} items",previousText:"&lsaquo;",nextText:"&rsaquo;",firstText:"&laquo;",lastText:"&raquo;",firstTooltip:"Go to the first page",previousTooltip:"Go to the previous page",nextTooltip:"Go to the next page",lastTooltip:"Go to the last page"}},_=i.extend({init:function(){i.fn.init.apply(this,arguments);var e,t=this,n=t.options;t.currentPage=n.currentPage,t._createWrappers(),t._createPagerElements(),h&&t.element.on("selectstart",t._selectStart=function(){return!1}),t.element.on(v,"a",t._click=d(t._clickHandler,t)),n.dataSource?(e=t.dataSource=r.create(n.dataSource),e.on("change.shieldPager"+t.getInstanceId(),d(t._dataChange,t)),t._updateDataSource()):t.refresh(!0)},destroy:function(){var e=this;e.dataSource&&e.dataSource.off("change.shieldPager"+e.getInstanceId()),e.pagination=null,e.infoBox=null,e.element.off("selectstart",e._selectStart),e._selectStart=null,e.element.off(v,"a",e._click),e._click=null,e.startLinkIndex=null,e.endLinkIndex=null,e.element.remove(),i.fn.destroy.call(e)},_clickHandler:function(t){var n=e(t.currentTarget),i=this;if(i.options,t.preventDefault(),!n.parent().hasClass(m)){var r=l(n.attr("data-page"));i.currentPage=r,i.refresh()}},_createWrappers:function(){var t=this,n=t.element;n.addClass("sui-pager sui-pager-core");var i=e("<ul />").appendTo(n);i.addClass(p?"sui-pagination sui-pagination-ie7":"sui-pagination");var r=e("<div />").appendTo(n);r.addClass(h&&!p?"sui-pager-info-box-ie":"sui-pager-info-box"),t.pagination=i,t.infoBox=r},_updateInfoBox:function(){var e=this,t=e.options,n=t.messages,i=t.pageSize*(e.currentPage-1)+1,r=i-1+t.pageSize,a=Math.ceil(t.totalItems/t.pageSize);r>t.totalItems&&(r=t.totalItems),0===t.totalItems&&(i=0);var o=s(n.infoBarTemplate,i,r,t.totalItems,e.currentPage,a);e.infoBox.empty(),e.infoBox.html(o)},_createPagerElements:function(){var t=this,n=t.options,i=n.messages,r=t.currentPage,a=t.pagination,o=Math.ceil(n.totalItems/n.pageSize),s=Math.min(n.pageLinksCount,o),d="",u="",c="",h="",v="",b=l((r-1)/n.pageLinksCount),_=b*n.pageLinksCount+1;1==r&&(c=" "+m),r!=o&&n.totalItems||(h=" "+m),n.imageLinks&&(i.previousText="&nbsp;",i.nextText="&nbsp;",i.firstText="&nbsp;",i.lastText="&nbsp;",u="sui-navigation-links ");var x=Math.min(_+s,o+1);t.startLinkIndex=_,t.endLinkIndex=x-1,b>0&&(d+="<li class='sui-pager-element'><a data-page='"+(t.startLinkIndex-1)+"'>...</a></li>");for(var w=_;x>w;w++)w==r&&(v=" "+g),d+="<li class='sui-pager-element'><a data-page='"+w+"' class='sui-pager-number"+v+"'>"+w+"</a></li>",v="";t.endLinkIndex<o&&(d+="<li class='sui-pager-element'><a data-page='"+(t.endLinkIndex+1)+"'>...</a></li>"),n.directionLinks&&(d="<li class='sui-pager-element"+c+"'><a title='"+i.previousTooltip+"' data-page='"+(r-1)+"' class='"+u+"sui-prev'>"+i.previousText+"</a></li>"+d,d=d+"<li class='sui-pager-element"+h+"'><a title='"+i.nextTooltip+"' data-page='"+(r+1)+"' class='"+u+"sui-next'>"+i.nextText+"</a></li>"),n.boundaryLinks&&(d="<li class='sui-pager-element"+c+"'><a title='"+i.firstTooltip+"' data-page='1' class='"+u+"'>"+i.firstText+"</a></li>"+d,d=d+"<li class='sui-pager-element"+h+"'><a title='"+i.lastTooltip+"' data-page='"+o+"' class='"+u+"'>"+i.lastText+"</a></li>"),a.html(d);var C=a.find("a");if(C.length>0&&(e(C[0]).addClass("sui-first"),e(C[C.length-1]).addClass("sui-last")),p){var T=a.find("li");if(T.length>0){var k=0;for(w=0;w<T.length;w++){var S=T[w].clientWidth;k+=S,e(T[w]).css(f,S+y)}a.css(f,k+y)}}},_dataChange:function(){var e=this,t=e.options,n=e.dataSource,i=n.take,r=Math.ceil(n.skip/i)+1;e.currentPage=r,t.pageSize=i,t.totalItems=n.total,e.refresh(!0)},refresh:function(e){var t=this,n=t.options;Math.ceil(n.totalItems/n.pageSize),t.currentPage,t.dataSource,t.pagination.empty(),t._createPagerElements(),t._updateInfoBox(),e||(t._updateDataSource(),t.trigger("change",{currentPage:t.currentPage,pageSize:n.pageSize}))},_updateDataSource:function(){var e=this,t=e.dataSource,n=e.options;t&&(t.skip=(e.currentPage-1)*n.pageSize,t.take=n.pageSize,t.read())},page:function(e){var t=this;if(!e)return t.currentPage;var n=l(e);t._isValidPage(n)&&(t.currentPage=n,t.refresh())},first:function(){this.currentPage=1,this.refresh()},last:function(){var e=this,t=e.options,n=Math.ceil(t.totalItems/t.pageSize);e.currentPage=n,e.refresh()},next:function(){var e=this,t=e.options,n=Math.ceil(t.totalItems/t.pageSize);e.currentPage!=n&&(e.currentPage=e.currentPage+1,e.refresh())},prev:function(){var e=this;e.options,1!=e.currentPage&&(e.currentPage=e.currentPage-1,e.refresh())},pageSize:function(e){var t=this,n=t.options;if(!e)return n.pageSize;var i=l(e);t._isValidPageSize(i)&&(t.currentPage=1,n.pageSize=i,t.refresh())},_isValidPage:function(e){var n=this.options,i=Math.ceil(n.totalItems/n.pageSize);return o.integer(e)?e>i||1>e?(t.error("Invalid page number. The page number must be greater than 0 and less than "+i+".",n.dieOnError),!1):!0:(t.error("Invalid page number. The page number must integer.",n.dieOnError),!1)},_isValidPageSize:function(e){var n=this.options;return o.integer(e)?1>e?(t.error("Invalid page number. The page number must be greater than 0 (zero).",n.dieOnError),!1):!0:(t.error("Invalid page size number. The page size number must be integer.",n.dieOnError),!1)}});_.defaults=b,t.ui.plugin("Pager",_),t.ui.Pager=_}(jQuery,shield,this),!function(e,t,n,i){"use strict";var r,a,o,s,l,d,u,c,h,p,f,g,m,v,y,b,_,x,w,C,T,k,S=t.ui.Widget,E=(t.Class,t.DataSource),D=t.Constants.KeyCode,A=t.error,P=t.is.func,M=t.is.array,I=t.is.defined,B=(t.is.number,t.to.array),L=t.to["int"],N=t.to.number,H=t.support.browser,O=t.format,F=document,R=Math.min,W=Math.max,z=Math.pow,Y=e.extend,V=(e.map,e.each),j=e.proxy,G=e.inArray,q="alt",X="title",U="disabled",$="checked",Q="selected",K="tabindex",Z="mousedown",J="mouseup",et="mouseout",tt="click",nt="keydown",it="keypress",rt="keyup",at="cut",ot="paste",st="dragstart",lt="dragenter",dt="dragover",ut="drop",ct="change",ht="focus",pt="blur",ft="resize",gt="select",mt="input",vt="value",yt="placeholder",bt="selectstart",_t="unselectable",xt="on",wt="width",Ct="height",Tt="suilbitemdata",kt="suilbitemindex",St="suilbitemvalue",Et="suilbitemtext",Dt="uts",At="uti",Pt="uto",Mt=function(t){var n=e(t).prop("tagName").toLowerCase();return n==gt?Dt:n==mt?At:Pt},It=function(t){var n,i=e(t);i.focus(),i.get(0).setSelectionRange?(n=2*i.val().length,i.get(0).setSelectionRange(n,n)):i.val(i.val())},Bt=function(e){e+="";var t=e.lastIndexOf(".");return t>-1?e.length-t-1:0},Lt=function(e,t){if(e&&!P(e))if(M(e))for(var n=0;n<e.length;n++)Lt(e[n],t);else if(e.or||e.and)for(var i in e)e.hasOwnProperty(i)&&Lt(e[i],t);else e.value=t};r={enabled:!0,cls:i,dataSource:i,readDataSource:!0,valueTemplate:i,textTemplate:i,multiple:i,selected:i,values:i,width:i,height:i,maxHeight:i,events:{}},a=S.extend({init:function(){S.fn.init.apply(this,arguments);var t,n,i,r,a=this,o=a.options,s=o.dieOnError,l=o.dataSource,d=o.selected,u=o.values,c=o.renderToINTERNAL,h=o.wrapOriginalINTERNAL,p=o.tabindexINTERNAL,f=o.filterINTERNAL,g=I(f)?{filter:f}:{},m=I(h)?h:!0;if(a._original=t=e(a.element),a._utype=r=Mt(t),r==At&&o.multiple)return a.destroy(),void A("shieldListBox: Cannot initialize a multi-selection ListBox from an input element.",s);if(a._eventNS=".shieldListBox"+a.getInstanceId(),I(u)||I(d)||r!=Dt&&r!=At||(u=t.val()),m?(a.wrapper=t.wrap("<span/>").parent(),a._isWrapped=!0):a._isWrapped=!1,t.hide(),a.element=i=e("<ul/>").on(ht+a._eventNS,j(a._focus,a)).on(pt+a._eventNS,j(a._blur,a)),I(o.width)&&i.css(wt,o.width),I(o.height)&&i.css(Ct,o.height),I(o.maxHeight)&&i.css("max-height",o.maxHeight),e(c).length>0?e(c).append(i):t.after(i),l)a.dataSource=E.create(l,g),o.valueTemplate||(o.valueTemplate="{0}"),o.textTemplate||(o.textTemplate="{0}");else{if(r!=Dt)return a.destroy(),void A("shieldListBox: No dataSource or underlying SELECT element found.",s);a.dataSource=E.create(Y({},{data:t,schema:{type:gt}},g)),o.valueTemplate||(o.valueTemplate="{value}"),o.textTemplate||(o.textTemplate="{text}"),I(o.multiple)||(o.multiple=t.not("[multiple]").length<=0)}i.addClass("sui-listbox"),o.cls&&i.addClass(o.cls),n=I(p)?p:t.attr(K),i.attr(K,I(n)?n:"0"),i.on(nt+a._eventNS,j(a._keydown,a)),a.dataSource.on(ct+a._eventNS,j(a._dsChange,a)),I(u)?a._initValues=u:I(d)&&(a._initSelected=d),o.readDataSource&&a.dataSource.read(),a.enabled(o.enabled)},refresh:function(e){this.refreshWithElement(this._original,e)},_focus:function(){var e=this;e._oldSelection=e.selected(),e.trigger(ht)},_blur:function(){var t=this,n=t._oldSelection,i=t.selected();(0!==e(n).not(i).length||0!==e(i).not(n).length)&&t.trigger(ct),t._oldSelection=i,t.trigger(pt)},_dsChange:function(){var e=this;e._render(),e._dsLoadedOnce||(e._dsLoadedOnce=!0,I(e._initValues)?e.values(e._initValues):I(e._initSelected)&&e.selected(e._initSelected))},_keydown:function(e){var t=this,n=!0;switch(e.keyCode){case D.UP:t._move("up",e);break;case D.DOWN:t._move("down",e);break;case D.SPACE:t._toggleActive(e);break;case D.ENTER:t._toggleActive(e);break;default:n=!1}n&&e.preventDefault()},_render:function(){var t=this,n=t.options,r=t.dataSource.view,a=e(t.element),o=t._utype,s=t._original;o==At?t._original.val():i,a.empty(),o==Dt?s.empty():o==At&&s.removeAttr(vt),r&&V(r,function(i,r){var l=O.call(t,n.valueTemplate,r),d=O.call(t,n.textTemplate,r),u=e("<li>"+d+"</li>").addClass("sui-listbox-item sui-unselectable").click(function(n){t._enabled&&(t._setActive(e(this)),t._toggleActive(n)),t.trigger("itemclick",{index:i,item:r})}).on(bt,function(){return!1}).data(Tt,r).data(kt,i).data(St,l).data(Et,d);a.append(u),o==Dt&&s.append(e("<option/>").attr(vt,l).text(d))})},_move:function(t){var n=this,i=e(n.element),r=i.find(".sui-listbox-item-active").first(),a=i.find(":first");n._enabled&&("up"==t?r.prev().length>0&&(a=r.prev()):"down"==t&&(r.next().length>0?a=r.next():r.length>0&&(a=r)),a.length<=0||(n.options.multiple?(n._setActive(a),n._ensureInScrollableArea(a)):n._select(a)))},_ensureInScrollableArea:function(t){var n=this,i=e(n.element),r=i.height(),a=i.scrollTop(),o=t.outerHeight(),s=t.position().top,l=s+o;0>s?i.scrollTop(a+s):l>r&&i.scrollTop(a+(l-r))},ensureActiveViewableINTERNAL:function(){var e=this,t=e._getActive();t.length>0&&e._ensureInScrollableArea(t)},_getActive:function(){return e(this.element).find(".sui-listbox-item-active").first()},_setActive:function(e){e.addClass("sui-listbox-item-active").siblings().removeClass("sui-listbox-item-active")},_setSelected:function(e){e.addClass("sui-listbox-item-selected")},_unsetSelected:function(e){e.removeClass("sui-listbox-item-selected")},_toggleActive:function(e){this._toggle(e,this._getActive())},_toggle:function(e,t){var n=this;n._enabled&&(!t||t.length<=0||(n.options.multiple&&t.hasClass("sui-listbox-item-selected")?n._deselect(t):n._select(t)))},_select:function(e,t){var n=this,i=n._original,r=n._utype;n.options.multiple||n.clearSelection(),n._setActive(e),n._ensureInScrollableArea(e),n._setSelected(e),r==Dt?i.find("option:eq("+e.data(kt)+")").attr(Q,Q):r==At&&i.attr(vt,e.data(St)),t||n.trigger(gt,{index:e.data(kt),item:e.data(Tt),value:e.data(St),text:e.data(Et),selected:!0})},_deselect:function(e,t){var n=this,i=n._original,r=n._utype;n._setActive(e),n._unsetSelected(e),r==Dt?i.find("option:eq("+e.data(kt)+")").removeAttr(Q):r==At&&i.removeAttr(vt),t||n.trigger(gt,{index:e.data(kt),item:e.data(Tt),value:e.data(St),text:e.data(Et),selected:!1})},enabled:function(){var t,n=this,i=e(n.element),r=n._original,a=[].slice.call(arguments);return a.length>0?(t=!!a[0],t?(i.removeAttr(U).removeClass("sui-listbox-disabled"),r.removeAttr(U)):(i.attr(U,U).addClass("sui-listbox-disabled"),r.attr(U,U)),void(n._enabled=t)):n._enabled},selected:function(){var t,n,i=this,r=e(i.element),a=[].slice.call(arguments);if(!(a.length>0)){var o=[];return r.find(".sui-listbox-item-selected").each(function(){o.push(e(this).data(kt))}),o}t=B(a[0]),n=I(a[1])?!!a[1]:!0,r.find(".sui-listbox-item").each(function(r){G(r,t)>-1&&(n?i._select(e(this),!0):i._deselect(e(this),!0))})},selectedItems:function(){var t=[];return e(this.element).find(".sui-listbox-item-selected").each(function(){t.push(e(this).data(Tt))}),t},values:function(){var t,n=this,i=e(n.element),r=[].slice.call(arguments);if(!(r.length>0)){var a=[];return i.find(".sui-listbox-item-selected").each(function(){a.push(e(this).data(St))}),a}t=B(r[0]),i.find(".sui-listbox-item").each(function(){return G(e(this).data(St),t)>-1?(n._select(e(this),!0),n.options.multiple?!0:!1):void 0})},texts:function(){var t=[];return e(this.element).find(".sui-listbox-item-selected").each(function(){t.push(e(this).data(Et))}),t},clearSelection:function(){var t=this,n=t._original,i=t._utype;i==Dt?n.find("option").removeAttr(Q):i==At&&n.removeAttr(vt),e(t.element).find(".sui-listbox-item-selected").removeClass("sui-listbox-item-selected sui-listbox-item-active")},destroy:function(){var t=this,n=t._eventNS;t._dsLoadedOnce=!1,e(t.element).off(n).remove(),t.dataSource&&t.dataSource.off(ct+n),t._isWrapped&&t._original.unwrap(),t._original.show(),S.fn.destroy.call(t)}}),a.defaults=r,t.ui.plugin("ListBox",a),l={enabled:!0,cls:i,autoComplete:i,value:i,events:{}},d=S.extend({init:function(){S.fn.init.apply(this,arguments);var t=this,n=t.options,i=n.autoComplete,r=n.cls,a=n.value,o=e(t.element);t._eventNS=".shieldTextBox"+t.getInstanceId(),o.addClass("sui-input"),i&&(t.autoComplete=new s(o,i)),r&&o.addClass(r),o.on(ht+t._eventNS,j(t._focus,t)).on(pt+t._eventNS,j(t._blur,t)),t.enabled(n.enabled),I(a)&&t.value(a)},focus:function(){e(this.element).focus(),It(e(this.element))},_focus:function(){var e=this;e.oldValue=e._value(),e.interval=setInterval(j(e._detectChanges,e),1),e.trigger(ht)},_blur:function(){clearInterval(this.interval),this.trigger(pt)},_detectChanges:function(){var e,t=this;t._enabled&&t.oldValue!==t._value()&&(e=t.trigger(ct,{value:t._value(),old:t.oldValue}),e.isDefaultPrevented()?t._value(t.oldValue):t.oldValue=t._value())},_value:function(){return this.element.val.apply(this.element,arguments)},value:function(){return this._value.apply(this,arguments)},enabled:function(){var t,n=this,i=e(n.element),r=[].slice.call(arguments);return r.length>0?(t=!!r[0],t?i.removeAttr(U).removeClass("sui-input-disabled"):i.attr(U,U).addClass("sui-input-disabled"),void(n._enabled=t)):n._enabled},destroy:function(){var e=this,t=e.autoComplete,n=e.options.cls;clearInterval(e.interval),e.element.off(e._eventNS).removeClass("sui-input"+(n?" "+n:"")),t&&t.destroy(),S.fn.destroy.call(e)}}),d.defaults=l,t.ui.plugin("TextBox",d),o={dataSource:i,valueTemplate:"{0}",textTemplate:"{0}",open:!1,delay:200,minLength:2,dropDownWidth:i,animation:{enabled:!0,openDelay:200,closeDelay:100},events:{}},s=S.extend({init:function(){S.fn.init.apply(this,arguments);var t=this,i=e(t.element),r=t.options,o=r.dataSource,s=r.dieOnError;return t.pending=0,t.oldValue=i.val(),o?(o.filter||(o.filter={and:[{path:"",filter:"contains",value:""}]}),t._eventNS=".shieldAutoComplete"+t.getInstanceId(),i.addClass("sui-input"),t.listElement=e("<span/>").appendTo(F.body),t.listBox=new a(t.listElement,{cls:"sui-autocomplete",dataSource:o,readDataSource:!1,textTemplate:r.textTemplate,multiple:!1,width:r.dropDownWidth||i.innerWidth(),events:{select:function(e){t._value(O.call(t,r.valueTemplate,e.item))
},itemclick:function(e){i.focus(),t._inputBlur(e,0)},blur:function(e){t._inputBlur(e,0)}}}),t.listBox.element.hide(),t.dataSource=t.listBox.dataSource,i.on(nt+t._eventNS,j(t._inputKeydown,t)).on(pt+t._eventNS,j(t._inputBlur,t,100)),t.listBox.dataSource.on(ct+t._eventNS,j(t._dsChange,t)),e(n).on(ft+t._eventNS,j(t._position,t)),t._open=!1,void(r.open&&t._searchTimeout())):(t.destroy(),void A("shieldAutoComplete: No dataSource set",s))},_checkValueUpdated:function(){var e=this,t=e.element,n=t.val();e.oldValue!==n&&(e.trigger(ct,{value:e._value()}),e.oldValue=n)},_restoreOldValue:function(){this._value(this.oldValue)},_inputKeydown:function(e){var t=this;switch(e.keyCode){case D.TAB:break;case D.UP:case D.DOWN:t._inputUpDown(e);break;case D.ENTER:e.preventDefault(),t.cancelSearch=!0,t._hideItemList(),t._checkValueUpdated();break;case D.ESC:e.preventDefault(),t.cancelSearch=!0,t._hideItemList(),t._restoreOldValue();break;default:t._searchTimeout(e)}},_inputUpDown:function(t){var n=this;n._open?n._hasData()&&e(n.listBox.element).trigger(t):n._hasData()&&n._showItemList()},_inputBlur:function(t,n){var i=this;setTimeout(function(){e(i.listBox.element).is(":focus")||(i._hideItemList(),i._checkValueUpdated())},n)},_searchTimeout:function(){var e=this;clearTimeout(e.searchTimeout),e.searchTimeout=setTimeout(function(){e.term!==e._value()&&e._search()},e.options.delay)},_search:function(){var t=this;return t.term=t._value(),t.term.length<t.options.minLength?void t._hideItemList():(t.cancelSearch=!1,t.pending++,e(t.element).addClass("sui-autocomplete-loading"),Lt(t.listBox.dataSource.filter,t.term),void t.listBox.dataSource.read())},_dsChange:function(){var t=this;t.pending--,t.pending||e(t.element).removeClass("sui-autocomplete-loading"),!t.cancelSearch&&t._hasData()?t._showItemList():t._hideItemList()},_hasData:function(){var e=this.listBox.dataSource.view;return e&&e.length>0},_position:function(){var t=this,n=e(t.element),i=e(t.listBox.element),r=n.offset(),a=n.outerHeight();i.css({top:r.top+a,left:r.left,width:t.options.dropDownWidth||n.innerWidth()})},_showItemList:function(){var t=this,n=t.listBox,i=e(n.element),r=t.options.animation;t._position(),r&&r.enabled?i.slideDown(r.openDelay,j(n.ensureActiveViewableINTERNAL,n)):(i.show(),n.ensureActiveViewableINTERNAL()),t._open=!0},_hideItemList:function(){var t=this,n=e(t.listBox.element),i=t.options.animation;i&&i.enabled?n.slideUp(i.closeDelay):n.hide(),t._open=!1},_value:function(){return this.element.val.apply(this.element,arguments)},hide:function(){e(this.listBox.element).hide()},show:function(){e(this.listBox.element).show()},isVisible:function(){return e(this.listBox.element).is(":visible")},destroy:function(){var t=this;t.dataSource=null,t.listBox&&(t.listBox.dataSource.off(ct+t._eventNS),t.listBox.destroy(),t.listBox=null),t.element.off(t._eventNS).removeClass("sui-input"),e(n).off(ft+t._eventNS),t.listElement&&t.listElement.remove(),S.fn.destroy.call(t)}}),s.defaults=o,t.ui.plugin("AutoComplete",s),u={enabled:!0,cls:"",min:0,max:100,value:i,step:i,editable:!0,spinners:!0,valueTemplate:i,textTemplate:i,labels:{increase:"Increase value",decrease:"Decrease value"},events:{}},c=S.extend({init:function(){S.fn.init.apply(this,arguments);var t,n,i,r,a,o,s,l,d=this,u=d.options,c=u.cls,h=u.value,p=u.step,f=u.editable,g=u.spinners,m=u.labels,v=m.increase,y=m.decrease,b=u.dieOnError;return d._original=t=e(d.element),Mt(t)!=At?void A("shieldNumericTextBox: Underlying element is not INPUT",b):(I(p)?u.step=p=N(p):(s=Bt(I(h)?h:d._value()),u.step=p=s>0?1/z(10,s):1),p?(d._eventNS=".shieldNumericTextBox"+d.getInstanceId(),d.element=i=t.wrap("<span/>").parent(),t.hide(),I(h)||(h=d._value()),f?(r=e('<input type="text" class="sui-input" />'),n=t.attr(yt),I(n)&&r.attr(yt,n)):r=e('<span class="sui-input">&nbsp;</span>').attr(K,"0"),d.textElement=r,r.appendTo(i),r.on(ht+d._eventNS,j(d._focus,d)).on(pt+d._eventNS,j(d._blur,d)),g&&(d._onSpinUpMDProxy=j(d._spinUpMD,d),d._onSpinDownMDProxy=j(d._spinDownMD,d),d._onSpinnerMUProxy=j(d._spinnerMU,d),d.spinUp=a=e('<span class="sui-spinner sui-spinner-up sui-unselectable" />').html('<span class="sui-caret-up sui-unselectable" unselectable="on" />').attr(_t,xt).attr(q,v).attr(X,v).on(Z+d._eventNS,d._onSpinUpMDProxy).on(J+d._eventNS,d._onSpinnerMUProxy).on(et+d._eventNS,d._onSpinnerMUProxy).on(bt+d._eventNS,function(){return!1}),d.spinDown=o=e('<span class="sui-spinner sui-spinner-down sui-unselectable" />').html('<span class="sui-caret-down sui-unselectable" unselectable="on" />').attr(_t,xt).attr(q,y).attr(X,y).on(Z+d._eventNS,d._onSpinDownMDProxy).on(J+d._eventNS,d._onSpinnerMUProxy).on(et+d._eventNS,d._onSpinnerMUProxy).on(bt+d._eventNS,function(){return!1}),i.append(e('<span class="sui-spinners" />').append(a,o))),r.on(nt+d._eventNS,j(d._keydown,d)),i.addClass("sui-numeric-textbox"+(g?"":" sui-numeric-textbox-nosp")+(c?" "+c:"")),l=Bt(p),I(u.textTemplate)||(u.textTemplate="{0:n"+l+"}"),I(u.valueTemplate)||(u.valueTemplate="{0:n"+l+"}"),d.enabled(u.enabled),I(h)&&d.value(h),void(d._destroyed=!1)):void A("shieldNumericTextBox: Invalid step",b))},refresh:function(e){this.refreshWithElement(this._original,e)},_focus:function(){var t=this;t._hasFocus||(t._hasFocus=!0,e(t.element).addClass("sui-numeric-textbox-focus"),t.value(t.value()),t.trigger(ht))},_blur:function(){var t=this,n=e(t.element),i=e(t.textElement);if(t.options.editable){var r,a=t.value();t._updateIfDirty(),r=t.value(),r!==a&&t.trigger(ct,{value:r})}setTimeout(function(){if(!(n.is(":focus")||i.is(":focus")||t._destroyed)){if(t._hasFocus=!1,n.removeClass("sui-numeric-textbox-focus"),t.options.editable){var e,r=t.value();t.value(i.val()),e=t.value(),e!==r&&t.trigger(ct,{value:e})}else t.value(t.value());t.trigger(pt)}},100)},_keydown:function(e){var t=this,n=e.keyCode,i=t._enabled;switch(n){case D.TAB:case D.LEFT:case D.RIGHT:case D.END:case D.HOME:break;case D.ESC:i&&t.value(t.value()),e.preventDefault();break;case D.UP:t._updateValue(!0,!1),e.preventDefault();break;case D.DOWN:t._updateValue(!1,!1),e.preventDefault();break;default:t.options.editable&&i&&(n>=48&&57>=n||n>=96&&105>=n||190==n||110==n||173==n||109==n||189==n||n==D.DEL||n==D.BACK||n==D.ENTER||e.ctrlKey&&(118==n||86==n))?t._dirty=!0:e.preventDefault()}},_spinUpMD:function(e){var t=this;e.preventDefault(),t._updateValue(!0,!1),t._spinUpCancel=!1,setTimeout(function(){t._spinUpInt||t._spinUpCancel||(t._spinUpInt=setInterval(j(t._updateValue,t,!0,!1),20))},100)},_spinDownMD:function(e){var t=this;e.preventDefault(),t._updateValue(!1,!1),t._spinDownCancel=!1,setTimeout(function(){t._spinDownInt||t._spinDownCancel||(t._spinDownInt=setInterval(j(t._updateValue,t,!1,!1),20))},100)},_spinnerMU:function(){var e=this;e._spinUpCancel=e._spinDownCancel=!0,clearInterval(e._spinUpInt),clearInterval(e._spinDownInt),e._spinUpInt=e._spinDownInt=null},_updateIfDirty:function(){var t=this,n=e(t.textElement);t._dirty&&(t.value(n.val()),t._dirty=!1)},_updateValue:function(t,n,i){var r,a=this,o=a.options,s=o.min,l=o.max,d=o.step,u=e(a.textElement),c=!1;a._enabled&&(a._updateIfDirty(),r=a.value(),I(r)||(r=0),n=I(n)?!!n:!0,i=I(i)?!!i:!0,t?l>r&&(a.value(r+d),c=!0):r>s&&(a.value(r-d),c=!0),i&&(u.focus(),o.editable&&It(u)),c&&!n&&a.trigger(ct,{value:a.value()}))},increment:function(){this._updateValue(!0,!0,!1)},decrement:function(){this._updateValue(!1,!0,!1)},value:function(){var t,n,i=this,r=i.options,a=[].slice.call(arguments),o=e(i.textElement);return a.length>0?(I(a[0])&&null!==a[0]&&""!==a[0]?(t=W(R(a[0],r.max),r.min),t=O.call(i,r.valueTemplate,t),t=N(t),n=O.call(i,r.textTemplate,t)+""):(t=null,n=""),r.editable?o.val(i._hasFocus&&i._enabled?t:n):o.html(n),void i._value(t)):N(i._value())},_value:function(){return this._original.attr.apply(this._original,[vt].concat([].slice.call(arguments)))},enabled:function(){var t,n=this,i=e(n.element),r=[].slice.call(arguments);return r.length>0?(t=!!r[0],t?i.removeAttr(U).removeClass("sui-numeric-textbox-disabled"):i.attr(U,U).addClass("sui-numeric-textbox-disabled"),void(n._enabled=t)):n._enabled},focus:function(){e(this.textElement).focus(),It(e(this.textElement))},destroy:function(){var t=this;t._destroyed=!0,t.options.spinners&&(e(t.spinUp).off(t._eventNS).remove(),e(t.spinDown).off(t._eventNS).remove(),t.spinUp=t.spinDown=null),e(t.textElement).off(t._eventNS).remove(),t.textElement=null,t._original.unwrap().show(),t._original=null,S.fn.destroy.call(t)}}),c.defaults=u,t.ui.plugin("NumericTextBox",c),h={enabled:!0,mask:"00-00-0000",promptChar:"_",value:"",rules:{0:function(e){return/^[0-9]$/.test(e)},9:function(e){return/^[0-9 ]$/.test(e)},"#":function(e){return/^[0-9 \+\-]$/.test(e)},L:function(e){return/^[a-zA-Z]$/.test(e)},"?":function(e){return/^[a-zA-Z ]$/.test(e)},"&":function(e){return/^[\S]$/.test(e)},C:function(e){return/^[.]$/.test(e)},A:function(e){return/^[0-9a-zA-Z]$/.test(e)},a:function(e){return/^[0-9a-zA-Z ]$/.test(e)}},cultureSpecific:[".",",","$"],separators:["/","-"," ","(",")"],cls:i,events:{}},p=S.extend({init:function(){S.fn.init.apply(this,arguments);var t=this,n=t.options,i=n.dieOnError,r=n.value,a=e(t.element);return Mt(a)!=At?void A("shieldMaskedTextBox: Underlying element is not INPUT",i):t._verifyMask()?(t._eventNS=".shieldMaskedTextBox"+t.getInstanceId(),a.addClass("sui-input"),n.cls&&a.addClass(n.cls),I(r)&&t.value(r),a.on(ht+t._eventNS,j(t._focus,t)).on(pt+t._eventNS,j(t._blur,t)).on(nt+t._eventNS,j(t._keydown,t)).on(it+t._eventNS,j(t._keypress,t)).on(at+t._eventNS,j(t._cut,t)).on(ot+t._eventNS,j(t._paste,t)).on(st+t._eventNS,j(t._dragstart,t)).on(lt+t._eventNS,j(t._dragenter,t)).on(dt+t._eventNS,j(t._dragover,t)).on(ut+t._eventNS,j(t._drop,t)),void t.enabled(n.enabled)):void A("shieldMaskedTextBox: Invalid mask",i)},_getMask:function(){var e,t,n=this,i=n.options.mask,r="";for(t=0;t<i.length;t++)e=i.charAt(t),r+=n._isCultureSpecific(e)?n._getCultureSpecific(e):e;return r},_isCultureSpecific:function(e){return-1!==G(e,this.options.cultureSpecific)},_getCultureSpecific:function(e){var n=t.getCurrencyInfo();return"$"==e?n.symbol:n[e]},_skipSymbol:function(e){var t=this,n=t.options.separators;return-1!==G(e,n)||t._isCultureSpecific(e)},_insertAt:function(e,t,n){return e.substr(0,n)+t+e.substr(n)},_removeAt:function(e,t){return e.substr(0,t)+e.substr(t+1)},_caret:function(t,n){var i,r=this,a=e(r.element);return 0===a.length||a.is(":hidden")?void 0:"number"==typeof t?(n="number"==typeof n?n:t,a.each(function(){a.setSelectionRange?a.setSelectionRange(t,n):a.createTextRange&&(i=a.createTextRange(),i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i.select())})):(a[0].setSelectionRange?(t=a[0].selectionStart,n=a[0].selectionEnd):F.selection&&F.selection.createRange&&(i=F.selection.createRange(),t=0-i.duplicate().moveStart("character",-1e5),n=t+i.text.length),{begin:t,end:n})},_caretTo:function(t){var n=this,r=e(n.element);if(r.prop("selectionStart")!==i)r.prop("selectionStart",t),r.prop("selectionEnd",t);else if(F.selection){r.focus();var a=F.selection.createRange();a.moveStart("character",-n.value().length),a.moveEnd("character",-n.value().length),a.moveStart("character",t),a.select()}},_isValid:function(e,t){var n,i=this,r=i._getMask(),a=i.options.rules;return t>=r.length?!1:(n=r.charAt(t),P(a[n])&&a[n].call(i,e))},_removeRegion:function(e){var t,n,i=this,r=i.options,a=i._getMask(),o=i._value(),s=i._caret(),l=r.promptChar,d=s.begin;if(d==s.end)e?(t=a.charAt(--d),i._skipSymbol(t)||(d>=0?(o=i._removeAt(o,d),o=i._insertAt(o,l,d),i._value(o)):d=0)):d<o.length&&(t=a.charAt(d),i._skipSymbol(t)?d++:(o=i._shiftLeft(o,d),i._value(o)));else{for(n=d;n<s.end;n++)i._skipSymbol(a.charAt(n))||(o=i._removeAt(o,n),o=i._insertAt(o,l,n));for(;i._skipSymbol(a.charAt(d));)++d;for(n=d;n<s.end;n++)i._skipSymbol(a.charAt(n))||(o=i._shiftLeft(o,d));i._value(o)}i._caretTo(d)},_shiftLeft:function(e,t){for(var n,i,r,a=this,o=a.options,s=a._getMask(),l=o.promptChar,d=t;d<e.length-1;){for(r=d+1;a._skipSymbol(s.charAt(r));)r++;if(r>e.length-1)break;n=e.charAt(r),e=a._removeAt(e,d),i=a._isValid(n,d),e=a._insertAt(e,i?n:l,d),d=r}return e=a._removeAt(e,d),e=a._insertAt(e,l,d)},_shiftRightKey:function(e,t){var n,i,r,a=this,o=a.options,s=a._getMask(),l=e.charAt(t),d=o.promptChar;if(l!=d&&t<e.length-1){for(var u=t+1,c=e.charAt(u);c!=d&&u<=e.length;)c=e.charAt(++u);if(c==d)for(var h=u;h>t;){if(!a._skipSymbol(s.charAt(h))){for(i=h-1,n=e.charAt(i);a._skipSymbol(s.charAt(i));)n=e.charAt(--i);e=a._removeAt(e,h),r=a._isValid(n,h),e=a._insertAt(e,r?n:d,h)}h--}}return e},_shiftRightPaste:function(e,t){var n,i,r,a,o=this,s=o.options,l=o._getMask(),d=s.promptChar,u=t;for(i=e.charAt(u);u<e.length-1;){for(r=u+1;o._skipSymbol(l.charAt(r));)r++;if(r>e.length-1)break;n=e.charAt(r),e=o._removeAt(e,r),a=o._isValid(i,r),e=o._insertAt(e,a?i:d,r),i=n,u=r}return e},_commit:function(e){for(var t,n=this,i=n._getMask(),r=n._caret(),a=r.begin;n._skipSymbol(i.charAt(a));)++a;if(n._isValid(e,a)){for(r.end>r.begin&&n._removeRegion(!1),t=n._value(),t=n._shiftRightKey(t,a),t=n._removeAt(t,a),t=n._insertAt(t,e,a),n._value(t),a++;n._skipSymbol(i.charAt(a));)a++;n._caretTo(a)}},_verifyValue:function(e){var t=this,n=t._getMask();if(e.length!=n.length)return!1;for(var i=0;i<n.length;i++)if(t._skipSymbol(n.charAt(i))){if(n.charAt(i)!==e.charAt(i))return!1}else if(!t._isValid(e.charAt(i),i))return!1;return!0},_verifyMask:function(){for(var e,t=this,n=t._getMask(),i=t.options.rules,r=0;r<n.length;r++)if(!t._skipSymbol(n.charAt(r))&&(e=n.charAt(r),!P(i[e])))return!1;return!0},_applyMask:function(){for(var e=this,t=e.options,n=e._getMask(),i=t.promptChar,r="",a=0;a<n.length;a++)r+=e._skipSymbol(n.charAt(a))?n.charAt(a):i;e._value(r)},_isEmptyMask:function(){for(var e=this,t=e._value(),n=e.options,i=e._getMask(),r=n.promptChar,a=0;a<i.length;a++)if(!e._skipSymbol(i.charAt(a))&&t.charAt(a)!==r)return!1;return!0},_clearMaskOnBlur:function(){this._isEmptyMask()&&this._value("")},_focus:function(){var t,n=this;e(n.element).addClass("sui-input-focus"),t=n._value(),t&&""!==t||n._applyMask(),n.trigger(ht)},_blur:function(){this._clearMaskOnBlur(),this.trigger(pt)},_preventDrag:function(e){if(e.type==st||e.type==lt||e.type==dt||e.type==ut){var t=e.originalEvent.dataTransfer;return e.type==st?t.effectAllowed="none":t.dropEffect="none",e.stopPropagation&&(e.preventDefault(),e.stopPropagation()),!1}},_triggerChange:function(e){var t,n=this;e!==n._value()&&(t=n.trigger(ct,{value:n._value(),old:e}),t.isDefaultPrevented()&&n._value(n.oldValue)),clearInterval(n.changeInterval),n.changeInterval=i},_dragstart:function(e){return this._preventDrag(e)},_dragenter:function(e){return this._preventDrag(e)},_dragover:function(e){return this._preventDrag(e)},_drop:function(e){return this._preventDrag(e)},_keydown:function(e){var t=this,n=e.keyCode,r=t._enabled,a=t._value();switch(r||e.preventDefault(),n){case D.BACK:case D.DEL:t._removeRegion(n==D.BACK),t.changeInterval===i&&(t.changeInterval=setInterval(j(t._triggerChange,t,a),20)),e.preventDefault();break;default:if(e.ctrlKey)switch(n){case 118:case 86:case 122:case 90:case 121:case 89:118==n||86==n?t._paste(e):(122==n||90==n)&&(t._undo(),t.changeInterval===i&&(t.changeInterval=setInterval(j(t._triggerChange,t,a),20))),e.preventDefault()}}},_keypress:function(e){var t,n=this,r=e.keyCode,a=e.which,o=(n._enabled,n._value());if(!e.ctrlKey){switch(r){case D.HOME:case D.END:case D.LEFT:case D.RIGHT:case D.TAB:if(!H.ie)return;break;default:t=String.fromCharCode(a),n._commit(t)}e.preventDefault(),n.changeInterval===i&&o!=n._value()&&(n.changeInterval=setInterval(j(n._triggerChange,n,o),20))}},_cut:function(){var e=this,t=e._caret();e.cutInterval===i&&(e.cutInterval=setInterval(j(e._aftercut,e,t),20))},_aftercut:function(e){var t,n=this,r=n._getMask(),a=n.value(),o=a,s=n.options.promptChar,l=e.begin;for(t=l;t<e.end;t++)a=n._insertAt(a,n._skipSymbol(r.charAt(t))?r.charAt(t):s,t);for(n._value(a),n._caretTo(l);n._skipSymbol(r.charAt(l));)++l;for(var d=l;d<e.end;d++)n._skipSymbol(r.charAt(d))||(a=n._shiftLeft(a,l));n._value(a),n._caretTo(l),clearInterval(n.cutInterval),n.cutInterval=i,n._triggerChange(o)},_paste:function(e){var t,r,a,o,s=this,l=s._getMask(),d=s._value(),u=d,c=s._caret(),h=c.begin,p=s.options.promptChar,f=e.originalEvent||e;if(h==d.length)return void e.preventDefault();if(f.clipboardData?t=f.clipboardData.getData("text/plain"):n.clipboardData&&(t=n.clipboardData.getData("Text")),null==t)return void e.preventDefault();if(h==c.end){for(;s._skipSymbol(l.charAt(h));)h++;for(o=t.length-1;o>=0;o--)d=s._shiftRightPaste(d,h),d=s._removeAt(d,h),r=s._isValid(t.charAt(o),h),d=s._insertAt(d,r?t.charAt(o):p,h);h+=t.length}else{for(a=h;a<c.end;a++)s._skipSymbol(l.charAt(a))||(d=s._removeAt(d,a),d=s._insertAt(d,p,a));for(o=0;o<t.length;o++){for(;s._skipSymbol(l.charAt(h));)h++;d=s._removeAt(d,h),r=s._isValid(t.charAt(o),h),d=s._insertAt(d,r?t.charAt(o):p,h),h++}}s._value(d),s._caretTo(h),e.preventDefault(),s.changeInterval===i&&(s.changeInterval=setInterval(j(s._triggerChange,s,u),20))},_undo:function(){var e=this;e._applyMask()},_value:function(){return this.element.val.apply(this.element,arguments)},value:function(){if(arguments.length>0){var e=[].slice.call(arguments);if(!this._verifyValue(e[0]))return!1}return this._value.apply(this,arguments)},enabled:function(){var t,n=this,i=e(n.element),r=[].slice.call(arguments);return r.length>0?(t=!!r[0],t?i.removeAttr(U).removeClass("sui-input-disabled"):i.attr(U,U).addClass("sui-input-disabled"),void(n._enabled=t)):n._enabled},destroy:function(){var e=this,t=e.options.cls;e.element.off(e._eventNS).removeClass("sui-input"+(t?" "+t:"")),S.fn.destroy.call(e)}}),p.defaults=h,t.ui.plugin("MaskedTextBox",p),f={editable:!0,enabled:!0,open:!1,cls:i,dataSource:i,autoComplete:{enabled:!1,delay:200,minLength:0,filter:i},valueTemplate:i,textTemplate:i,inputTemplate:i,selected:i,value:i,width:i,height:i,dropDownWidth:i,dropDownHeight:200,animation:{enabled:!0,openDelay:200,closeDelay:100},events:{}},g=S.extend({init:function(){S.fn.init.apply(this,arguments);var t,r,o,s,l,d,u=this,c=u.options,h=c.editable,p=c.dieOnError,f=c.dataSource,g=c.autoComplete,m=c.selected,v=c.value,y=i;return u._original=t=e(u.element),u._utype=Mt(t),f||u._utype==Dt?(u._eventNS=".shieldComboBox"+u.getInstanceId(),u.pending=0,u.element=s=t.wrap("<span/>").parent(),t.hide(),u._onDDHandler=j(u._onDD,u),h?(l=e('<input type="text" class="sui-input" />').focus(function(){e(this).parent().addClass("sui-combobox-focus")}).blur(function(){e(this).parent().removeClass("sui-combobox-focus"),u._blur()}),o=t.attr(yt),I(o)&&l.attr(yt,o)):l=e('<span class="sui-input sui-unselectable">&nbsp;</span>').attr(_t,xt).on(tt+u._eventNS,u._onDDHandler).on(bt+u._eventNS,function(){return!1}),u.textElement=l,l.appendTo(s),u.ddElement=d=e('<span class="sui-caret-container sui-unselectable" />').html('<span class="sui-caret sui-unselectable" unselectable="on" />').attr(_t,xt).on(tt+u._eventNS,u._onDDHandler).appendTo(s),s.addClass(h?"sui-combobox":"sui-dropdown"),c.cls&&s.addClass(c.cls),r=t.attr(K),h?l.attr(K,I(r)?r:"0"):s.attr(K,I(r)?r:"0"),I(c.width)&&s.width(c.width),I(c.height)&&(s.css(Ct,c.height),l.css(Ct,c.height),d.css(Ct,c.height)),s.on(nt+u._eventNS,j(u._keydown,u)).on(rt+u._eventNS,j(u._keyup,u)),u._focusHandler=j(u._focus,u),h?l.on(ht+u._eventNS,u._focusHandler):s.on(ht+u._eventNS,u._focusHandler),s.on(pt+u._eventNS,j(u._blur,u)),u.listElement=e("<span/>").appendTo(F.body),g&&(y=I(g.filter)?g.filter:f&&f.filter?f.filter:u._utype==Dt?{and:[{path:"text",filter:"contains",value:""}]}:{and:[{path:"",filter:"contains",value:""}]}),u.listBox=new a(t,{cls:"sui-autocomplete",dataSource:f,readDataSource:!1,valueTemplate:c.valueTemplate,textTemplate:c.textTemplate,multiple:!1,selected:I(m)&&M(m)?m[0]:m,values:v,width:c.dropDownWidth||s.innerWidth(),maxHeight:c.dropDownHeight,renderToINTERNAL:u.listElement,wrapOriginalINTERNAL:!1,tabindexINTERNAL:H.ie&&H.version<=8?0:-1,filterINTERNAL:y,events:{select:function(e){u._onLBSelChanged(),u.trigger(gt,{index:e.index,item:e.item,text:e.text,value:e.value})},itemclick:function(){h?l.focus():s.focus(),u._hideDD()},blur:function(){setTimeout(j(u._blur,u),20)}}}),u.listBox.element.hide(),u.dataSource=u.listBox.dataSource,u.listBox.dataSource.on(ct+u._eventNS,j(u._dsChange,u)),c.textTemplate=u.listBox.options.textTemplate,c.valueTemplate=u.listBox.options.valueTemplate,u.listBox.dataSource.read(),e(n).on(ft+u._eventNS,j(u._position,u)),u.enabled(c.enabled),u._open=!1,c.enabled&&c.open&&u._showDD(),void(u._destroyed=!1)):(u.destroy(),void A((h?"shieldComboBox":"shieldDropDown")+": No dataSource or underlying SELECT element found.",p))},refresh:function(e){this.refreshWithElement(this._original,e)},focus:function(){this.options.editable?(e(this.textElement).focus(),It(e(this.textElement))):e(this.element).focus()},_focus:function(){var e=this;e._hasFocus||(e._hasFocus=!0,e._oldValue=e.value(),e.trigger(ht))},_blur:function(){var t=this;setTimeout(function(){t._destroyed||null==t.listBox||e(t.listBox.element).is(":focus")||e(t.element).is(":focus")||e(t.textElement).is(":focus")||(t._hideDD(),t._oldValue!==t.value()&&t.trigger(ct),t.trigger(pt),t._hasFocus=!1)},100)},_keydown:function(e){var t=this;switch(e.keyCode){case D.TAB:break;case D.UP:case D.DOWN:t._keydownUpDown(e),e.preventDefault();break;case D.ESC:case D.ENTER:e.preventDefault(),t.cancelSearch=!0,t._hideDD();break;default:t._keydownDefault(e)}},_keyup:function(){var t=this;t.options.editable&&t._utype==At&&e(t._original).attr(vt,e(t.textElement).val())},_keydownUpDown:function(t){this._enabled&&e(this.listBox.element).trigger(t)},_keydownDefault:function(e){var t=this;t.listBox.clearSelection(),t._searchTimeout(e)},_searchTimeout:function(){var t=this,n=t.options.autoComplete;n&&n.enabled&&(clearTimeout(t.searchTimeout),t.searchTimeout=setTimeout(function(){t.term!==e(t.textElement).val()&&t._search()},n.delay))},_search:function(){var t=this;return t.listBox.dataSource,t.term=e(t.textElement).val(),t.term.length<t.options.autoComplete.minLength?void t._hideDD():(t.cancelSearch=!1,t.pending++,e(t.textElement).addClass("sui-autocomplete-loading"),Lt(t.listBox.dataSource.filter,t.term),void t.listBox.dataSource.read())},_dsChange:function(){var t=this,n=t._original,i=t._utype,r=t.textElement.val();return t._dsLoaded?(t.pending--,t.pending||e(t.textElement).removeClass("sui-autocomplete-loading"),!t.cancelSearch&&t._hasData()?t._showDD():t._hideDD(),i==Dt?n.val(r):i==At&&n.attr(vt,r),void t.trigger(gt,{index:-1,item:r})):(t._dsLoaded=!0,!t.options.editable&&t.listBox.selected().length<=0&&t.listBox.selected(0),void t._onLBSelChanged())},_hasData:function(){var e=this.listBox.dataSource.view;return e&&e.length>0},_onLBSelChanged:function(){var e,t,n,i=this,r=i.options,a=r.editable,o=i.listBox,s=o.selectedItems();s&&s.length>0?(e=O.call(i,r.valueTemplate,s[0]),t=O.call(i,r.textTemplate,s[0]),n=I(r.inputTemplate)?O.call(i,r.inputTemplate,s[0]):t,a?i.textElement.val(n):i.textElement.html(n)):a?i.textElement.val(""):i.textElement.html("&nbsp;")},_onDD:function(){var e=this,t=e.textElement;e.options.editable?(t.focus(),It(t)):e.element.focus(),e._open?e._hideDD():e._hasData()&&e._showDD()},_position:function(){var t=this,n=e(t.element),i=e(t.listBox.element),r=n.offset(),a=n.outerHeight();i.css({top:r.top+a,left:r.left,width:t.options.dropDownWidth||n.innerWidth()})},_showDD:function(){var t=this,n=t.listBox,i=e(n.element),r=t.options.animation;t._enabled&&(t._position(),r&&r.enabled?i.slideDown(r.openDelay,j(n.ensureActiveViewableINTERNAL,n)):(i.show(),n.ensureActiveViewableINTERNAL()),t._open=!0)},_hideDD:function(){var t=this,n=e(t.listBox.element),i=t.options.animation;i&&i.enabled?n.slideUp(i.closeDelay):n.hide(),t._open=!1},enabled:function(){var t,n=this,i=n.options.editable,r=e(n.element),a=n.textElement,o=n.ddElement,s=n._original,l=[].slice.call(arguments);return l.length>0?(t=!!l[0],t?(r.removeAttr(U).removeClass(i?"sui-combobox-disabled":"sui-dropdown-disabled"),a.removeAttr(U),o.removeAttr(U),s.removeAttr(U)):(n._open&&n._hideDD(),r.attr(U,U).addClass(i?"sui-combobox-disabled":"sui-dropdown-disabled"),a.attr(U,U),o.attr(U,U),s.attr(U,U)),void(n._enabled=t)):n._enabled},selected:function(){var e,t=this,n=t.listBox,i=[].slice.call(arguments);return i.length>0?(e=i[0],n.clearSelection(),I(e)&&(e=L(e),e>-1?n.selected(e):t.options.editable||n.selected(0)),void t._onLBSelChanged()):(e=n.selected(),e&&e.length>0?e[0]:-1)},selectedItem:function(){var e=this,t=e.listBox.selectedItems();return t&&t.length>0?t[0]:null},value:function(){var t,n=this,i=n.listBox,r=[].slice.call(arguments);return r.length>0?(i.clearSelection(),i.values(r[0]),void n._onLBSelChanged()):(t=i.values(),t&&t.length>0?t[0]:n.options.editable?e(n.textElement).val():null)},text:function(){var t=this,n=t.listBox.texts();return n&&n.length>0?n[0]:t.options.editable?e(t.textElement).val():null},destroy:function(){var t=this,i=e(t.element),r=e(t.textElement),a=e(t.ddElement);t._destroyed||(t._destroyed=!0,t._dsLoaded=!1,r.off(t._eventNS),a.off(t._eventNS),t._onDDHandler=null,e(n).off(ft+t._eventNS),i.off(t._eventNS),t.dataSource=null,t.listBox&&(t.listBox.dataSource.off(ct+t._eventNS),t.listBox.destroy(),t.listBox=null),e(t.listElement).remove(),r.remove(),a.remove(),t._original.unwrap().show(),t._original=null,S.fn.destroy.call(t))}}),g.defaults=f,t.ui.plugin("ComboBox",g),m=Y({},f,{editable:!1,autoComplete:i}),v=g.extend({init:function(e,t){t&&(t.editable=!1,t.autoComplete=i),g.prototype.init.call(this,e,t)}}),v.defaults=m,t.ui.plugin("DropDown",v),y={enabled:!0,cls:i,toggle:!1,checked:!1,events:{}},b=S.extend({init:function(){S.fn.init.apply(this,arguments);var t=this,n=e(t.element),i=t.options,r=i.cls;t._eventNS=".shieldButton"+t.getInstanceId(),n.addClass("sui-button sui-unselectable"),r&&n.addClass(r),n.on(tt+t._eventNS,j(t._click,t)),t.enabled(i.enabled),i.toggle&&(t._checked=!!i.checked,t._checked?n.addClass("sui-button-checked"):n.removeClass("sui-button-checked"))},_click:function(t){var n=this,i=e(n.element);n._enabled&&(n.options.toggle&&(n._checked=!n._checked,n._checked?i.addClass("sui-button-checked"):i.removeClass("sui-button-checked")),n.trigger(tt,t))},checked:function(){var t=this,n=e(t.element),i=[].slice.call(arguments);return i.length>0?void(t.options.toggle&&(t._checked=!!i[0],t._checked?n.addClass("sui-button-checked"):n.removeClass("sui-button-checked"))):t._checked},enabled:function(){var t,n=this,i=e(n.element),r=[].slice.call(arguments);return r.length>0?(t=!!r[0],t?i.removeAttr(U).removeClass("sui-button-disabled"):i.attr(U,U).addClass("sui-button-disabled"),void(n._enabled=t)):n._enabled},destroy:function(){var e=this,t=e.options.cls;e.element.off(tt+e._eventNS).removeClass("sui-button sui-button-checked sui-button-disabled sui-unselectable"+(t?" "+t:"")),S.fn.destroy.call(e)}}),b.defaults=y,t.ui.plugin("Button",b),_={enabled:!0,enableThreeStates:!1,enableLabelClick:!0,checked:!1,label:"",events:{}},x=S.extend({init:function(){var t,n,i,r,a=this;S.fn.init.apply(this,arguments),a._eventNS=".shieldCheckBox"+a.getInstanceId(),t=a.options;var o=e(a.element).addClass("sui-checkbox-input");i=o.attr(K),o.attr(K,"0"),r=a.wrapper=o.wrap("<span class='sui-checkbox'/>").parent().attr(K,i);var s=e("<span class='sui-checkbox-element sui-checkbox-unchecked' />");s.appendTo(r),a.checkBoxElement=s,e("<span class='sui-checkmark' />").appendTo(s),t.label?(n=e("<label class='sui-checkbox-label' />"),n.appendTo(r),n.attr("for",o.id),n.get(0).innerHTML=t.label,t.enableLabelClick&&n.addClass("sui-checkbox-label-hover")):(n=o.parent().parent(),n&&!n.is("label")&&(n=e('label[for="'+o.get(0).id+'"]')),n&&t.enableLabelClick&&n.addClass("sui-checkbox-label-hover")),o.attr($)&&(t.checked=!0),a.enabled(t.enabled),a.checked(t.checked),s.on(tt+a._eventNS,j(a._click,a)).on(nt+a._eventNS,j(a._keydown,a)),n&&t.enableLabelClick&&n.on(tt+a._eventNS,j(a._click,a)).on(nt+a._eventNS,j(a._keydown,a)),r.onselectstart=function(){return!1},r.onmousedown=function(){return!1}},_click:function(t){var n=this;e(n.element),n._enabled&&(n._checked?n._checked=n.options.enableThreeStates?null:!1:n._checked===!1?n._checked=!0:null===n._checked&&(n._checked=!1),n.checked(n._checked),n.trigger(tt,t),t.preventDefault(),t.stopPropagation())},_keydown:function(e){e.keyCode==D.SPACE&&this._click(e)},hide:function(){e(this.wrapper).hide()},show:function(){e(this.wrapper).show()},isVisible:function(){return e(this.wrapper).is(":visible")},checked:function(){var t=this,n=[].slice.call(arguments),i=e(t.element),r=t.wrapper,a=r.find(".sui-checkmark");if(!(n.length>0))return t._checked;var o=n[0];t._checked=o,o?(r.find(".sui-checkbox-element").removeClass("sui-checkbox-unchecked sui-checkbox-indeterminate").addClass("sui-checkbox-checked"),i.attr($,$),i.data("1"),H.ie&&H.version<=8&&a.css("filter","progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=0.7071067811865475, M21=-0.7071067811865475, M22=0.7071067811865476)")):o===!1?(r.find(".sui-checkbox-element").removeClass("sui-checkbox-checked sui-checkbox-indeterminate").addClass("sui-checkbox-unchecked"),i.removeAttr($),i.data("0"),a.css("filter","")):null===o&&t.options.enableThreeStates&&(r.find(".sui-checkbox-element").removeClass("sui-checkbox-checked sui-checkbox-unchecked").addClass("sui-checkbox-indeterminate"),i.removeAttr($),i.data("2"),a.css("filter",""))},enabled:function(){var t=this,n=[].slice.call(arguments),i=e(t.element);if(!(n.length>0))return t._enabled;var r=!!n[0];r?(t.wrapper.removeAttr(U).removeClass("sui-checkbox-disabled"),i.removeAttr(U)):(t.wrapper.attr(U,U).addClass("sui-checkbox-disabled"),i.attr(U,U)),t._enabled=r},destroy:function(){var e=this;e.element.removeClass("sui-checkbox-input").removeAttr(K),e.checkBoxElement&&e.checkBoxElement.off(e._eventNS),e.wrapper&&(e.wrapper.find(".sui-checkbox-label").off(e._eventNS).end().removeAttr(U).removeClass("sui-checkbox-disabled").replaceWith(e.element),e.wrapper=null),S.fn.destroy.call(e)}}),x.defaults=_,t.ui.plugin("CheckBox",x),w={enabled:!0,enableLabelClick:!0,checked:!1,label:"",events:{}},C=S.extend({init:function(){S.fn.init.apply(this,arguments);var t,n,i,r=this,a=e(r.element),o=r.options;r._eventNS=".shieldRadioButton"+r.getInstanceId(),a.addClass("sui-radiobutton-input"),n=a.attr(K),a.attr(K,"0"),i=r.wrapper=a.wrap('<span class="sui-radiobutton"/>').parent(),i.attr(K,n);var s=e('<span class="sui-radiobutton-element"/>');s.appendTo(i),r.radioButtonElement=s,e('<span class="sui-checkmark"/>').appendTo(s),o.label?(t=e('<label class="sui-radiobutton-label"/>'),t.appendTo(i),t.attr("for",r.element.id),t.get(0).innerHTML=o.label,o.enableLabelClick&&t.addClass("sui-radiobutton-label-hover")):(t=a.parent().parent(),t&&!t.is("label")&&(t=e('label[for="'+a.get(0).id+'"]')),t&&o.enableLabelClick&&t.addClass("sui-radiobutton-label-hover")),a.attr($)&&(o.checked=!0),r.enabled(o.enabled),o.checked?r.checked(o.checked):r._checked=!1,o.enabled&&(s.on(tt+r._eventNS,j(r._click,r)).on(nt+r._eventNS,j(r._keydown,r)),t&&o.enableLabelClick&&t.on(tt+r._eventNS,j(r._click,r)).on(nt+r._eventNS,j(r._keydown,r))),i.onselectstart=function(){return!1},i.onmousedown=function(){return!1}},_click:function(e){var t=this;t.checked(!0),t.trigger(tt,e),e.preventDefault(),e.stopPropagation()},_keydown:function(e){e.keyCode==D.SPACE&&this._click(e)},hide:function(){e(this.wrapper).hide()},show:function(){e(this.wrapper).show()},isVisible:function(){return e(this.wrapper).is(":visible")},checked:function(){var e=this,t=[].slice.call(arguments);return t.length>0?(e._uncheckAllFromSameGroup(),void e._checkInternal(t[0])):e._checked},_checkInternal:function(t){var n=this,i=e(n.element);n._checked=t,t?(n.wrapper.find(".sui-radiobutton-element").removeClass("sui-radiobutton-unchecked sui-radiobutton-indeterminate").addClass("sui-radiobutton-checked"),i.attr($,$)):(n.wrapper.find(".sui-radiobutton-element").removeClass("sui-radiobutton-checked"),i.removeAttr($))},_uncheckAllFromSameGroup:function(){var t=this,n=e(t.element);e('input[type="radio"][name="'+n.attr("name")+'"]').not(n).each(function(){var t=e(this).swidget();t&&(t._checkInternal(!1),t.trigger(ct))})},enabled:function(){var t=this,n=[].slice.call(arguments),i=e(t.element);if(!(n.length>0))return t._enabled;var r=!!n[0];r?(t.wrapper.removeAttr(U).removeClass("sui-radiobutton-disabled"),i.removeAttr(U)):(t.wrapper.attr(U,U).addClass("sui-radiobutton-disabled"),i.attr(U,U)),t._enabled=r},destroy:function(){var e=this;e.element.removeClass("sui-radiobutton-input").removeAttr(K),e.radioButtonElement&&(e.radioButtonElement.off(e._eventNS),e.radioButtonElement=null),e.wrapper&&(e.label&&(e.label.off(e._eventNS),e.label=null),e.wrapper.removeAttr(U).removeClass("sui-radiobutton-disabled"),e.wrapper.replaceWith(e.element),e.wrapper=null),S.fn.destroy.call(e)
}}),C.defaults=w,t.ui.plugin("RadioButton",C),T={cls:i,enabled:!0,checked:i,onText:i,offText:i,events:{}},k=S.extend({init:function(){S.fn.init.apply(this,arguments);var t,n,i,r,a,o=this,s=o.options,l=s.dieOnError,d=s.cls,u=s.checked;return o._original=t=e(o.element),Mt(t)!==At||"checkbox"!==t.attr("type")?void A("shieldSwitch: Underlying element must ne an input of type checkbox.",l):(o._eventNS=".shieldSwitch"+o.getInstanceId(),o.element=i=t.wrap('<div class="sui-switch sui-unselectable'+(d?" "+d:"")+'" />').parent(),a=e('<div class="sui-switch-inner sui-unselectable" />').appendTo(i),o._text=e('<span class="sui-switch-text sui-unselectable" />').appendTo(a),o._handle=r=e('<div class="sui-switch-handle sui-unselectable" />').appendTo(i),r.height(i.height()),t.hide(),n=t.attr(K),i.attr(K,I(n)?n:"0"),i.on(tt+o._eventNS,j(o._click,o)).on(nt+o._eventNS,j(o._keydown,o)),u=I(u)?!!u:!!t.attr($),o.checked(u,!1),void o.enabled(s.enabled))},refresh:function(e){this.refreshWithElement(this._original,e)},_keydown:function(e){var t=this;e.keyCode===D.SPACE&&(t._click(e),e.preventDefault())},_click:function(e){var t=this;t._enabled&&(t.checked(!t._checked),t.trigger(tt,e),e.preventDefault(),e.stopPropagation())},checked:function(){var t,n,i=this,r=i.options,a=r.onText,o=r.offText,s=e(i.element),l=e(i._handle),d=e(i._text),u=i._original,c=[].slice.call(arguments),h=100;return c.length>0?(t=!!c[0],n=I(c[1])?!!c[1]:!0,n||(h=0),t?(u.attr($,$),l.animate({left:s.width()-l.width()-2},h,function(){s.addClass("sui-switch-checked"),I(a)&&d.html(a)})):(u.removeAttr($),l.animate({left:-2},h,function(){s.removeClass("sui-switch-checked"),I(o)&&d.html(o)})),void(i._checked=t)):i._checked},enabled:function(){var t,n=this,i=e(n.element),r=n._original,a=[].slice.call(arguments);return a.length>0?(t=!!a[0],t?(i.removeAttr(U).removeClass("sui-switch-disabled"),r.removeAttr(U)):(i.attr(U,U).addClass("sui-switch-disabled"),r.attr(U,U)),void(n._enabled=t)):n._enabled},destroy:function(){var t=this;e(t.element).off(t._eventNS),e(t._inner).remove(),e(t._handle).remove(),t._original.unwrap().show(),t._original=t._inner=t._handle=null,S.fn.destroy.call(t)}}),k.defaults=T,t.ui.plugin("Switch",k)}(jQuery,shield,this),!function(e,t,n,i){"use strict";var r,a,o,s,l,d,u,c,h,p,f=t.ui.Widget,g=t.Class,m=t.format,v=t.parseDate,y=document,b=t.is.func,_=t.is,x=e.proxy,w=navigator.userAgent,C=n.opera,T=/msie/i.test(w)&&!C,k=T&&8===y.documentMode,S=e.extend,E=_.undefined,D=_.string,A="month",P="year",M="decade",I="century",B="click",L="mousedown",N="keypress",H="focus",O="selectstart",F="select",R="change",W="viewChange",z="depthChange",Y="open",V="close",j="blur",G="display",q="none";r={enabled:!0,readOnly:!1,hover:!0,footer:{enabled:!0,footerTemlpate:"Today"},min:new Date(1900,0,1),max:new Date(2099,11,31),value:i,focused:new Date,labels:{previous:"Previous",next:"Next"},view:{depth:A,start:A},dayTemplate:"{day}",otherMonthDayTemplate:"{day}",outOfRangeDayTemplate:"&nbsp;",dateTooltipTemplate:"{date:MM/dd/yyyy}",events:{}};var X=function(e){var t=!1,n="Webkit Moz ms O".split(" "),i=y.createElement("div"),r=null;if(e=e.toLowerCase(),i.style[e]&&(t=!0),t===!1){r=e.charAt(0).toUpperCase()+e.substr(1);for(var a=0;a<n.length;a++)if(void 0!==i.style[n[a]+r]){t=!0;break}}return t},U=g.extend({init:function(n){var i=this,r=n.listbox,a=n.min,o=n.max,s=n.interval,l=n.parent,d=n.textTemplate;if(t.ui.ListBox){if(_.object(r)&&r instanceof t.ui.ListBox)l.listBox=r;else{l._listBoxWrapper=e("<div style='display: none;' />").appendTo(y.body);var u=i._populateDataSource(a,o,s);l.listBox=new t.ui.ListBox(l._listBoxWrapper,S({},r,{dataSource:{data:u},multiple:!1,textTemplate:d,width:l._wrapper.innerWidth(),maxHeight:200})),l._wrapper.parent().hasClass("sui-rtl")?l.listBox.element.parent().addClass("sui-rtl"):l.listBox.element.parent().css(G,q)}l._shouldShowPopup=!0}},_populateDataSource:function(e,t,n){var i,r,a=[];for(e>=t?t=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1,t.getHours(),t.getMinutes(),t.getSeconds()):(t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()),t.getTime()==e.getTime()&&(t=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1,t.getHours(),t.getMinutes(),t.getSeconds()))),i=e.getTime(),r=t.getTime();r>i;)a.push(new Date(i)),i+=60*n*1e3;return a},destroy:function(){var e=this;e.listBox,e.listBox&&(e.listBox.destroy(),e.listBox=null)}});a=f.extend({init:function(){f.fn.init.apply(this,arguments);var t=this,n=e(t.element),i=t.options,r=i.cls,a=i.value;n.addClass("sui-calendar"+(r?" "+r:"")),t._focusedDate=i.focused,t._view=i.view.start,t._enabled=i.enabled,a&&(D(a)&&(a=new Date(a)),t._focusedDate=t._selectedDate=new Date(a.getFullYear(),a.getMonth(),a.getDate())),t._initializeHeader(),t._render(),i.footer.enabled&&t._initializeFooter(),!i.readOnly&&i.enabled?(n.find(".sui-prev").on(B,t._movePrev=x(t._movePrevHandler,t)),n.find(".sui-next").on(B,t._moveNext=x(t._moveNextHandler,t)),n.find(".sui-text").on(B,t._changeViewDepth=x(t._changeViewDepthHandler,t)),n.find(".sui-footer").on(B,t._selectToday=x(t._selectTodayHandler,t))):n.addClass(i.readOnly?"sui-read-only":"sui-calendar-disabled"),T&&n.on(O,t._selectStart=function(){return!1})},_calendarSelectionHandler:function(t){var n,i,r=this,a=e(t.target).closest("td"),o=r._focusedDate;if(r.options.view.depth,a.length&&!a.hasClass("sui-out-of-range")&&!a.hasClass("sui-no-hover")&&r._enabled)switch(r._calendarTable.find(".sui-focused").removeClass("sui-focused"),r._view){case A:n=new Date(a.attr("data-value"));var s=r._shouldChangeView(n),l=!1;n.getTime()>r._focusedDate&&(l=!0),r._focusedDate=n,r._selectedDate=n,s&&(r._animationBegins(l),r._renderView(),r._animationEnds(l),r.trigger(W)),r._selectDateCell(n),r.trigger(R);break;case P:var d=parseInt(a.attr("data-value"),10);n=new Date(o.getFullYear(),d,o.getDate()),n.getDate()!=o.getDate()&&(n=new Date(o.getFullYear(),d+1,0)),r._focusedDate=n,r.options.view.depth==P?(r._selectedDate=n,r._selectDateCell(n),r.trigger(R)):(r._view=A,r._viewDepthAnimationBegins(),r._renderView(),r._viewDepthAnimationEnds(),r.trigger(z));break;case M:i=parseInt(a.attr("data-value"),10),n=new Date(i,o.getMonth(),o.getDate()),n.getDate()!=o.getDate()&&(n=new Date(i,o.getMonth()+1,0)),r._focusedDate=n,r.options.view.depth==M?(r._selectedDate=n,r._selectDateCell(n),r.trigger(R)):(r._view=P,r._viewDepthAnimationBegins(),r._renderView(),r._viewDepthAnimationEnds(),r.trigger(z));break;case I:i=parseInt(a.attr("data-value"),10),n=new Date(i,o.getMonth(),o.getDate()),n.getDate()!=o.getDate()&&(n=new Date(i,o.getMonth()+1,0)),r._focusedDate=n,r.options.view.depth==I?(r._selectedDate=n,r._selectDateCell(n),r.trigger(R)):(r._view=M,r._viewDepthAnimationBegins(),r._renderView(),r._viewDepthAnimationEnds(),r.trigger(z))}},_shouldChangeView:function(e){var t,n,i=this,r=i._focusedDate,a=!1,o=r.getFullYear(),s=e.getFullYear();switch(i._view){case A:(s!=o||e.getMonth()!=r.getMonth())&&(a=!0);break;case P:s!=o&&(a=!0);break;case M:t=o-o%10,n=t+10,(t>s||s>n)&&(a=!0);break;case I:t=o-o%100,n=t+100,(t>s||s>n)&&(a=!0)}return a},_selectTodayHandler:function(){var e=this,t=new Date,n=e._shouldChangeView(t),i=!1;if(e._enabled){var r=new Date(t.getFullYear(),t.getMonth(),t.getDate());r.getTime()>e._focusedDate&&(i=!0),e._selectedDate=e._focusedDate=r,e._view!=e.options.view.depth?(e._view=e.options.view.depth,e._viewDepthAnimationBegins(),e._renderView(),e._viewDepthAnimationEnds(),e.trigger(z)):n?(e._animationBegins(i),e._renderView(),e._animationEnds(i),e.trigger(W)):e._selectDateCell(e._focusedDate),e.trigger(R)}},_selectDateCell:function(t){var n=this,i=null;switch(n._view){case A:i=n._calendarTable.find(".sui-date:not('.sui-other-month')").filter(function(){var n=e(this).attr("data-value"),i=new Date(n);return i.getDate()==t.getDate()&&i.getMonth()==t.getMonth()&&i.getFullYear()==t.getFullYear()});break;case P:i=n._calendarTable.find(".sui-month").filter(function(){return e(this).attr("data-value")==t.getMonth()});break;case M:i=n._calendarTable.find(".sui-year").filter(function(){return e(this).attr("data-value")==t.getFullYear()});break;case I:i=n._calendarTable.find(".sui-years").filter(function(){var n=parseInt(e(this).attr("data-value"),10);return t.getFullYear()>=n&&t.getFullYear()<n+10})}n._calendarTable.find(".sui-selected").removeClass("sui-selected"),i.addClass("sui-selected")},_viewDepthAnimationBegins:function(){var e=this;if(!X("transition"))return void e._calendarTable.empty();e._enabled=!1;var t=e._calendarTable,n=!1;t.bind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){n=e._removeOldTable(t,e)}),setTimeout(function(){n||e._removeOldTable(t,e)},1e3),t.addClass("sui-fade-in"),e._renderTable()},_removeOldTable:function(e,t){return e.unbind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"),e.remove(),t._enabled=!0,!0},_viewDepthAnimationEnds:function(){X("transition")&&this._calendarTable.addClass("sui-scaling")},_changeViewDepthHandler:function(){var e=this,t=[A,P,M,I],n=jQuery.inArray(e._view,t);3>n&&e._enabled&&(e._view=t[n+1],e._viewDepthAnimationBegins(),e._renderView(),e._viewDepthAnimationEnds())},_movePrevMonth:function(){var e=this,t=e._focusedDate,n=(e._view,new Date(t.getFullYear(),t.getMonth()-1,t.getDate()));n.getDate()!=t.getDate()&&(n=new Date(t.getFullYear(),t.getMonth(),0)),e._focusedDate=n},_moveNextMonth:function(){var e=this,t=e._focusedDate,n=(e._view,new Date(t.getFullYear(),t.getMonth()+1,t.getDate()));n.getDate()!=t.getDate()&&(n=new Date(t.getFullYear(),t.getMonth()+2,0)),e._focusedDate=n},_movePrevYears:function(e){var t=this,n=t._focusedDate,i=(t._view,new Date(n.getFullYear()-e,n.getMonth(),n.getDate()));i.getMonth()!=n.getMonth()&&(i=new Date(n.getFullYear()-e,n.getMonth()+1,0)),t._focusedDate=i,t._calendarTable.empty()},_moveNextYears:function(e){var t=this,n=t._focusedDate,i=(t._view,new Date(n.getFullYear()+e,n.getMonth(),n.getDate()));i.getMonth()!=n.getMonth()&&(i=new Date(n.getFullYear()+e,n.getMonth()+1,0)),t._focusedDate=i,t._calendarTable.empty()},_animationBegins:function(t){var n=this,i="-";if(!X("transition"))return void n._calendarTable.empty();n._calendarTable.removeClass("sui-scaling"),n._tableWrapper=e("<div>").insertAfter(n.element.find(".sui-header")),n._tableWrapper.width(2*n.element.width()),n.element.find(".sui-calendar-view").appendTo(n._tableWrapper),n.element.parent().hasClass("sui-rtl")&&(t=!t,i="+"),n._renderTable(t),t||(n._tableWrapper.css("position","relative"),n._tableWrapper.css("left",i+n.element.width()+"px")),n._tableWrapper.addClass("sui-calendar-animation"),n._enabled=!1;var r=!1;n._tableWrapper.bind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){r=n._removeTempTables(n)}),setTimeout(function(){r||n._removeTempTables(n)},1e3)},_removeTempTables:function(e){return e._tempTable.remove(),e._calendarTable.insertAfter(e.element.find(".sui-header")),e._tableWrapper.unbind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"),e._tableWrapper.remove(),e._tableWrapper=null,e._enabled=!0,!0},_animationEnds:function(e){var t=this;if(X("transition")){var n=t.element.width();e&&(n=-1*n),t._tableWrapper.css("transform","translateX("+n+"px)")}},_moveView:function(e){var t=this;switch(t._animationBegins(e),t._view){case A:e?t._moveNextMonth():t._movePrevMonth(),t._createMonthView();break;case P:e?t._moveNextYears(1):t._movePrevYears(1),t._createYearsView();break;case M:e?t._moveNextYears(10):t._movePrevYears(10),t._createDecadeView();break;case I:e?t._moveNextYears(100):t._movePrevYears(100),t._createcenturyView()}t._animationEnds(e),t.trigger(W)},_disablePrev:function(e){var t=this,n=t.element.find(".sui-prev");e?(t.preventPrevNavigation=!0,n.addClass("sui-calendar-disabled")):(t.preventPrevNavigation=!1,n.removeClass("sui-calendar-disabled"))},_disableNext:function(e){var t=this,n=t.element.find(".sui-next");e?(t.preventNextNavigation=!0,n.addClass("sui-calendar-disabled")):(t.preventNextNavigation=!1,n.removeClass("sui-calendar-disabled"))},_movePrevHandler:function(){var e=this;!e.preventPrevNavigation&&e._enabled&&e._moveView(!1)},_moveNextHandler:function(){var e=this;!e.preventNextNavigation&&e._enabled&&e._moveView(!0)},_initializeHeader:function(){var t=this,n=t.options.labels;this._header=e('<div class="sui-header"><span unselectable="on"  title="'+n.previous+'" class="sui-prev"><span unselectable="on" class="sui-left-arrow"></span></span><span class="sui-text"></span><span unselectable="on" title="'+n.next+'" class="sui-next"><span unselectable="on" class="sui-right-arrow"></span></span></div>').appendTo(this.element)},_renderTable:function(t){var n=this,i=n.options,r="sui-calendar-view";i.hover&&i.enabled&&(r+=" sui-hoverable"),n._calendarTable?(n.element.find(".sui-calendar-view").off(B,n._calendarSelection),n._calendarSelection=null,t?(n._tempTable=n.element.find(".sui-calendar-view"),n._calendarTable=e("<table />").width(n.element.width()).addClass(r).insertAfter(n._tempTable)):(n._tempTable=n.element.find(".sui-calendar-view"),n._calendarTable=e("<table />").width(n.element.width()).addClass(r).insertBefore(n._tempTable))):n._calendarTable=e("<table />").width(n.element.width()).addClass(r).insertAfter(n.element.find(".sui-header")),!i.readOnly&&i.enabled&&n.element.find(".sui-calendar-view").on(B,n._calendarSelection=x(n._calendarSelectionHandler,n))},_render:function(){this._renderTable(),this._renderView()},_renderView:function(){var e=this;switch(e._view){case A:e._createMonthView();break;case P:e._createYearsView();break;case M:e._createDecadeView();break;case I:e._createcenturyView();break;default:e._createMonthView()}},_initializeFooter:function(){var t=this,n=t.options,i=n.footer.footerTemlpate,r=b(i)?i:function(e){return m(i,e)};e('<div class="sui-footer"><span class="sui-footer-text">'+r.call(t,new Date)+"</span></div>").appendTo(this.element)},_createMonthView:function(){var n=this,i=n.options,r=n._focusedDate,a=n._calendarTable,o=t.getCalendarInfo(),s=o.days,l=o.firstDay,d=o.months,u=s.namesShort,c=[],h=s.namesAbbr,p=s.names,f=i.min,g=i.max,v=i.dayTemplate,y=i.otherMonthDayTemplate,_=i.dateTooltipTemplate,x=i.outOfRangeDayTemplate,w=b(v)?v:function(e){return m(v,e)},C=b(y)?y:function(e){return m(y,e)},T=b(_)?_:function(e){return m(_,e)},k=b(x)?x:function(e){return m(x,e)},S=e("<thead />").appendTo(a),E=e("<tr />").addClass("sui-week-header").appendTo(S),D="",A=0;for(A=l;A<u.length;A++)c.push(u[A]);for(var P=0;l>P;P++)c.push(u[P]);for(var M=0;M<c.length;M++)c[M],D+="<th scope='col' abbr='"+h[M]+"' title='"+p[M]+"'>"+c[M]+"</th>";E.html(D);var I=e('<tbody class="sui-days"/>').appendTo(a),B=r.getFullYear(),L=r.getMonth(),N=new Date(B,L,1).getDay()-l,H=new Date(B,L+1,0).getDay()-l,O=new Date(B,L+1,0).getDate(),F=7;n._header.find(".sui-text").text(d.names[L]+" "+B),0>=N&&(N=7-(0===N?0:l),F=0);var R=-1*N+1,W=6-H+O+F,z=0,Y=null,V="";for(W-R>42&&(W-=7),35>W-R&&(W+=7),A=R;W>=A;A++){var j=new Date(B,L,A,0,0,0,0),G="sui-date",q=j.getTime()<f.getTime()||j.getTime()>g.getTime()?" sui-out-of-range":"",X=1>A||A>O?" sui-other-month":"",U=6==j.getDay()||0===j.getDay()?" sui-weekend":"",$=q||r.getDate()!=A||X?"":" sui-focused",Q=n._selectedDate&&j.getTime()==n._selectedDate.getTime()&&!X?" sui-selected":"",K=null;q?(K=k.call(n,{date:j,day:j.getDate()}),X="",U="",$="",Q="",G=""):X?(K=C.call(n,{date:j,day:j.getDate()}),""===K&&(X+=" sui-no-hover")):K=w.call(n,{date:j,day:j.getDate()}),V+="<td title='"+T.call(n,{date:j,day:j.getDate()})+"' data-value='"+j.getFullYear()+"/"+(j.getMonth()+1)+"/"+j.getDate()+"' class='"+G+X+U+$+Q+q+"'>"+K+"</td>",z++,7==z&&(Y=e('<tr role="row" />').appendTo(I),Y.html(V),z=0,V="")}var Z=new Date(B,L,1,0,0,0,0),J=new Date(B,L+1,0);Z.getTime()<=f.getTime()?n._disablePrev(!0):n.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&n._disablePrev(!1),J.getTime()>=g.getTime()?n._disableNext(!0):n.element.find(".sui-next").hasClass("sui-calendar-disabled")&&n._disableNext(!1)},_createYearsView:function(){var n=this,i=n.options,r=n._calendarTable,a=n._focusedDate,o=t.getCalendarInfo(),s=o.months,l=s.names,d=s.namesAbbr,u=e('<tbody class="sui-months"/>').appendTo(r),c=null,h="",p=i.min,f=i.max,g="",m=0;n._header.find(".sui-text").text(a.getFullYear());for(var v=0;v<d.length;v++){var y=new Date(a.getFullYear(),v,a.getDate(),0,0,0,0),b=a.getMonth()==v?" sui-focused":"";i.view.depth==P&&(g=n._selectedDate&&y.getTime()==n._selectedDate.getTime()?" sui-selected":"");var _="",x=l[v],w=d[v],C="sui-month";(y.getFullYear()<=p.getFullYear()&&y.getMonth()<p.getMonth()||y.getFullYear()>=f.getFullYear()&&y.getMonth()>f.getMonth())&&(_=" sui-out-of-range"),_&&(b="",g="",x=w="&nbsp;",C=""),h+="<td data-value='"+v+"' class='"+C+b+g+_+"' title='"+x+"'>"+w+"</td>",m++,4==m&&(c=e("<tr />").appendTo(u),c.html(h),m=0,h="")}a.getFullYear()<=p.getFullYear()?n._disablePrev(!0):n.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&n._disablePrev(!1),a.getFullYear()>=f.getFullYear()?n._disableNext(!0):n.element.find(".sui-next").hasClass("sui-calendar-disabled")&&n._disableNext(!1)},_createDecadeView:function(){var t=this,n=t.options,i=t._calendarTable,r=t._focusedDate,a=r.getFullYear(),o=a%10,s=e('<tbody class="sui-decade"/>').appendTo(i),l=null,d="",u=0,c=n.min,h=n.max,p=a-o-1,f="",g=a+(10-o);t._header.find(".sui-text").text(p+1+"-"+(g-1));for(var m=p;g>=m;m++){var v=new Date(m,r.getMonth(),r.getDate(),0,0,0,0),y=m==p||m==g?" sui-other-year":"",b=a==m?" sui-focused":"",_="",x=m,w="sui-year";(v.getFullYear()<c.getFullYear()||v.getFullYear()>h.getFullYear())&&(_=" sui-out-of-range"),n.view.depth==M&&(f=t._selectedDate&&v.getTime()==t._selectedDate.getTime()?" sui-selected":""),_&&(y="",b="",f="",w="",x="&nbsp;"),d+="<td data-value='"+x+"' class='"+w+y+b+f+_+"' title='"+x+"'>"+x+"</td>",u++,4==u&&(l=e("<tr />").appendTo(s),l.html(d),u=0,d="")}p<c.getFullYear()?t._disablePrev(!0):t.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&t._disablePrev(!1),g>h.getFullYear()?t._disableNext(!0):t.element.find(".sui-next").hasClass("sui-calendar-disabled")&&t._disableNext(!1)},_createcenturyView:function(){var t,n=this,i=n.options,r=n._calendarTable,a=n._focusedDate,o=a.getFullYear(),s=o%100,l=e('<tbody class="sui-decade"/>').appendTo(r),d=null,u="",c="",h=i.min,p=i.max,f=0,g=o-s-10,m=g+99+10+2;n._header.find(".sui-text").text(g+10+"-"+(m-2));for(var v=g;m>v;v+=10){var y=v==g||v==m-1?" sui-other-years":"",b=new Date(v,a.getMonth(),a.getDate(),0,0,0,0),_=new Date(v+10,a.getMonth(),a.getDate(),0,0,0,0),x="",w=o>=v&&v+10>o?" sui-focused":"",C="sui-years",T=v+" - "+(v+9),k=v;(b.getFullYear()<h.getFullYear()&&_.getFullYear()<=h.getFullYear()||b.getFullYear()>p.getFullYear())&&(x=" sui-out-of-range"),i.view.depth==I&&(c=n._selectedDate&&n._selectedDate.getFullYear()>=b.getFullYear()&&n._selectedDate.getFullYear()<b.getFullYear()+10?" sui-selected":""),x&&(y="",w="",c="",C="",t=k=T="&nbsp;"),u+="<td data-value='"+k+"' class='"+C+y+w+c+x+"' title='"+T+"'>"+T+"</td>",f++,4==f&&(d=e("<tr />").appendTo(l),d.html(u),f=0,u="")}g<h.getFullYear()?n._disablePrev(!0):n.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&n._disablePrev(!1),m>p.getFullYear()?n._disableNext(!0):n.element.find(".sui-next").hasClass("sui-calendar-disabled")&&n._disableNext(!1)},value:function(){var e=this,t=e.options,n=t.min,i=t.max,r=[].slice.call(arguments);if(!(r.length>0))return e._selectedDate;var a=r[0];if(null==a||""===a||E(a))e._selectedDate=null,e._focusedDate=t.focused;else{if(a.getTime()<n.getTime()||a.getTime()>i.getTime())return;e._focusedDate=e._selectedDate=new Date(a.getFullYear(),a.getMonth(),a.getDate())}e._calendarTable.empty(),e._renderView()},enabled:function(){var e=this,t=e.options,n=[].slice.call(arguments);if(!(n.length>0))return e._enabled;var i=n[0];i?(t.hover&&e._calendarTable.addClass("sui-hoverable"),e.element.removeClass("sui-calendar-disabled")):(e._calendarTable.removeClass("sui-hoverable"),e.element.addClass("sui-calendar-disabled")),e._enabled=i},previous:function(){var e=this;e.preventPrevNavigation||e._moveView(!1)},next:function(){var e=this;e.preventNextNavigation||e._moveView(!0)},view:function(){var e=this,t=[].slice.call(arguments);if(!(t.length>0))return e._view;var n=t[0];n!=e._view&&(e._view=n,e._calendarTable.empty(),e._renderView())},focused:function(){var e=this,t=[].slice.call(arguments);return t.length>0?(e._focusedDate=t[0],t.length>1&&e._view!=t[1]&&(e._view=t[1]),e._calendarTable.empty(),e._renderView(),void 0):e._focusedDate},visible:function(){var e=this,t=(e.options,[].slice.call(arguments));if(!(t.length>0))return e.element.hasClass("sui-hidden")||"none"==e.element.css("display")?!1:!0;var n=t[0];n?e.element.removeClass("sui-hidden"):e.element.addClass("sui-hidden")},destroy:function(){var t=this,n=t.options.cls,i=e(t.element);i.removeClass("sui-calendar sui-read-only sui-calendar-disabled"+(n?" "+n:"")),t._focusedDate=null,t._header=null,t._calendarTable=null,t._view=null,t._enabled=null,t._selectedDate=null,t._tempTable=null,t._tableWrapper=null,i.find(".sui-prev").off(B,t._movePrev),t._movePrev=null,i.find(".sui-next").off(B,t._moveNext),t._moveNext=null,i.find(".sui-text").off(B,t._changeViewDepth),t._changeViewDepth=null,i.find(".sui-footer").off(B,t._selectToday),t._selectToday=null,i.find(".sui-calendar-view").off(B,t._calendarSelection),t._calendarSelection=null,i.off(O,t._selectStart),t._selectStart=null,i.empty(),f.fn.destroy.call(t)}}),a.defaults=r,t.ui.plugin("Calendar",a),o={calendar:null,format:"{0:MM/dd/yyyy}",textTemplate:"{0:MM/dd/yyyy}",value:null,parseFormats:["MM/dd/yyyy"],openOnFocus:!1,showButton:!0,editable:!0,enabled:!0,messages:{calendarIconTooltip:"",buttonText:"select"},min:new Date(1900,0,1),max:new Date(2099,11,31),events:{}},s=f.extend({init:function(t){f.fn.init.apply(this,arguments);var n=this,i=n.options,r=i.value,a=i.showButton?"":" sui-no-button";k&&(a+=" sui-ie8");var o=e(i.isMonthYearPicker?"<span class='sui-monthyearpicker"+a+"' />":i.isTimePicker?"<span class='sui-timepicker"+a+"' />":i.isDateTimePicker?"<span class='sui-datetimepicker"+a+"' />":"<span class='sui-datepicker"+a+"' />");if(n._selectedDate=null,e(t).after(o),n._wrapper=o,n._visibleInput=e("<input class='sui-picker-input' type='text' />").appendTo(o),i.showButton){var s=i.messages.calendarIconTooltip;i.isTimePicker&&(s=i.messages.timeIconTooltip),n._iconWrapper=e("<span class='sui-icon-wrapper' unselectable='on' title='"+s+"' />").appendTo(o),e('<span class="sui-sprite sui-calendar-icon" unselectable="on">'+i.messages.buttonText+"</span>").appendTo(n._iconWrapper),i.isDateTimePicker&&(n._timeIconWrapper=e("<span class='sui-time-icon-wrapper' unselectable='on' title='"+i.messages.timeIconTooltip+"' />").appendTo(o),e('<span class="sui-sprite sui-time-icon" unselectable="on">'+i.messages.buttonText+"</span>").appendTo(n._timeIconWrapper))}e(t).css(G,q).appendTo(o),n._enabled=i.enabled,i.enabled||(o.addClass("sui-disabled"),n._visibleInput.on(H,n._visibleInputFocused=x(n._visibleInputFocusedHandler,n))),n._attachEvents(),r&&(D(r)&&(r=new Date(r)),n._selectedDate=i.isMonthYearPicker?new Date(r.getFullYear(),r.getMonth(),1):r,n._changeInputsValues(r))},_changeInputsValues:function(e){var t=this,n=t.options,i=n.format,r=n.textTemplate,a=b(i)?i:function(e){return m(i,e.date)};t.element.get(0).value=a.call(t,{date:e});var o=b(r)?r:function(e){return m(r,e.date)};t._visibleInput.get(0).value=o.call(t,{date:e}),t._selectedDate=n.isMonthYearPicker?new Date(e.getFullYear(),e.getMonth(),1):e},_attachEvents:function(){var t=this,n=t.options;n.showButton&&(n.isTimePicker?t._iconWrapper.on(B,t._toggleListBoxVisibility=x(t._toggleListBoxVisibilityHandler,t)):n.isDateTimePicker?(t._timeIconWrapper.on(B,t._toggleListBoxVisibility=x(t._toggleListBoxVisibilityHandler,t)),t._iconWrapper.on(B,t._toggleCalendarVisibility=x(t._toggleCalendarVisibilityHandler,t))):t._iconWrapper.on(B,t._toggleCalendarVisibility=x(t._toggleCalendarVisibilityHandler,t))),t._visibleInput.on(N,t._visibleInputKeyPress=x(t._visibleInputKeyPressHandler,t)),e(y).on(L+".shieldDatePicker"+t.getInstanceId(),x(t._hidePopupHandler,t)),t._visibleInput.on(H,t._visibleInputFocused=x(t._visibleInputFocusedHandler,t)),t._visibleInput.on(j,t._visibleInputBlured=x(t._visibleInputBluredHandler,t)),t._visibleInput.on(R,t._visibleInputChanged=x(t._visibleInputChangedHandler,t))},_visibleInputChangedHandler:function(){var e=this,t=e.options,n=t.format,i=t.min,r=t.max;if(e._enabled){e._selectedDate=v(e._visibleInput.get(0).value,t.parseFormats),e._selectedDate&&(e._selectedDate.getTime()>r||e._selectedDate.getTime()<i)&&(e._selectedDate=t.isTimePicker?new Date(i.getFullYear(),i.getMonth(),i.getDate(),e._selectedDate.getHours(),e._selectedDate.getMinutes(),e._selectedDate.getSeconds()):null),null!=e._selectedDate&&(e._selectedDate&&e.calendar&&e.calendar.value(e._selectedDate),e._selectedDate&&e.listBox&&e._selectValueInListBox(e._selectedDate));var a=b(n)?n:function(e){return m(n,e.date)};e.element.get(0).value=a.call(e,{date:e._selectedDate}),e.trigger(R)}},_visibleInputFocusedHandler:function(e){var t=this,n=t.options;return t._enabled?(t._wrapper.addClass(n.isMonthYearPicker?"sui-monthyearpicker-focus":n.isTimePicker?"sui-timepicker-focus":n.isDateTimePicker?"sui-datetimepicker-focus":"sui-datepicker-focus"),void(n.openOnFocus&&(t._shouldShowPopup||!t.calendar)&&(t._toggleCalendarVisibilityHandler(),t._shouldShowPopup=!1))):void e.target.blur()},_visibleInputBluredHandler:function(){var e=this,t=e.options,n=e._wrapper;n.removeClass(t.isMonthYearPicker?"sui-monthyearpicker-focus":t.isTimePicker?"sui-timepicker-focus":t.isDateTimePicker?"sui-datetimepicker-focus":"sui-datepicker-focus")},_visibleInputKeyPressHandler:function(e){var t=this,n=t.options;if(t._enabled){if(n.editable===!1)return e.preventDefault(),void e.stopPropagation();var i=e.keyCode||e.charCode;(13==i||9==i||27==i)&&(this._shouldShowPopup=!0,this.calendar.element.css(G)!=q&&(this.calendar.element.css(G,q),t.trigger(V)))}},_hidePopupHandler:function(t){var n,i=this;if(i.listBox){if(i._visibleInput.get(0)==t.target||i._iconWrapper&&i._iconWrapper.get(0)==t.target||i._iconWrapper&&i._iconWrapper.children(0).get(0)==t.target||i._timeIconWrapper&&i._timeIconWrapper.get(0)==t.target||i._timeIconWrapper&&i._timeIconWrapper.children(0).get(0)==t.target)return;i._popupIsOver?(n=i.listBox.element.parent().height(),i.listBox.element.parent().animate({height:0,top:i._visibleInput.offset().top},150,function(){e(this).css(G,q),e(this).css("height",n)})):i.listBox.element.parent().slideUp(150,function(){}),i._shouldShowPopup=!0}if(i.calendar){if(i._visibleInput.get(0)==t.target||i._iconWrapper&&i._iconWrapper.get(0)==t.target||i._iconWrapper&&i._iconWrapper.children(0).get(0)==t.target)return;i._popupIsOver?(n=i.calendar.element.height(),i.calendar.element.animate({height:0,top:i._visibleInput.offset().top},150,function(){e(this).css(G,q),e(this).css("height",n)})):i.calendar.element.slideUp(150,function(){}),i._shouldShowPopup=!0}},_toggleListBoxVisibilityHandler:function(){var e=this,t=e.options,n=t.listBox;e._enabled&&(e.listBox||(new U({listbox:n,parent:e,min:t.min,max:t.max,interval:t.interval,textTemplate:t.isDateTimePicker?t.timeFormat:t.textTemplate}),e.listBox.on(F,e._listBoxChange=x(e._listBoxChangeHandler,e)),e.listBox.element.on(L,e._popupMouseDown=x(e._popupMouseDownHandler,e)),e._selectedDate&&e._selectValueInListBox(e._selectedDate)),t.isDateTimePicker&&(e.calendar&&e.calendar.element.css(G)!=q&&(e.calendar.element.slideUp(150,function(){}),e._shouldShowPopup=!0),e._toggleTimePopup=!0),e._shouldShowPopup?e._showPopup():e._hidePopup(),e._shouldShowPopup=e._shouldShowPopup?!1:!0)},_listBoxChangeHandler:function(n){var i=this;if(i.options.isDateTimePicker){var r=i._selectedDate,a=n.item;r?i._selectedDate=new Date(r.getFullYear(),r.getMonth(),r.getDate(),a.getHours(),a.getMinutes(),a.getSeconds()):(r=new Date,i._selectedDate=new Date(r.getFullYear(),r.getMonth(),r.getDate(),a.getHours(),a.getMinutes(),a.getSeconds()))}else i._selectedDate=n.item;var o=i.options,s=o.isDateTimePicker?t.format(o.timeFormat,i._selectedDate):t.format(o.textTemplate,i._selectedDate),l=i.listBox.element.find(".sui-listbox-item"),d=0;for(d;d<l.length;d++)if(l[d].innerHTML==s){i._selectedElement=e(l[d]);break}i._changeInputsValues(i._selectedDate),i._hidePopup(),i._shouldShowPopup=!0,i.trigger(R)},_toggleCalendarVisibilityHandler:function(){var n=this,i=n.options,r=i.calendar;n._enabled&&(n.calendar||(t.ui.Calendar&&(_.object(r)&&r instanceof t.ui.Calendar?n.calendar=r:(n._wrapper.parent().hasClass("sui-rtl")?(n._calendarWrapper=e("<div style='display: none;' />").appendTo(y.body),n._calendarWrapper.wrap("<span class='sui-rtl'></span>")):n._calendarWrapper=e("<div style='display: none;' />").appendTo(y.body),n.calendar=new t.ui.Calendar(n._calendarWrapper,S({},r,{min:i.min,max:i.max}))),n._shouldShowPopup=!0),n.calendar.on(R,n._calendarChange=x(n._calendarChangeHandler,n)),n.calendar.element.on(L,n._popupMouseDown=x(n._popupMouseDownHandler,n)),n._selectedDate&&n.calendar.value(n._selectedDate)),i.isDateTimePicker&&(n.listBox&&n.listBox.element.parent().css(G)!=q&&(n.listBox.element.parent().slideUp(150,function(){}),n._shouldShowPopup=!0),n._toggleTimePopup=!1),n._shouldShowPopup?n._showPopup():n._hidePopup(),n._shouldShowPopup=n._shouldShowPopup?!1:!0)},_calendarChangeHandler:function(){var e,t=this,n=t.options;n.isMonthYearPicker?(e=t.calendar.value(),t._selectedDate=new Date(e.getFullYear(),e.getMonth(),1)):n.isDateTimePicker?(e=t.calendar.value(),t._selectedDate=t._selectedDate?new Date(e.getFullYear(),e.getMonth(),e.getDate(),t._selectedDate.getHours(),t._selectedDate.getMinutes(),t._selectedDate.getSeconds()):t.calendar.value()):t._selectedDate=t.calendar.value(),t._changeInputsValues(t._selectedDate),t._hidePopup(),t._shouldShowPopup=!0,t.trigger(R)},_calculateLeftOffsetWhenRtl:function(){var e,t=this,n=t.options,i=(t._wrapper.offset(),0);return n.isTimePicker||n.isDateTimePicker&&t._toggleTimePopup?(e=t._visibleInput.offset().left-(t.listBox.element.parent().width()-t._visibleInput.width()),e>0&&(i=e)):(e=t._visibleInput.offset().left-(t.calendar.element.width()-t._visibleInput.width()),e>0&&(i=e)),i},_showPopup:function(){var t,i=this,r=i.options,a=i._wrapper.offset(),o=a.top-e(y).scrollTop(),s=i._wrapper.height(),l=e(n).height(),d=a.top+s,u=a.left;i._wrapper.parent().hasClass("sui-rtl")&&(u=i._calculateLeftOffsetWhenRtl()),t=r.isTimePicker||r.isDateTimePicker&&i._toggleTimePopup?i.listBox.element.parent().height():i.calendar.element.height(),t+o+s>l?d=a.top-t-1:d++,(0>d||e(y).scrollTop()>d)&&(d=a.top+s+1),i._popupIsOver=i._visibleInput.offset().top>d?!0:!1,r.isTimePicker||r.isDateTimePicker&&i._toggleTimePopup?i._popupIsOver?(i.listBox.element.parent().css({position:"absolute",zIndex:10002,top:d+t,left:u,height:0,display:""}),i.listBox.element.parent().animate({height:t,top:d+2},150)):(i.listBox.element.parent().css({position:"absolute",top:d,left:u,zIndex:10002}),i.listBox.element.parent().slideDown(150,function(){if(i._selectedElement){var e=Math.abs(i._selectedElement.get(0).offsetTop),t=i._selectedElement.parent().scrollTop();e>i._selectedElement.parent().get(0).scrollTopMax&&(e=i._selectedElement.parent().get(0).scrollTopMax),t+i.listBox.element.height()>e&&e>t||i.listBox.element.scrollTop(e)}})):i._popupIsOver?(i.calendar.element.css({position:"absolute",zIndex:10002,top:d+t,left:u,height:0,display:""}),i.calendar.element.animate({height:t,top:d},150)):(i.calendar.element.css({position:"absolute",zIndex:10002,top:d,left:u}),i.calendar.element.slideDown(150,function(){})),i.trigger(Y)},_hidePopup:function(){var t,n=this,i=n.options;i.isTimePicker||i.isDateTimePicker&&n._toggleTimePopup?n.listBox&&n.listBox.element.parent().css(G)!=q&&(n._popupIsOver?(t=n.listBox.element.parent().height(),n.listBox.element.parent().animate({height:0,top:n._visibleInput.offset().top},150,function(){e(this).css(G,q),e(this).css("height",t)})):n.listBox.element.parent().slideUp(150,function(){})):n.calendar&&n.calendar.element.css(G)!=q&&(n._popupIsOver?(t=n.calendar.element.height(),n.calendar.element.animate({height:0,top:n._visibleInput.offset().top},150,function(){e(this).css(G,q),e(this).css("height",t)})):n.calendar.element.slideUp(150,function(){})),n.trigger(V)},_popupMouseDownHandler:function(e){e.preventDefault(),e.stopPropagation()},_selectValueInListBox:function(n){var i=this;if(i.listBox){var r,a=i.options,o=a.isDateTimePicker?t.format(a.timeFormat,n):t.format(a.textTemplate,n),s=i.listBox.element.find(".sui-listbox-item");for(r=0;r<s.length;r++)if(s[r].innerHTML==o){i._selectedElement=e(s[r]);
break}i.listBox.selected(r,!0)}},enabled:function(){var e=this,t=(e.options,[].slice.call(arguments));if(!(t.length>0))return e._enabled;var n=t[0];e._enabled=n,n?(e._visibleInputFocused&&(e._visibleInput.off(H,e._visibleInputFocused),e._visibleInputFocused=null),e._wrapper.removeClass("sui-disabled")):(e._wrapper.addClass("sui-disabled"),e._visibleInput.on(H,e._visibleInputFocused=x(e._visibleInputFocusedHandler,e)))},visible:function(){var e=this,t=(e.options,[].slice.call(arguments));if(!(t.length>0))return e._wrapper.hasClass("sui-hidden")||"none"==e._wrapper.css("display")?!1:!0;var n=t[0];n?e._wrapper.removeClass("sui-hidden"):e._wrapper.addClass("sui-hidden")},focus:function(){e(this._visibleInput).focus()},value:function(){var e=this,t=e.options,n=t.min,i=t.max,r=[].slice.call(arguments);if(!(r.length>0))return e._selectedDate;var a=r[0];return null==a||""===a||E(a)?(e._visibleInput.get(0).value="",e._selectedDate=null,e.calendar&&e.calendar.value(null),void((t.isTimePicker||t.isDateTimePicker)&&e.listBox&&e.listBox.clearSelection())):void((t.isTimePicker||!(a.getTime()<n.getTime()||a.getTime()>i.getTime()))&&(e._changeInputsValues(a),e.calendar&&e.calendar.value(a),e._selectedDate=a,(t.isTimePicker||t.isDateTimePicker)&&e._selectValueInListBox(a)))},close:function(){var e=this,t=[].slice.call(arguments);e.options.isDateTimePicker?t.length>0&&("calendar"==t[0]&&(e._shouldShowPopup=!1,e._toggleCalendarVisibilityHandler()),"timeview"==t[0]&&(e._shouldShowPopup=!1,e._toggleListBoxVisibilityHandler())):(e._shouldShowPopup=!1,e._toggleCalendarVisibilityHandler())},open:function(){var e=this,t=[].slice.call(arguments);e.options.isDateTimePicker?t.length>0&&("calendar"==t[0]&&(e._shouldShowPopup=!0,e._toggleCalendarVisibilityHandler()),"timeview"==t[0]&&(e._shouldShowPopup=!0,e._toggleListBoxVisibilityHandler())):(e._shouldShowPopup=!0,e._toggleCalendarVisibilityHandler())},destroy:function(){var t=this;t.options.isTimePicker?(t._iconWrapper.off(B,t._toggleListBoxVisibility),t._toggleListBoxVisibility=null):t.options.isDateTimePicker?(t._iconWrapper.off(B,t._toggleListBoxVisibility),t._toggleListBoxVisibility=null,t._timeIconWrapper=null,t._iconWrapper.off(B,t._toggleCalendarVisibility),t._toggleCalendarVisibility=null):(t._iconWrapper.off(B,t._toggleCalendarVisibility),t._toggleCalendarVisibility=null),t._iconWrapper=null,t._popupIsOver=null,e(y).off(L+".shieldDatePicker"+t.getInstanceId()),e(t.element).css(G,"").insertAfter(t._wrapper),t._wrapper.remove(),t._wrapper=null,t._destroyCalendar(),t._destroyListBox(),t._shouldShowPopup=null,t._visibleInput.off(H,t._visibleInputFocused),t._visibleInput.off(R,t._visibleInputChanged),t._visibleInput.off(j,t._visibleInputBlured),t._visibleInputFocused=null,t._visibleInputChanged=null,t._visibleInputBlured=null,t._visibleInput=null,t._selectedDate=null,t._enabled=null,f.fn.destroy.call(t)},_destroyCalendar:function(){var e=this;e.calendar&&(e.calendar.off(R,e._calendarChange),e._calendarChange=null,e.calendar.element.off(L,e._popupMouseDown),e._popupMouseDown=null,e.calendar.destroy(),e.calendar=null,e._calendarWrapper&&e._calendarWrapper.remove())},_destroyListBox:function(){var e=this;e.listBox&&(e._selectedElement=null,e.listBox.off(R,e._listBoxChange),e._listBoxChange=null,e.listBox.destroy(),e.listBox=null,e._listBoxWrapper&&(e._listBoxWrapper.remove(),e._listBoxWrapper=null))}}),s.defaults=o,t.ui.plugin("DatePicker",s),d=S({},o,{isMonthYearPicker:!0,calendar:{view:{depth:P,start:P}},format:"{0:MMMM yyyy}",textTemplate:"{0:MMMM yyyy}",parseFormats:["MMMM yyyy"]}),l=s.extend({init:function(e,t){t&&(t.isMonthYearPicker=!0),s.prototype.init.call(this,e,t)}}),l.defaults=d,t.ui.plugin("MonthYearPicker",l),c=S({},o,{isTimePicker:!0,listBox:null,format:"{0:h:mm tt}",textTemplate:"{0:h:mm tt}",parseFormats:["h:mm tt"],interval:30,min:new Date(1900,0,1,0,0,0),max:new Date(1900,0,1,0,0,0),messages:{timeIconTooltip:"",buttonText:"select"}}),u=s.extend({init:function(e,t){t&&(t.isTimePicker=!0),s.prototype.init.call(this,e,t)}}),u.defaults=c,t.ui.plugin("TimePicker",u),p=S({},o,{isDateTimePicker:!0,listBox:null,format:"{0:MM/dd/yyyy h:mm tt}",textTemplate:"{0:MM/dd/yyyy h:mm tt}",parseFormats:["MM/dd/yyyy h:mm tt"],interval:30,min:new Date(1900,0,1,0,0,0),max:new Date(2099,11,31,0,0,0),messages:{calendarIconTooltip:"",timeIconTooltip:"",buttonText:"select"},timeFormat:"{0:h:mm tt}"}),h=s.extend({init:function(e,t){t&&(t.isDateTimePicker=!0),s.prototype.init.call(this,e,t)}}),h.defaults=p,t.ui.plugin("DateTimePicker",h)}(jQuery,shield,this),!function(e,t,n){"use strict";var i=t.ui.Widget,r=t.Class,a=document,o=t.is,s=(t.get,t.format,t.to["int"]),l=(Math.abs,e.each,e.proxy),d=(e.extend,e.map,o.undefined),u=n.opera,c=navigator.userAgent,h=/msie/i.test(c)&&!u,p=(h&&7===a.documentMode,"keydown"),f="click",g="mousedown",m="change",v="select",y="cancel",b="display",_="none",x={palette:"basic",basicPalette:{columns:10,tileSize:{width:16,height:16},tileBorderWidth:0,palette:["#FFFFFF","#FFCCCC","#FFCC99","#FFFF99","#FFFFCC","#99FF99","#99FFFF","#CCFFFF","#CCCCFF","#FFCCFF","#CCCCCC","#FF6666","#FF9966","#FFFF66","#FFFF33","#66FF99","#33FFFF","#66FFFF","#9999FF","#FF99FF","#BBBBBB","#FF0000","#FF9900","#FFCC66","#FFFF00","#33FF33","#66CCCC","#33CCFF","#6666CC","#CC66CC","#999999","#CC0000","#FF6600","#FFCC33","#FFCC00","#33CC00","#00CCCC","#3366FF","#6633FF","#CC33CC","#666666","#990000","#CC6600","#CC9933","#999900","#009900","#339999","#3333FF","#6600CC","#993399","#333333","#660000","#993300","#996633","#666600","#006600","#336666","#000099","#333399","#663366","#000000","#330000","#663300","#663333","#333300","#003300","#003333","#000066","#330099","#330033"]},advancedPalette:{type:"hex",buttons:!0,messages:{apply:"Apply",cancel:"Cancel"}},displayInline:!1,showLetter:!1,value:""},w=i.extend({init:function(t,n){i.fn.init.apply(this,arguments);var r,o=this,s=o.options;if(arguments.length>1&&(n=arguments[1],n.basicPalette&&n.basicPalette.palette&&(s.basicPalette.palette=n.basicPalette.palette)),o.element.css(b,_),o._enabled=!0,o.currentColor=new T({color:s.value}),s.displayInline)o._buildPalette();else{if(o._picker=r=e('<span class="sui-color-picker-dropdown" tabindex="0"><span class="sui-color-cell sui-unselectable" unselectable="on">&nbsp;</span><span class="sui-caret-container sui-unselectable" unselectable="on"><span class="sui-caret" unselectable="on"></span></span></span>').insertAfter(o.element),s.showLetter){var d=r.find(".sui-color-cell");e('<span class="sui-tool-letter">A<span class="sui-selected-color"></span></span>').appendTo(d),r.find(".sui-selected-color").css("background-color",o.currentColor.color.cssa())}else r.find(".sui-color-cell").css("background-color",o.currentColor.color.cssa());r.on(f,o._pickerClicked=l(o._pickerClickedHandler,o)),e(a).on(g+".shieldColorPicker"+o.getInstanceId(),l(o._hidePopup,o))}o._oldColor=o.currentColor.color.cssa?o.currentColor.color.cssa():o.currentColor.color.toRGB().cssa()},_buildPalette:function(){var e=this;"basic"==e.options.palette?e._buildBasicPalette():(e._buildAdvancedPalette(),e._changeAdvancedPaletteColor())},_changeAdvancedPaletteColor:function(){var e=this,t=e.currentColor.color.toHSV();e.wrapperDiv&&(e._hue=t.hue,e._isHsl?(t=e.currentColor.color.toHSL(),e._XY(e,{pointer:e.wrapperDiv.find(".sui-color-palette .pointer").get(0),x:t.hue,y:1-t.saturation}),e._Z(e,1-t.lightness,e.wrapperDiv.find(".sui-color-scale .pointer").get(0))):(e._XY(e,{pointer:e.wrapperDiv.find(".sui-color-palette .pointer").get(0),x:t.saturation,y:1-t.value}),e._Z(e,t.hue,e.wrapperDiv.find(".sui-color-scale .pointer").get(0))))},_pickerClickedHandler:function(){var e=this;e.wrapperDiv||e._buildPalette(),e._showPopup()},_showPopup:function(){var t=this,i=t._picker.offset(),r=i.top-e(a).scrollTop(),o=t._picker.height(),s=e(n).height();if("advanced"===t.options.palette&&(t._oldColor=t.currentColor.color.cssa?t.currentColor.color.cssa():t.currentColor.color.toRGB().cssa()),!t.wrapperDiv||t.wrapperDiv.css(b)==_){t._popupIsOver=!1;var l=i.top+o+1,d=i.left,u=t.wrapperDiv.height();u+r+o>s?l=i.top-u-1:l++,(0>l||e(a).scrollTop()>l)&&(l=i.top+o+1),t._popupIsOver=i.top>l?!0:!1,t.wrapperDiv||this._buildPalette(),t._popupIsOver?(t.wrapperDiv.css({position:"absolute",zIndex:10002,top:l+u,left:d,height:0,display:""}),t.wrapperDiv.animate({height:u,top:l},150)):(t.wrapperDiv.css({position:"absolute",zIndex:10002,top:l-1,left:d}),t.wrapperDiv.slideDown(150,function(){}))}},_hidePopup:function(t){var n,i=this,r=i.options,a=e(t.target);if(("basic"==r.palette||!(a.hasClass("sui-colorpicker")||a.parents(".sui-colorpicker").length>0))&&i.wrapperDiv&&i.wrapperDiv.css(b)!=_){if("basic"===r.palette){var o=i._picker.find(".sui-tool-letter > .sui-selected-color");0===o.length&&(o=i._picker.find(".sui-color-cell")),o.css("background-color",i.currentColor.color.css())}i._popupIsOver?(n=i.wrapperDiv.height(),i.wrapperDiv.animate({height:0,top:i._picker.offset().top},150,function(){e(this).css(b,_),e(this).css("height",n)})):i.wrapperDiv.slideUp(150,function(){});var s;s=i.currentColor.color.cssa?i.currentColor.color.cssa():i.currentColor.color.toRGB().cssa(),"basic"!=r.palette&&(r.advancedPalette.buttons?s!==i._oldColor&&(i.currentColor=new T({color:i._oldColor}),setTimeout(function(){i._update(),i.trigger(y)},200)):(i._changeSelectedColorCell(),i.trigger(m)))}},_buildBasicPalette:function(){var t,n=this,i=n.options,r=i.basicPalette,o=r.palette,d=r.tileSize,u=0,c=e("<div class='sui-colorpicker sui-colorpicker-basic-palette'/>");t=i.displayInline?c.insertAfter(n.element):c.appendTo(a.body).css(b,_);for(var h=0;h<o.length;h++)e("<div class='sui-palette-tile'/>").css({backgroundColor:o[h],width:d.width,height:d.height,borderWidth:r.tileBorderWidth,margin:"0 "+r.tileBorderWidth+"px "+r.tileBorderWidth+"px 0"}).on(g,n._tileClicked=l(n._tileClickedHandler,n)).appendTo(t).addClass(n.currentColor.color.hex().toUpperCase()==o[h].toUpperCase()?"sui-palette-tile-selected":"");u=r.columns*s(d.width)+r.columns*r.tileBorderWidth,t.css("width",u+"px"),n.wrapperDiv=t},_tileClickedHandler:function(t){var n=this;if(n._enabled){n.wrapperDiv.find(".sui-palette-tile-selected").removeClass("sui-palette-tile-selected"),e(t.target).addClass("sui-palette-tile-selected");var i=e(t.target).css("background-color");n.currentColor=new T({color:i}),n.trigger(v)}},_buildAdvancedPalette:function(){var n,i,r,o=this,s=o.options;r=s.displayInline?e("<div />").insertAfter(o.element).addClass("sui-colorpicker"):e("<div />").appendTo(a.body).addClass("sui-colorpicker").css(b,_),o.wrapperDiv=r,i=e("<div class='sui-hex-wrapper' />").appendTo(r),o.colorDiv=e("<div class='sui-color-div' />").appendTo(i),o.colorInput="hsl"==s.advancedPalette.type?e("<input class='sui-alpha-input' />").appendTo(i):e("<input class='sui-hex-input' />").appendTo(i),o.colorInput.on(p,o._colorInputKeyDown=l(o._colorInputKeyDownHandler,o));var d="<div class='sui-color-palette'><div class='pointer'><div class='shape shape1'></div><div class='shape shape2'></div></div><div class='bg bg1'></div><div class='bg bg2'></div></div><div class='sui-color-scale'><div class='pointer'><div class='shape'></div></div><div class='bg'></div></div>";e(d).appendTo(r);var u=new C({twod:r.find(".sui-color-palette").get(0),pointer:r.find(".sui-color-palette .pointer").get(0),oned:r.find(".sui-color-scale").get(0),isXYslider:!0,cbs:{begin:o._changeXY,change:o._changeXY,end:o._done}},o);o.xy=u;var c=new C({twod:r.find(".sui-color-palette").get(0),pointer:r.find(".sui-color-scale .pointer").get(0),oned:r.find(".sui-color-scale").get(0),isXYslider:!1,cbs:{begin:o._changeZ,change:o._changeZ,end:o._done}},o);if(o.z=c,"rgb"==s.advancedPalette.type){n="<div class='extras'/>";var h=e(n).appendTo(r);e("<span class='sui-r-text'>R:</span>").appendTo(h),o.rInput=e("<input class='sui-r-input' />").appendTo(h),o._rInputKeyDown=l(o._rInputKeyDownHandler,o),e("<span class='sui-g-text'>G:</span>").appendTo(h),o.gInput=e("<input class='sui-g-input' />").appendTo(h),o._gInputKeyDown=l(o._gInputKeyDownHandler,o),e("<span class='sui-b-text'>B:</span>").appendTo(h),o.bInput=e("<input class='sui-b-input' />").appendTo(h),o._bInputKeyDown=l(o._bInputKeyDownHandler,o),t.ui.NumericTextBox&&(o.rInput=new t.ui.NumericTextBox(o.rInput,{min:0,max:255,step:.01,spinners:!1,cls:"rgbInputs",events:{change:o._rInputKeyDown}}),o.gInput=new t.ui.NumericTextBox(o.gInput,{min:0,max:255,step:.01,spinners:!1,cls:"rgbInputs",events:{change:o._gInputKeyDown}}),o.bInput=new t.ui.NumericTextBox(o.bInput,{min:0,max:255,step:.01,spinners:!1,cls:"rgbInputs",events:{change:o._bInputKeyDown}}))}if("hsl"==s.advancedPalette.type){o._isHsl=!0,n="<div class='sui-transparent-slider'><div class='sui-color-scale alpha'><div class='pointer' style='top: 0%;'><div class='shape'></div></div><div class='bg'></div></div></div>",r.addClass("sui-hsl"),e(n).appendTo(r);var f=new C({twod:r.find(".alpha").get(0),pointer:r.find(".alpha .pointer").get(0),oned:r.find(".alpha").get(0),isXYslider:!1,cbs:{begin:o._changeA,change:o._changeA,end:o._done}},o);o.a=f}s.advancedPalette.buttons&&o._buildButtons()},_buildButtons:function(){var n=this,i=this.options.advancedPalette.messages,r=e("<div class='sui-buttons-wrapper' />").appendTo(this.wrapperDiv);if(t.ui.Button){var a=e("<button type='button'>"+i.apply+"</button>").appendTo(r),o=new t.ui.Button(a,{cls:"sui-apply",events:{click:l(n._applyHandler,this)}});n._applyButton=o;var s=e("<button type='button'>"+i.cancel+"</button>").appendTo(r),d=new t.ui.Button(s,{cls:"sui-cancel",events:{click:l(n._cancelHandler,this)}});n._cancelButton=d}},_applyHandler:function(e){var t=this;t._oldColor=t.currentColor.color.cssa?t.currentColor.color.cssa():t.currentColor.color.toRGB().cssa(),t._changeSelectedColorCell(),t.options.displayInline||t._hidePopup(e),t.trigger(m)},_changeSelectedColorCell:function(){var e,t=this,n=t.options,i=t._picker;e=t.currentColor.color.cssa?t.currentColor.color.cssa():t.currentColor.color.toRGB().cssa(),n.displayInline||(n.showLetter?i.find(".sui-selected-color").css("background-color",e):i.find(".sui-color-cell").css("background-color",e))},_cancelHandler:function(e){var t=this;t.options.displayInline?(t.currentColor=new T({color:t._oldColor}),setTimeout(function(){t._update(),t.trigger(y)},200)):t._hidePopup(e)},_update:function(){var e,t=this,n=t._shouldUpdateMainInput,i=t._shouldUpdateRgbInputs;t._isHsl?(e=t.currentColor.color.toHSL(),t._XY(t,{pointer:t.wrapperDiv.find(".sui-color-palette .pointer").get(0),x:e.hue,y:1-e.saturation}),t._shouldUpdateMainInput=n,t._Z(t,1-e.lightness,t.wrapperDiv.find(".sui-color-scale .pointer").get(0)),t.Y(t.wrapperDiv.find(".alpha .pointer").get(0),(1-e.alpha).toFixed(2))):(e=t.currentColor.color.toHSV(),t._XY(t,{pointer:t.wrapperDiv.find(".sui-color-palette .pointer").get(0),x:e.saturation,y:1-e.value}),t._shouldUpdateMainInput=n,t._shouldUpdateRgbInputs=i,t._Z(t,e.hue,t.wrapperDiv.find(".sui-color-scale .pointer").get(0)))},_rInputKeyDownHandler:function(e){var t=this;setTimeout(function(){var n=e.value;t.currentColor.color.red=parseFloat(n)/255,t._shouldUpdateRgbInputs=!1,t._update(),t.trigger(v)},1)},_gInputKeyDownHandler:function(e){var t=this;setTimeout(function(){var n=e.value;t.currentColor.color.green=parseFloat(n)/255,t._shouldUpdateRgbInputs=!1,t._update(),t.trigger(v)},1)},_bInputKeyDownHandler:function(e){var t=this;setTimeout(function(){var n=e.value;t.currentColor.color.blue=parseFloat(n)/255,t._shouldUpdateRgbInputs=!1,t._update(),t.trigger(v)},1)},_colorInputKeyDownHandler:function(e){var t=this;e.ctrlKey||setTimeout(function(){var n=e.currentTarget,i=n.value,r=t.currentColor;t.currentColor=new T({color:i}),o.object(t.currentColor.color)?(t._shouldUpdateRgbInputs=!0,t._shouldUpdateMainInput=!1,t._update()):t.currentColor=r,t.trigger(v)},1)},_changeA:function(e,t){e.colorPicker._enabled&&(e.colorPicker.colorInput.val("rgba(0,0,0,1)"),e.colorPicker._A(e.colorPicker,e.colorPicker.clamp(t.y,0,1),e.colorPicker.a.pointer))},_changeZ:function(e,t){e.colorPicker._enabled&&(e.colorPicker.colorInput.val(e.colorPicker._isHsl?"rgba(0,0,0,1)":"#000000"),e.colorPicker._Z(e.colorPicker,e.colorPicker.clamp(t.y,0,1),e.colorPicker.z.pointer),e.colorPicker.trigger(v))},_changeXY:function(e,t){e.colorPicker._enabled&&(e.colorPicker.colorInput.val(e.colorPicker._isHsl?"rgba(0,0,0,1)":"#000000"),e.colorPicker._XY(e.colorPicker,{x:e.colorPicker.clamp(t.x,0,1),y:e.colorPicker.clamp(t.y,0,1),pointer:t.pointer},e.colorPicker.xy),e.colorPicker.X(t.pointer,t.x),e.colorPicker.Y(t.pointer,t.y),e.colorPicker.trigger(v))},_XY:function(e,t){var n,i=this;if(e._enabled){if(e.X(t.pointer,t.x),e.Y(t.pointer,t.y),i._isHsl){n=e.currentColor.color.toHSL?e.currentColor.color.toHSL():e.currentColor.color,n.hue=t.x,n.saturation=1-t.y;var r=n.lightness;n.lightness=.5,i.wrapperDiv.find(".sui-color-scale").css("background-color",n.toRGB().cssa()),n.lightness=r}else n=e.currentColor.color.toHSV(),t.x>1&&(t.x=1),t.x<0&&(t.x=0),t.y<0&&(t.y=0),t.y>1&&(t.y=1),n.saturation=t.x,n.value=1-t.y,0===n.hue&&(n.hue=i._hue);var a=n.toRGB(),o=e.colorInput.val();o!=a.hex()&&(i._shouldUpdateMainInput?(o.length>4||0===o.length)&&e.colorInput.val(i._isHsl?a.cssa():a.hex()):i._shouldUpdateMainInput=!0),e.rInput&&(i._shouldUpdateRgbInputs?(e.rInput.value((255*a.red).toFixed(2)),e.gInput.value((255*a.green).toFixed(2)),e.bInput.value((255*a.blue).toFixed(2))):i._shouldUpdateRgbInputs=!0),e.colorDiv.get(0).style.background=a.cssa(),e.currentColor.color=a}},_Z:function(e,t,n){var i,r=this,a=e.colorInput.val();if(r._isHsl)i=e.currentColor.color.toHSL?e.currentColor.color.toHSL():e.currentColor.color,e.Y(n,t),i.lightness=1-t,e.colorDiv.get(0).style.background=i.toRGB().cssa(),e.currentColor.color=i,a!=i.toRGB().hex()&&(r._shouldUpdateMainInput?(a.length>4||0===a.length)&&e.colorInput.val(r._isHsl?i.toRGB().cssa():i.toRGB().hex()):r._shouldUpdateMainInput=!0);else{i=e.currentColor.color.toHSV(),e.Y(n,t),e._rgbBg(e,e.wrapperDiv.find(".sui-color-palette").get(0),t),r._hue=i.hue=t;var o=i.toRGB();a!=o.hex()&&(a.length>4||0===a.length)&&e.colorInput.val(r._isHsl?o.cssa():o.hex()),e.rInput&&(r._shouldUpdateRgbInputs?(e.rInput.value((255*o.red).toFixed(2)),e.gInput.value((255*o.green).toFixed(2)),e.bInput.value((255*o.blue).toFixed(2))):r._shouldUpdateRgbInputs=!0),e.colorDiv.get(0).style.background=o.cssa(),e.currentColor.color=o}},_A:function(e,t,n){var i,r=this,a=e.colorInput.val();i=e.currentColor.color.toHSL?e.currentColor.color.toHSL():e.currentColor.color,e.Y(n,t),i.alpha=(1-t).toFixed(2),e.colorDiv.get(0).style.background=i.toRGB().cssa(),e.currentColor.color=i,a!=i.toRGB().hex()&&(r._shouldUpdateMainInput?(a.length>4||0===a.length)&&(e.colorInput.val(i.toRGB().cssa()),r.trigger(v)):r._shouldUpdateMainInput=!0)},_rgbBg:function(e,t,n){var i=new T({}).HSV(n,1,1).toRGB().cssa();e.BG(t,i)},clamp:function(e,t,n){return Math.min(Math.max(e,t),n)},X:function(e,t){e.style.left=this.clamp(100*t,0,100)+"%"},Y:function(e,t){e.style.top=this.clamp(100*t,0,100)+"%"},BG:function(e,t){e.style.background=t},_done:function(){},enabled:function(){var e=this,t=(e.options,[].slice.call(arguments));if(!(t.length>0))return e._enabled;var n=t[0];n?(e._picker&&e._picker.removeClass("sui-colorpicker-disabled"),e.wrapperDiv&&e.wrapperDiv.removeClass("sui-colorpicker-disabled")):(e._picker&&e._picker.addClass("sui-colorpicker-disabled"),e.wrapperDiv&&e.wrapperDiv.addClass("sui-colorpicker-disabled")),e._applyButton&&e._applyButton.enabled(n),e._cancelButton&&e._cancelButton.enabled(n),n?(e.colorInput&&e.colorInput.removeAttr("readonly"),e.rInput&&(e.rInput.enable(!0),e.gInput.enable(!0),e.bInput.enable(!0))):(e.colorInput&&e.colorInput.attr("readonly","readonly"),e.rInput&&(e.rInput.enable(!1),e.gInput.enable(!1),e.bInput.enable(!1))),e._enabled=n},value:function(){var t,n=this,i=n.options,r=[].slice.call(arguments);if(!(r.length>0))return t=n.currentColor.color,t.css||(t=t.toRGB()),t;if(t=r[0],n.currentColor=new T({color:t}),"basic"==i.palette){var a=n.currentColor.color.css();if(n.wrapperDiv)for(var o=n.wrapperDiv.find(".sui-palette-tile"),s=0;s<o.length;s++)o[s].style.backgroundColor.replace(/\s+/g,"")===a.replace(/\s+/g,"")&&(o.removeClass("sui-palette-tile-selected"),e(o[s]).addClass("sui-palette-tile-selected"))}else n._changeAdvancedPaletteColor();i.displayInline||(i.showLetter?(n._picker.find(".sui-color-cell"),n._picker.find(".sui-selected-color").css("background-color",n.currentColor.color.cssa())):n._picker.find(".sui-color-cell").css("background-color",n.currentColor.color.cssa()))},destroy:function(){var t=this;t.element.remove(),t.wrapperDiv.remove(),t.colorInput&&t.colorInput.off(p,t._colorInputKeyDown),t.rInput&&(t.rInput.destroy(),t.gInput.destroy(),t.bInput.destroy()),t.options.displayInline&&"basic"==t.options.palette&&(t.wrapperDiv.find(".sui-palette-tile").off(f,t._tileClicked),t.wrapperDiv.remove()),t._applyButton&&t._applyButton.destroy(),t._cancelButton&&t._cancelButton.destroy(),e(a).off(g+".shieldColorPicker"+t.getInstanceId()),t._tileClicked=t._rInputKeyDown=t._gInputKeyDown=t._bInputKeyDown=t._hidePopupDelegate=t._picker=t._applyButton=t._cancelButton=t._isHsl=t.currentColor=t.wrapperDiv=t.colorInput=t.colorDiv=t.rInput=t.gInput=t._enabled=t._popupIsOver=t.bInput=null,i.fn.destroy.call(t)}}),C=r.extend({init:function(e,t){var n=this,i=e.isXYslider,r=e.cbs,a=e.twod,o=e.pointer,s=e.oned;return n.colorPicker=t,i?(n.drag(a,n.attachPointer(n,r,o)),{background:a,pointer:o}):(n.drag(s,n.attachPointer(n,r,o)),{background:s,pointer:o})},drag:function(e,t){return e?void(this.isTouch()?this.dragTemplate(e,t,"touchstart","touchmove","touchend"):this.dragTemplate(e,t,"mousedown","mousemove","mouseup")):void console.warn("drag is missing elem!")},attachPointer:function(e,t,n){function i(e){return function(t,i){i.pointer=n,e(t,i)}}var r={};for(var a in t)t.hasOwnProperty(a)&&(r[a]=i(t[a]));return r},isTouch:function(){return"undefined"!=typeof n.ontouchstart},dragTemplate:function(e,t,n,i,r){var o=this,s=!1;t=o.getCbs(t);var l=t.begin,d=t.change,u=t.end;o.on(e,n,function(t){function n(){s=!1,o.off(a,i,c),o.off(a,r,n),o.callCb(u,e,t)}s=!0;var c=o.partial(o,o.callCb,d,e);o.on(a,i,c),o.on(a,r,n),o.callCb(l,e,t)})},on:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},off:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},getCbs:function(e){if(e)return{begin:e.begin||function(){},change:e.change||function(){},end:e.end||function(){}};var t,n;return{begin:function(e){t={x:e.elem.offsetLeft,y:e.elem.offsetTop},n=e.cursor},change:function(e){e.elem.style.left=t.x+e.cursor.x-n.x+"px",e.elem.style.top=t.y+e.cursor.y-n.y+"px"},end:function(){}}},callCb:function(t,n,i){var r=this;i.preventDefault();var a=e(n).offset(),o=n.clientWidth,s=n.clientHeight,l={x:r.cursorX(n,i),y:r.cursorY(n,i)},d=(l.x-a.left)/o,u=(l.y-a.top)/s;t(this,{x:isNaN(d)?0:d,y:isNaN(u)?0:u,cursor:l,elem:n,e:i})},partial:function(e,t){var n=Array.prototype.slice,i=n.apply(arguments,[2]),r=this;return function(){return t.apply(r,i.concat(n.apply(arguments)))}},cursorX:function(e,t){var i=this;if(i.isFixed(e)){var r=parseInt(i.getStyle(a.body,"marginLeft"),10)-i.calc(e,"scrollLeft")+n.pageXOffset+e.style.marginLeft;return t.clientX-r}return t.pageX?t.pageX:t.clientX?t.clientX+a.body.scrollLeft:void 0},cursorY:function(e,t){var i=this;if(i.isFixed(e)){var r=parseInt(i.getStyle(a.body,"marginTop"),10)-i.calc(e,"scrollTop")+n.pageYOffset+e.style.marginTop;return t.clientY-r}return t.pageY?t.pageY:t.clientY?t.clientY+a.body.scrollTop:void 0},calc:function(e,t){for(var n=0;"HTML"!=e.nodeName;)n+=e[t],e=e.parentNode;return n},isFixed:function(e){for(;"HTML"!=e.nodeName&&"fixed"!=this.usedStyle(e,"position");)e=e.parentNode;return"HTML"==e.nodeName?!1:!0},getStyle:function(e,t){return e.currentStyle?e.currentStyle[t]:a.defaultView&&a.defaultView.getComputedStyle?a.defaultView.getComputedStyle(e,"")[t]:e.style[t]},usedStyle:function(e,t){var i;return i=n.getComputedStyle?n.getComputedStyle(e,null):e.currentStyle,i[t]}}),T=r.extend({init:function(e){var t=this,n=e.color;t.color=t.getColor(d(n)||""===n.trim()?"#000":n)},getColor:function(e){var t=this,n=/\s*(\.\d+|\d+(?:\.\d+)?)(%)?\s*/,i=/\s*(\.\d+|\d+(?:\.\d+)?)\s*/,r=new RegExp("^(rgb|hsl|hsv)a?\\("+n.source+","+n.source+","+n.source+"(?:,"+i.source+")?\\)$","i"),a=e.toLowerCase();"transparent"===a&&(e="rgba(0,0,0,0)");var o=e.match(r);if(o){var s=o[1].toUpperCase(),l=d(o[8])?o[8]:parseFloat(o[8]),u="H"===s[0],c=o[3]?100:u?360:255,h=o[5]||u?100:255,p=o[7]||u?100:255;return t[s](parseFloat(o[2])/c,parseFloat(o[4])/h,parseFloat(o[6])/p,l)}e.length<6&&(e=e.replace(/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i,"$1$1$2$2$3$3"));var f=e.match(/^#?([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])$/i);return f?t.RGB(parseInt(f[1],16)/255,parseInt(f[2],16)/255,parseInt(f[3],16)/255):e},RGB:function(e,t,n,i){var r=this;return{red:e,green:t,blue:n,alpha:d(i)?1:i,hex:function(){var e=(65536*Math.round(255*this.red)+256*Math.round(255*this.green)+Math.round(255*this.blue)).toString(16);return"#"+"00000".substr(0,6-e.length)+e},hexa:function(){var e=Math.round(255*this.alpha).toString(16);return"#"+"00".substr(0,2-e.length)+e+this.hex().substr(1,6)},css:function(){return"rgb("+Math.round(255*this.red)+","+Math.round(255*this.green)+","+Math.round(255*this.blue)+")"},cssa:function(){return"rgba("+Math.round(255*this.red)+","+Math.round(255*this.green)+","+Math.round(255*this.blue)+","+this.alpha+")"},toHSV:function(){var e,t=this.red,n=this.green,a=this.blue,o=Math.max(t,n,a),s=Math.min(t,n,a),l=o-s,d=0===o?0:l/o,u=o;if(0===l)e=0;else switch(o){case t:e=(n-a)/l/6+(a>n?1:0);break;case n:e=(a-t)/l/6+1/3;break;case a:e=(t-n)/l/6+2/3}return r.HSV(e,d,u,i)},toHSL:function(){var e=this.toHSV();return r.HSV(e.hue,e.saturation,e.value,e.alpha).toHSL()},toCMYK:function(){var e=this.red,t=this.green,n=this.blue,a=1-e,o=1-t,s=1-n,l=1;return e||t||n?(l=Math.min(a,Math.min(o,s)),a=(a-l)/(1-l),o=(o-l)/(1-l),s=(s-l)/(1-l)):l=1,r.CMYK(a,o,s,l,i)}}},HSV:function(e,t,n,i){var r=this;return{hue:e,saturation:t,value:n,alpha:d(i)?1:i,toRGB:function(){var e,t,n,a=this.hue,o=this.saturation,s=this.value,l=Math.min(5,Math.floor(6*a)),d=6*a-l,u=s*(1-o),c=s*(1-d*o),h=s*(1-(1-d)*o);switch(l){case 0:e=s,t=h,n=u;break;case 1:e=c,t=s,n=u;break;case 2:e=u,t=s,n=h;break;case 3:e=u,t=c,n=s;break;case 4:e=h,t=u,n=s;break;case 5:e=s,t=u,n=c}return r.RGB(e,t,n,i)},toHSL:function(){var e,t=(2-this.saturation)*this.value,n=this.saturation*this.value,i=1>=t?t:2-t;return e=1e-9>i?0:n/i,r.HSL(this.hue,e,t/2,this.alpha)}}},HSL:function(e,t,n,i){var r=this;return{hue:e,saturation:t,lightness:n,alpha:d(i)?1:i,toHSV:function(){var e,t=2*this.lightness,n=this.saturation*(1>=t?t:2-t);return e=1e-9>t+n?0:2*n/(t+n),r.HSV(this.hue,e,(t+n)/2,this.alpha)},toRGB:function(){return this.toHSV().toRGB()}}},CMYK:function(e,t,n,i,r){var a=this;return{cyan:e,magenta:t,yellow:n,black:i,alpha:d(r)?1:r,toRGB:function(){return a.RGB(1-this.cyan*(1-this.black)-this.black,1-this.magenta*(1-this.black)-this.black,1-this.yellow*(1-this.black)-this.black,this.alpha)}}},destroy:function(){this.color=null}});w.defaults=x,t.ui.plugin("ColorPicker",w),t.ui.ColorPicker=w}(jQuery,shield,this),!function(e,t,n,i){"use strict";function r(e){var t,n=" ";if(e){if(m(e))return e;for(t in e)e.hasOwnProperty(t)&&(n+=t+'="'+e[t]+'"')}return n}function a(t,n){var i=e(t.target).closest(".sui-cell",n);if(!i.length)return null;var r=i[0].parentNode,a=i[0];return null==r||null==a?null:{row:r,cell:a}}var o,s=t.ui.Widget,l=t.Class,d=t.DataSource,u=t.format,c=t.support,h=t.get,p=t.iid,f=t.is,g=f.func,m=f.string,v=f.object,y=f["boolean"],b=f.defined,_=f.number,x=f.undefined,w=f["null"],C=document,T=Math.abs,k=Math.min,S=Math.max,E=e.each,D=e.proxy,A=e.extend,P=(e.map,e.inArray),M=navigator.userAgent,I=n.opera,B=/msie/i.test(M)&&!I,L=B&&7===C.documentMode,N=B&&8===C.documentMode,H=(B&&10===C.documentMode,8===C.documentMode,/AppleWebKit/.test(M)),O=(/Firefox/.test(M),"height"),F="sui-selectable",R="sui-selected",W="change",z="start",Y="scroll",V="command",j="selectionChanged",G="selectstart",q="dataBound",X="mousedown",U="mousemove",$="mouseup",Q="resize",K="click",Z="dblclick",J="sort",et="detailCreated",tt="columnReorder",nt="groupsReorder",it="group",rt="ungroup",at="editorCreating",ot="filterWidgetCreating",st="getCustomFilterValue",lt="clearFilter",dt="expandButtonCreate",ut="cancel",ct="edit",ht="insert",pt="save",ft="delete",gt="error",mt="collapse",vt="expand",yt="editWindowOpen",bt="insertWindowOpen";o={columns:[],rowHover:!0,scrolling:!1,paging:!1,columnReorder:!1,showHeader:!0,grouping:{showGroupHeader:!1,allowDragToGroup:!1,message:"Drag a column header here to group by a column"}};var _t=l.extend({init:function(t,n){var i,r,a,o,s,l=this;for(l._grid=n,s=0;s<t.length;s++)i=t[s],r=i.position?i.position:"top",a=e("<div class='sui-toolbar'></div>"),"top"===r?(o=n.element.find(".sui-toolbar"),o.length>0?e(o[0]).after(a):n.element.prepend(a)):(a.addClass("sui-toolbar-bottom"),a.appendTo(n.element)),i.template?l._initializeTemplate(i,a):i.buttons.length>0&&l._buildButtons(a,i)},_buildButtons:function(e,t){var n,i=this,r=t.buttons;for(n=0;n<r.length;n++)i._buildButton(r[n],e)},_buildButton:function(n,i){var r,a,o=this,s=n.commandName,l=n.click;t.ui.Button&&(r=e("<button type='button'>"+n.caption+"</button>").appendTo(i),"insert"===s?l=o._insertButtonClicked:"save"===s?l=o._saveButtonClicked:"cancel"===s&&(l=o._cancelButtonClicked),a=new t.ui.Button(r,{cls:n.cls,events:{click:D(l,o._grid)}}))},_insertButtonClicked:function(e,t){var n,i,r,a,o,s=this,l=s.options,d=l.editing.insertNewRowAt,u=s.dataSource;if(t||(a=s.trigger(V,{commandName:ht,cancel:!1}),!a.cancel)){if(u.sort&&u.sort.length>0)return u.sort=[],s._sortingInProgress=!0,s.pager&&(u.skip=0,u.take=s.pager.pageSize(),s.pager.refresh(!0)),void u.read().always(D(s._toolbar._insertButtonClicked,s,e,!0));s._editingInProcess=!0,r="pagebottom"===d?S(0,s.contentTable.find("tbody > tr").length-1):0,n=u.insertView(r,{});for(o in n.fields)n.fields.hasOwnProperty(o)&&(n.data[o]=null);s._editing._insertedItems.push(n),i=s.contentTable.find("tbody > tr").eq(r),"popup"!=s.options.editing.mode?s._editing._putRowInEditMode(i,0):s._initializePopupForm(0,!0),s.trigger(ht)}},_saveButtonClicked:function(){var e,t,n=this,i=n.contentTable.find(".sui-editable-cell");return i.length>0&&(e=i.get(0).parentNode.rowIndex,n._updateItem(e,null),n._errorDuringEdit)?void(n._errorDuringEdit=!1):(t=n.trigger(V,{commandName:pt,cancel:!1}),void(t.cancel||(n.dataSource.save(),n.trigger(pt))))},_cancelButtonClicked:function(){var e=this,t=e.trigger(V,{commandName:ut,cancel:!1});t.cancel||(e.dataSource.cancel(),e.trigger(ut))},_initializeTemplate:function(e,t){var n=this,i=e.template;if(g(i)){var r=i.call(n._grid,t);b(r)&&!w(r)&&""!==r&&t.html(r)}else t.html(i)},destroy:function(){this._grid=null}}),xt=l.extend({init:function(e,t){var n=this;n._grid=t,n.options=e,n._eventNS=".shieldGridEditing"+p(),n._editors={},n._insertedItems=[],e.enabled&&n._initEditing(),n._grid.dataSource.on(gt+n._eventNS,D(n._dsError,n))},_dsError:function(e){var t=this,n=t._editors[e.path];t._grid.trigger(gt,{type:e.type,path:e.path,value:e.value,editor:n,reason:e.reason}),t._errorDuringEdit=!0},_initEditing:function(){var t=this,n=t.options,i=n.event,r=t._eventNS;x(i)||("click"===i?t._grid.element.on(K+r,".sui-cell",D(t._editingTriggered,t)):"doubleclick"===i&&t._grid.element.on(Z+r,".sui-cell",D(t._editingTriggered,t)),e(C).on(K+r,D(t._documentClicked,t)))},_editingTriggered:function(n){var i,r,a=this,o=n.target,s=e(n.target).parent(),l=s.get(0).rowIndex,d=a.options,u=d.mode,c=d.type,h=a._grid.dataSource,p=d.batch,f=a._grid.trigger(V,{commandName:ct,cancel:!1,row:s,cell:o});if(!f.cancel){if(p){if(i=a._grid.contentTable.find(".sui-editable-cell"),i.length>0){if(l=i.get(0).parentNode.rowIndex,"TR"!==s.get(0).nodeName.toUpperCase()||s.get(0).rowIndex==l&&"row"==c)return;var g=a._grid._updateItem(l,o);if(a._errorDuringEdit)return a._errorDuringEdit=!1,void(g=null);r=s.get(0).rowIndex,a._grid._putRowInViewMode(l,null),!a._grid._populateInsertedItem&&g&&g.length>0&&a._grid._renderUpdateMarkers(g,l),a._grid._populateInsertedItem=!1,r===l&&(o=a._grid.contentTable.find("tbody > tr").eq(l).get(0).cells[o.cellIndex]),l=r}x(c)||"cell"===c?a._putCellInEditMode(o,l):"row"===c?a._putRowInEditMode(s,o.cellIndex):t.error("Invalid editing.type declaration. The editing.type must be 'row' or 'cell'.",this.options.dieOnError)}else if(h.tracker&&h.tracker.changes&&h.tracker.changes.added&&h.tracker.changes.added.length>0)"TR"!==s.get(0).nodeName.toUpperCase()||s.get(0).rowIndex==l&&"row"==c||h.cancel();
else if(x(u)||"inline"===u){if(i=a._grid.contentTable.find(".sui-editable-cell"),i.length>0){if(l=i.get(0).parentNode.rowIndex,"TR"!==s.get(0).nodeName.toUpperCase()||s.get(0).rowIndex==l&&"row"==c)return;if(a._grid._updateItem(l,o),a._errorDuringEdit)return void(a._errorDuringEdit=!1);r=s.get(0).rowIndex,a._grid._closeAllEditedRows(),r===l&&(o=a._grid.contentTable.find("tbody > tr").eq(l).get(0).cells[o.cellIndex]),l=r}x(c)||"cell"===c?a._putCellInEditMode(o,l):"row"===c?a._putRowInEditMode(s,o.cellIndex):t.error("Invalid editing.type declaration. The editing.type must be 'row' or 'cell'.",this.options.dieOnError)}a._grid.trigger(ct,{row:s,cell:o})}},_documentClicked:function(t){var n,i,r=this,a=r.options.batch,o=e(t.target);if(r._grid._editingInProcess||r._grid._preventClosingEditors)return void(r._grid._editingInProcess=!1);if(!(o.hasClass("sui-cell")||o.parents().hasClass("sui-cell")||o.parents().hasClass("sui-calendar")||o.parents().hasClass("sui-listbox"))&&(n=this._grid.contentTable.find(".sui-editable-cell"),n.length>0)){i=n.get(0).parentNode.rowIndex;var s=r._grid._updateItem(i,null);if(r._errorDuringEdit)return void(r._errorDuringEdit=!1);r._grid._putRowInViewMode(i,null),a&&!r._grid._populateInsertedItem&&s&&s.length>0&&r._grid._renderUpdateMarkers(s,i),r._grid._populateInsertedItem=!1}},_getColumnIndex:function(t){return t.cellIndex-e(t.parentNode).find(".sui-indent-cell, .sui-expand-cell, .sui-expand-cell-disabled, .sui-collapse-cell").length},_putCellInEditMode:function(e,t){var n,i,r,a=this,o=a._getColumnIndex(e),s=a._grid,l=s.dataSource,d=s.columns[o];if(d&&d.field){if(l.group&&l.group.length>0)for(i=a._grid.contentTable.find(".sui-row, .sui-alt-row"),r=0;r<i.length;r++)if(i[r]==e.parentNode){t=r;break}n=l.editView(t).data;var u=l.schema.options.fields[d.field].type,c=h(n,d.field),p=!1;if(arguments.length>2?arguments[2]==o&&(p=!0):p=!0,d.editor)a._instantiateCustomEditor(d,e,n,t,p);else switch(u){case Number:a._instantiateNumeric(e,c,p);break;case Date:a._instantiateDatePicker(e,c,p);break;case String:a._instantiateTextBox(e,c,p);break;case Boolean:a._instantiateCheckBox(e,c,p)}}},_prepareCell:function(t){e(t).empty().addClass("sui-editable-cell")},_instantiateCustomEditor:function(t,n,i,r,a,o){var s,l,d,u=this;o?l=o:(s=u._getColumnIndex(n),l=u._grid.columns[s].field,u._prepareCell(n)),d=t.editor.call(u._grid,n,i,r,a),e(n).html(d),u._editors[l]="custom"},_instantiateNumeric:function(n,i,r,a){var o,s,l,d,u=this;a?d=a:(l=u._getColumnIndex(n),d=u._grid.columns[l].field,u._prepareCell(n)),s=e("<input name='"+d+"' />"),s.appendTo(n);var c=u._grid.trigger(at,{field:d,options:{}}),h=A({},c.options,{value:i});t.ui.NumericTextBox&&(o=new t.ui.NumericTextBox(s,h),r&&o.focus(),u._editors[d]=o)},_instantiateDatePicker:function(n,i,r,a){var o,s,l,d,u=this;a?d=a:(l=u._getColumnIndex(n),d=u._grid.columns[l].field,u._prepareCell(n)),s=e("<input name='"+d+"' />"),s.appendTo(n);var c=u._grid.trigger(at,{field:d,options:{}}),h=A({},c.options,{value:i});t.ui.DatePicker&&(o=new t.ui.DatePicker(s,h),r&&o.focus(),u._editors[d]=o)},_instantiateTextBox:function(n,i,r,a){var o,s,l,d,u=this;a?d=a:(l=u._getColumnIndex(n),d=u._grid.columns[l].field,u._prepareCell(n)),s=e("<input type='text' name='"+d+"' />"),s.appendTo(n);var c=u._grid.trigger(at,{field:d,options:{}}),h=A({},c.options,{value:i,cls:"sui-input-textbox"});t.ui.TextBox&&(o=new t.ui.TextBox(s,h),r&&o.focus(),u._editors[d]=o)},_instantiateCheckBox:function(n,i,r,a){var o,s,l,d,u=this;a?d=a:(l=u._getColumnIndex(n),d=u._grid.columns[l].field,u._prepareCell(n)),s=e("<input type='checkbox' name='"+d+"' />"),s.appendTo(n);var c=u._grid.trigger(at,{field:d,options:{}}),h=A({},c.options,{value:i});t.ui.CheckBox&&(o=new t.ui.CheckBox(s,h),r&&o.focus(),o.checked(i),u._editors[d]=o)},_putRowInEditMode:function(t,n){var i,r,a=this,o=t.find(".sui-cell");for(r=0;r<o.length;r++)a._putCellInEditMode(o[r],t.get(0).rowIndex,n-t.find(".sui-indent-cell, .sui-expand-cell, .sui-expand-cell-disabled, .sui-collapse-cell").length);i=t.find(".sui-edit"),i.length>0&&a._grid._changeEditColumnButtons(t.get(0).rowIndex,e(t.find(".sui-button-cell")[0]))},_destroyRow:function(e){var t,n,i=this,r=i._grid,a=r.contentTable.find("tbody > tr").eq(e),o=r.columns;for(t=0;t<o.length;t++)n=i._editors[o[t].field],n&&(g(n.destroy)&&i._editors[o[t].field].destroy(),delete i._editors[o[t].field]);a.remove()},destroy:function(){var t,n,i=this,r=i._eventNS;if(i._grid.dataSource.off(gt+r),i._grid.element.off(r,".sui-cell"),e(C).off(K+r),i._editors)for(t=0;t<i._editors.length;t++)n=i._editors[t].editor.element(),i._editors[t].editor.destroy(),n.remove();i._grid=i._errorDuringEdit=i.options=null}}),wt=l.extend({init:function(e){var t=this;m(e)?(t.field=e,t.resizable=!0,t.sortable=!0,t.filterable=!0):v(e)&&(t.field=e.field,t.title=e.title,t.format=e.format,t.width=e.width,t.minWidth=e.minWidth,t.maxWidth=e.maxWidth,t.resizable=b(e.resizable)?!!e.resizable:!0,t.attributes=e.attributes,t.headerAttributes=e.headerAttributes,t.headerTemplate=e.headerTemplate,t.columnTemplate=e.columnTemplate,t.footerTemplate=e.footerTemplate,t.groupFooterTemplate=e.groupFooterTemplate,t.buttons=e.buttons,t.editor=e.editor,t.customFilter=e.customFilter,t.sortable=b(e.sortable)?!!e.sortable:!0,t.filterable=b(e.filterable)?!!e.filterable:!0)},destroy:function(){var e=this;e.buttons&&(e.buttons.length=0),e.field=e.title=e.editor=e.format=e.width=e.minWidth=e.maxWidth=e.resizable=e.attributes=e.headerAttributes=e.headerTemplate=e.buttons=e.customFilter=e.footerTemplate=e.groupFooterTemplate=e.sortable=e.filterable=e.columnTemplate=null}}),Ct=l.extend({options:{ns:".shieldGridColumnResizing",width:12,offset:6,min:12},init:function(e){var t=this;t.grid=e,t.options=A(!0,{},Ct.fn.options),t._eventNS=t.options.ns+p(),e.headerTable.on(U+t._eventNS,".sui-headercell",D(t._showHandle,t))},_showHandle:function(t){if(!this.resizing){var n=this,i=n.options,r=(n.grid,n.handle),a=t.pageX,o=n.params=n._params(e(t.currentTarget)),s=a>=o.offset.left&&a<=o.offset.left+i.offset&&o.headerIndex>0;o.isRtl&&(s=a>=o.offset.left+o.width-i.offset&&a<=o.offset.left+o.width&&o.headerIndex>0),s&&(o=n.params=n._params(o.header.prev())),o.column&&o.column.resizable&&(a>=o.threshold&&a<=o.edge+i.offset?(r||(r=n.handle=e('<div class="sui-resizable-handle"/>').on(X+n._eventNS,D(n._down,n)).appendTo(o.header.parents(".sui-headercontent"))),r.css({top:o.position.top,left:r.parent()[0].scrollLeft+o.handleLeft,width:i.width,height:o.height}).show()):r&&r.hide())}},_params:function(e){var t=this,n=t.options,i=e.offset(),r=e.position(),a=c.isRtl(t.grid.element),o=e.outerWidth(),s=i.left+(a?n.width:o),l=e.index(),d=e.parent().children("th.sui-headercell").index(e),u=d>-1?t.grid.columns[d]:null,h=u?u.minWidth>=0?+u.minWidth:n.min:null,p=u&&u.maxWidth>=h?+u.maxWidth:null;return{header:e,headerIndex:l,colIndex:d,column:u,min:h,max:p,offset:i,isRtl:a,width:o,current:o,height:e.outerHeight(),edge:s,threshold:s-n.width+(a?-1:1)*n.offset,position:r,handleLeft:r.left+(a?n.width:o)-n.width+(a?-1:1)*n.offset}},_down:function(n){var i,r=this,a=r.grid,o=r.params;return n.button>1||!o?void 0:(i="> colgroup col:nth-child("+(o.headerIndex+1)+")",o.origin=n.pageX,o.cols=e().add(a.headerTable.find(i)).add(a.contentTable.find(i)),r.resizing=!0,r.handle.hide(),e(C).on(U+r._eventNS,D(r._move,r)).on($+r._eventNS,D(r._up,r)),t.selection(!1),!1)},_move:function(e){var t=this,n=t.params,i=(n.isRtl?-1:1)*(e.pageX-n.origin),r=S(n.width+i,n.min);return n.max&&(r=k(r,n.max)),t.resizing?void(r!==n.current&&n.cols.width(n.current=r)):void t._up()},_up:function(){var n=this,i=n.grid,r=n.params.colIndex,a=n.params.current,o=i.columns[r]||{},s=(i.options.columns||[])[r]||{};n.resizing=!1,n.params=null,o.width=s.width=a+"px",e(C).off(n._eventNS),t.selection(!0)},destroy:function(){var e=this;e._up(),e.grid.headerTable.off(e._eventNS),e.grid=null,e.handle&&(e.handle.off(e._eventNS).remove(),e.handle=null)}}),Tt=l.extend({init:function(e){var t=this;t.grid=e,t._filters={},t._eventNS=".shieldGridFiltering"+p(),t._createFilterRow()},_createFilterRow:function(){var t,n,i,r,a,o,s=this,l=s.grid,d=l.headerTable,u=d.find(">thead"),c=e("<tr class='sui-filter-row' />"),h=u.find(".sui-indent-cell").length,p=l.dataSource.schema,f=l.columns;for(a=0;h>a;a++)e('<th class="sui-indent-cell">').appendTo(c);for(p&&p.options.fields&&(r=p.options.fields),o=0;o<f.length;o++)t=r?r[f[o].field].type:null,n=f[o].field?f[o].field.replace(/[\"\']/g,"@"):"",i=e("<th class='sui-filter-cell'  data-field='"+n+"' />"),i.appendTo(c),f[o].filterable!==!1&&n.length>0&&(s._initializeEditor(i,t,f[o].field,f[o]),s._appendFilterButton(i));c.appendTo(u),e(C).on(K+s._eventNS,D(s._documentClicked,s))},_documentClicked:function(t){var n,i,r=this;!r.listBox||e(t.target).hasClass("sui-filter-button")||e(t.target).hasClass("sui-filter-button-content")||(r._filterByField=null,n=r.listBox.element.parent().height(),i=r.listBox.element.parent().offset().top,r._slideUp?r.listBox.element.parent().animate({height:0,top:i+n},150,function(){r.listBox.element.parent().css({display:"none",height:n})}):r.listBox.element.parent().animate({height:0},150,function(){r.listBox.element.parent().css({display:"none",height:n})}))},_appendFilterButton:function(n){if(t.ui.Button){var i=e('<button type="button"><span class="sui-sprite sui-filter-button-content"></span></button>').appendTo(n);new t.ui.Button(i,{cls:"sui-filter-button",events:{click:D(this._filterButtonClicked,this)}})}},_filterButtonClicked:function(n){var i,r,a,o=this,s=o.grid,l=s.dataSource.schema,d=s.options.filtering,u=d.stringFunc?d.stringFunc:[{func:"eq",name:"Equal to"},{func:"neq",name:"Not equal to"},{func:"con",name:"Contains"},{func:"notcon",name:"Not contains"},{func:"starts",name:"Starts with"},{func:"ends",name:"Ends with"},{func:"gt",name:"Greater than"},{func:"lt",name:"Less than"},{func:"gte",name:"Greater than or equal"},{func:"lte",name:"Less than or equal"},{func:"isnull",name:"Is null"},{func:"notnull",name:"Is not null"}],c=d.nonStingFunc?d.nonStingFunc:[{func:"eq",name:"Equal to"},{func:"neq",name:"Not equal to"},{func:"gt",name:"Greater than"},{func:"lt",name:"Less than"},{func:"gte",name:"Greater than or equal"},{func:"lte",name:"Less than or equal"},{func:"isnull",name:"Is null"},{func:"notnull",name:"Is not null"}],h=n.target.element.parent().attr("data-field").replace(/[@]/g,"'");if(o._filterByField=h,l&&l.options.fields){var p=l.options.fields;i=p[h].type==String?u:c}else i=u;t.ui.ListBox&&(o.listBox||(o._menuWrapper=e("<div style='display: none;' />").appendTo(C.body),o.listBox=new t.ui.ListBox(o._menuWrapper,A({},{},{dataSource:{data:i},textTemplate:"{name}",valueTemplate:"{func}",multiple:!1,width:150,maxHeight:300,events:{select:D(o._selectFilterFunction,o)}})),o.grid.element.parent().hasClass("sui-rtl")?o.listBox.element.parent().addClass("sui-rtl"):o.listBox.element.parent().css("display","none")),r=o.listBox.element.parent().height(),o._positionListBox(n),o._slideUp?(a=n.target.element.offset().top-r,o.listBox.element.parent().css({top:n.target.element.offset().top}),o.listBox.element.parent().animate({height:r,top:a-o.listBox.element.parent().innerHeight()},150)):o.listBox.element.parent().animate({height:r},150)),o._selectFilterMenuValue()},_selectFilterMenuValue:function(){var e,t,n=this,i=n._filterByField,r=n.grid.dataSource.filter;if(r&&r.and&&r.and.length>0){e=r.and;for(var a=0;a<e.length;a++)e[a].path===i&&(t=e[a].filter)}t?n.listBox.values(t):n.listBox.clearSelection()},_selectFilterFunction:function(e){var t,n,i=this,r=!0,a="@@custom"==i._filters[i._filterByField]?"@@custom":i._filters[i._filterByField].value(),o=e.item.func,s={path:i._filterByField,filter:o,value:a};if("@@custom"==a&&(n=i.grid.trigger(st,{field:i._filterByField,value:null}),a=n.value,s={path:i._filterByField,filter:o,value:a}),""!==a&&null!==a||"notnull"==o||"isnull"==o){if(i.grid.dataSource.filter&&i.grid.dataSource.filter.and){t=i.grid.dataSource.filter.and;for(var l=0;l<t.length;l++)t[l].path===i._filterByField&&(t[l]=s,r=!1);r&&t.push(s)}else i.grid.dataSource.filter={and:[s]};i.grid.dataSource.read(),i._addRemoveFilterButton()}},_addRemoveFilterButton:function(){var n,i,r,a=this;if(t.ui.Button){n=a.grid.headerTable.find(".sui-filter-row > th");for(var o=0;o<n.length;o++)if(i=e(n[o]),i.attr("data-field")&&i.attr("data-field").replace(/[@]/g,"'")==a._filterByField){r=n[o];break}if(0===i.find(".sui-clear-filter-button").length){var s=e('<button type="button"><span class="sui-sprite sui-clear-filter-button-content"></span></button>').appendTo(r);new t.ui.Button(s,{cls:"sui-clear-filter-button",events:{click:D(this._clearFilterButtonClicked,this)}})}}},_clearFilterButtonClicked:function(e){for(var t,n=this,i=e.target.element.parent().attr("data-field").replace(/[@]/g,"'"),r=n.grid.dataSource.filter.and,a=0;a<r.length;a++)r[a].path==i&&r.splice(a,1);t=e.target.element,e.target.destroy(),t.remove(),"@@custom"!=n._filters[i]?n._filters[i].value(null):n.grid.trigger(lt,{field:i,value:null}),n.grid.dataSource.read()},_positionListBox:function(e){var t=this,i=e.target.element,r=i.offset(),a=r.top,o=r.left,s=t.listBox.element.parent().innerWidth(),l=t.listBox.element.parent().innerHeight(),d=(i.innerWidth(),i.innerHeight());0>o&&(o=1),o+s>n.innerWidth&&(o=n.innerWidth-s-20),t._slideUp=!1,a+l>n.innerHeight&&(a-=l,d=0,t._slideUp=!0),0>a&&(a=r.top,d=i.innerHeight(),t._slideUp=!1),t.listBox.element.parent().css({position:"absolute",zIndex:10002,top:a+d,left:o,height:0,display:""})},_initializeEditor:function(e,t,n,i){var r=this;if(i.customFilter)r._filters[n]="@@custom",i.customFilter.call(r,e);else switch(t){case Number:r._instantiateNumeric(e,n);break;case Date:r._instantiateDatePicker(e,n);break;case String:r._instantiateTextBox(e,n);break;default:r._instantiateTextBox(e,n)}},_instantiateNumeric:function(n,i){var r,a=this,o=e("<input />");o.appendTo(n);var s=a.grid.trigger(ot,{field:i,options:{}}),l=A({},s.options);t.ui.NumericTextBox&&(r=new t.ui.NumericTextBox(o,l),a._filters[i]=r)},_instantiateDatePicker:function(n,i){var r,a=this,o=e("<input />");o.appendTo(n);var s=a.grid.trigger(ot,{field:i,options:{}}),l=A({},s.options);t.ui.DatePicker&&(r=new t.ui.DatePicker(o,l),a._filters[i]=r)},_instantiateTextBox:function(n,i){var r,a=this,o=e("<input type='text' />");o.appendTo(n);var s=a.grid.trigger(ot,{field:i,options:{}}),l=A({},s.options);t.ui.TextBox&&(r=new t.ui.TextBox(o,l),a._filters[i]=r)},destroy:function(){var t,n=this;n.grid=null;for(t in n._filters)n._filters.hasOwnProperty(t)&&(n._filters[t].destroy(),n._filters[t]=null);n.listBox&&(n.listBox.destroy(),n.listBox=null),e(C).off(K+n._eventNS),n._filterByField=n._filters=n._slideUp=n._menuWrapper=null}}),kt=l.extend({init:function(e,t){var n=this;n.grid=t,n.sortExpressions=[],n._eventNS=".shieldGridSorting"+p(),y(e)?(n.allowUnsort=!0,n.multiple=!1,n.firstAscending=!0,n.ascText="&#9650;",n.descText="&#9660;"):v(e)&&(n.allowUnsort=x(e.allowUnsort)?!0:e.allowUnsort,n.multiple=e.multiple,n.firstAscending=x(e.firstAscending)?!0:e.firstAscending,n.ascText=x(e.ascText)?"&#9650;":e.ascText,n.descText=x(e.descText)?"&#9660;":e.descText),n._initialize()},destroy:function(){var t=this;t.allowUnsort=t.multiple=t.sortExpressions=null,t.length=0,t._click&&(t.grid.headerTable.find(".sui-link").each(function(){e(this).off(K+t._eventNS)}),t._click=null),t.grid=null},_initialize:function(){var t=this,n=t.grid,i=n.dataSource.sort,r=n.columns,a=n.headerTable.find(".sui-headercell");if(t._click=D(t._clickHandler,t),a.each(function(n){var i=e(this),a=i.html();r[n].sortable!==!1&&(i.empty(),e('<a href="#" class="sui-link"></a>').appendTo(i).html(a).on(K+t._eventNS,t._click))}),i)for(var o=0;o<i.length;o++)for(var s=i[o],l=0;l<r.length;l++)if(r[l].sortable!==!1&&s.path==r[l].field){var d=e(a[l]).find(".sui-link"),u="ascending",c="sui-asc",h=t.ascText;s.desc&&(u="descending",h=t.descText,c="sui-desc"),d.addClass(c),e('<span class="sui-'+u+'">'+h+"</span>").appendTo(d)}},_clickHandler:function(t){var n=this,i=e(t.target).closest(".sui-link"),r=n.grid,a=P(i.parent().get(0),r.headerTable.find(".sui-headercell")),o=r.columns[a];return i.hasClass("sui-desc")?n.allowUnsort&&n.firstAscending?n._sortInternal(o,!0,!0):n._sortInternal(o,!1,!1):i.hasClass("sui-asc")?n.allowUnsort&&!n.firstAscending?n._sortInternal(o,!1,!0):n._sortInternal(o,!0,!1):n.firstAscending?n._sortInternal(o,!1,!1):n._sortInternal(o,!0,!1),!1},_sortInternal:function(t,n,i){var r=this,a=r.grid,o=a.dataSource,s=o.sort,l=a.trigger(V,{commandName:J,cancel:!1,column:t,desc:n,unsort:i});if(!l.cancel){if(s){if(!r.multiple&&s)s.length=0;else{var d=e.grep(s,function(e){return e.path===t.field&&e.desc===(i?n:!n)});if(d.length>0){var u=P(d[0],s);s.splice(u,1)}}i||s.push({path:t.field,desc:n})}else i||(s=o.sort=[{path:t.field,desc:n}]);a._refreshOnSort(),a.trigger(J,{column:t,desc:n,unsort:i})}},_sort:function(t,n,i){var r,a,o=this,s=o.grid,l=s.dataSource,d=l.sort;if(d&&(r=e.grep(d,function(e){return e.path===t&&e.desc===n})),!r||r.length<=0)if(!o.multiple&&d&&(d.length=0),d){var u=!1,c=e.grep(d,function(e){return e.path===t&&e.desc!=n});c&&c.length>0&&(a=P(c[0],d),d.splice(a,1),u=!0),i||(d.push({path:t,desc:n}),u=!0),u&&s._refreshOnSort()}else i||(l.sort=[{path:t,desc:n}],s._refreshOnSort());else i&&(a=P(r[0],d),d.splice(a,1),s._refreshOnSort())}}),St=l.extend({init:function(t,n,i,r){var a,o=this;a=o._eventNS=".shieldGridSelection"+p(),y(i)?(o.type="row",o.multiple=!1,o.toggle=!1,o.spreadsheet=!0):v(i)&&(o.type=i.type?i.type:"row",o.multiple=i.multiple,o.toggle=i.toggle?i.toggle:!1,o.spreadsheet=x(i.spreadsheet)?!0:i.spreadsheet),o.parentGrid=r,n.addClass(F),t.addClass("sui-non-selectable"),o.table=n,o.lastSelected=null,n.on(X+a,D(o._mouseDownHandler,o)),n.on(U+a,D(o._mouseMoveHandler,o)),e(C).on($+a,D(o._mouseUpHandler,o)),B&&n.on(G+a,function(){return!1}),o.multiple&&(o.area=e(C.createElement("span")),o.area.addClass("sui-area sui-area-color"))},destroy:function(){var e=this,t=e._eventNS;e.parentGrid=null,e.type=null,e.multiple=null,e.lastSelected=null,e.toggle=null,e.spreadsheet=null,e.table.off(t),e.x=null,e.y=null,e.table.off(G+t),e.elements=null,e.table=null,e.area&&(e.area.remove(),e.area=null)},select:function(t){var n=this;return t?void t.each(function(){n._selectElement(e(this))}):n.table.find("."+R)},clear:function(){var e=this;"row"==e.type?e._clearSelectedRows():e._clearSelectedCells()},_getParentTable:function(e){return e?"TABLE"==e[0].nodeName.toUpperCase()?e[0]:e.parent()?this._getParentTable(e.parent()):void 0:void 0},_mouseDownHandler:function(n){var i=this,r=n.pageX,o=n.pageY,s=e(n.target);i.x=r,i.y=o,("TD"!=s[0].nodeName.toUpperCase()||i._getParentTable(s)==i.table[0])&&(!(s.hasClass("sui-cell")||s.hasClass("sui-row")||s.hasClass("sui-alt-row"))||s.hasClass("sui-detail-cell")||s.hasClass("sui-detail-row")||s.hasClass("sui-collapse-cell")||s.hasClass("sui-expand-cell")||s.hasClass("sui-expand-cell-disabled")||s.hasClass("sui-indent-cell")||(i.multiple&&i.area.appendTo(C.body).css({left:r+1,top:o+1,width:0,height:0}),e(C).on(U+i._eventNS,D(i._mouseMoveHandler,i)),t.selection(!1),i.elements=a(n,i.table)))},_mouseMoveHandler:function(e){var t=this,n=e.pageX,i=e.pageY,r=t.x,a=t.y,o={left:r>n?n:r,top:a>i?i:a,width:T(n-t.x),height:T(i-t.y)};t.multiple&&t.area.css(o),e.preventDefault()},_mouseUpHandler:function(n){var i,r=this,a=n.ctrlKey,o=r.area,s=r.elements;if(e(C).off(U+r._eventNS),t.selection(!0),s){r.elementsToBeSelected=[],"row"==r.type?r._performRowSelection(o,a,s,n):r._performCellSelection(o,a,s,n);var l=[];for(i=0;i<r.elementsToBeSelected.length;i++){var d=r.elementsToBeSelected[i];!(d.hasClass("sui-cell")||d.hasClass("sui-row")||d.hasClass("sui-alt-row"))||d.hasClass("sui-detail-cell")||d.hasClass("sui-detail-row")||d.hasClass("sui-collapse-cell")||d.hasClass("sui-expand-cell")||d.hasClass("sui-expand-cell-disabled")||d.hasClass("sui-indent-cell")||l.push(d)}var u=r.parentGrid.trigger(V,{commandName:j,cancel:!1,toBeSelected:l});if(!u.cancel){for(i=0;i<l.length;i++)r._selectElement(l[i]);r.parentGrid.trigger(j),r.elements=null}}o&&o.remove()},_performRowSelection:function(t,n,i,r){var a=this;if(!(e(r.target).hasClass("sui-expand-cell")||e(r.target).hasClass("sui-expand-cell-disabled")||e(r.target).hasClass("sui-collapse-cell")||e(r.target)&&e(r.target).parent()&&(e(r.target).parent().hasClass("sui-expand-cell")||e(r.target).parent().hasClass("sui-expand-cell-disabled")||e(r.target).parent().hasClass("sui-collapse-cell"))))if(t&&0===t.height()&&0===t.width())a.multiple?a._processMultiRowSelection(r,i):a._processSingleRowSelection(r,i);else if(a.multiple){var o=a.table.find(">tbody > tr"),s=null;E(o,function(t,n){var i=e(n),a=i.offset().top;a<r.pageY&&(s=n.rowIndex)}),n||a._clearSelectedRows(),a._selectRowRange(i.row.rowIndex,s,n)}else a._processSingleRowSelection(r,i)},_performCellSelection:function(t,n,i,r){var a=this;if(!(e(r.target).hasClass("sui-expand-cell")||e(r.target).hasClass("sui-expand-cell-disabled")||e(r.target).hasClass("sui-collapse-cell")||e(r.target)&&e(r.target).parent()&&(e(r.target).parent().hasClass("sui-expand-cell")||e(r.target).parent().hasClass("sui-expand-cell-disabled")||e(r.target).parent().hasClass("sui-collapse-cell"))))if(t&&0===t.height()&&0===t.width())a.multiple?a._processMultiCellSelection(r,i):a._processSingleCellSelection(r,i);else if(a.multiple){var o=a.table.find(">tbody > tr > td"),s=[];E(o,function(t,n){var i=e(n),o=i.get(0).clientWidth,l=i.get(0).clientHeight,d=i.offset().top,u=i.offset().left,c=d+l,h=u+o,p=k(r.pageX,a.x),f=S(r.pageX,a.x),g=k(r.pageY,a.y),m=S(r.pageY,a.y),v=!1,y=!1;g>d?c>g&&(v=!0):m>d&&(v=!0),p>u?h>p&&(y=!0):f>u&&(y=!0),v&&y&&s.push(n)}),n||a._clearSelectedCells();for(var l=0;l<s.length;l++){var d=e(s[l]);d.hasClass(R)?a._deselectElement(e(s[l])):a.elementsToBeSelected.push(e(s[l]))}}else a._processSingleCellSelection(r,i)},_selectRowRange:function(t,n,i){for(var r=this,a=k(t,n),o=S(t,n),s=r.table.find(">tbody > tr"),l=a;o>=l;l++){var d=e(s[l]);i&&d.hasClass(R)?r._deselectElement(d):r.elementsToBeSelected.push(d)}},_clearSelectedRows:function(){var t=this,n=t.table.find(">tbody>tr."+R);E(n,function(n,i){t._deselectElement(e(i))})},_clearSelectedCells:function(){var t=this,n=t.table.find(">tbody > tr > td."+R);E(n,function(n,i){t._deselectElement(e(i))})},_processSingleRowSelection:function(t,n){var i=this,r=(i.table,i.toggle),a=i.multiple,o=e(n.row),s=o.hasClass(R);a||i._clearSelectedRows(),r?s?i._deselectElement(o):i.elementsToBeSelected.push(o):(i._clearSelectedRows(),i.elementsToBeSelected.push(o)),i.lastSelected=o},_processMultiRowSelection:function(t,n){var i=this,r=i.table,a=t.ctrlKey,o=t.shiftKey,s=e(n.row);if(a)s.hasClass(R)?(i._deselectElement(s),i.lastSelected=s):(i.elementsToBeSelected.push(s),i.lastSelected=s);else if(o)if(i.table.find(">tbody tr."+R),i.lastSelected){var l=i.lastSelected,d=l.get(0).rowIndex,u=r.find(">tbody > tr"),c=s.get(0).rowIndex,h=k(c,d),p=S(c,d);i._clearSelectedRows();for(var f=h;p>=f;f++)if(f!==d){var g=e(u[f]);i.elementsToBeSelected.push(g)}i.elementsToBeSelected.push(e(u[d]))}else i.elementsToBeSelected.push(s),i.lastSelected=s;else i._processSingleRowSelection(t,n)},_processSingleCellSelection:function(t,n){var i=this,r=(i.table,i.toggle),a=i.multiple,o=e(n.cell),s=o.hasClass(R);i.lastSelected,a||i._clearSelectedCells(),r?s?i._deselectElement(o):i.elementsToBeSelected.push(o):(i._clearSelectedCells(),i.elementsToBeSelected.push(o)),i.lastSelected=o},_processMultiCellSelection:function(t,n){var i=this,r=i.table,a=t.ctrlKey,o=t.shiftKey,s=e(n.cell);if(a)s.hasClass(R)?(i._deselectElement(s),i.lastSelected=s):(i.elementsToBeSelected.push(s),i.lastSelected=s);else if(o)if(i.lastSelected){var l,d=i.lastSelected,u=i.table.get(0),c=u.rows[0].cells.length,h=d.parent().get(0).rowIndex,p=h*c+d.get(0).cellIndex,f=r.find(">tbody > tr > td"),g=s.parent().get(0).rowIndex,m=g*c+s.get(0).cellIndex,v=k(m,p),y=S(m,p);if(i._clearSelectedCells(),i.spreadsheet){var b=d[0].cellIndex,_=s[0].cellIndex;v=k(b,_),y=S(b,_);var x=k(h,g),w=S(h,g);for(l=x;w>=l;l++){var C,T=u.rows[l];for(C=v;y>=C;C++)i.elementsToBeSelected.push(e(T.cells[C]))}}else for(l=v;y>=l;l++)if(l!==p){var E=e(f[l]);i.elementsToBeSelected.push(E)}i.elementsToBeSelected.push(e(f[p]))}else i.elementsToBeSelected.push(s),i.lastSelected=s;else i._processSingleCellSelection(t,n)},_selectElement:function(e){e.addClass(R)},_deselectElement:function(e){e.removeClass(R)}}),Et=l.extend({options:{ns:".shieldGridGroupReorder",returnDuration:50,returnEasing:"ease-out",dragTreshold:20,draggedTemplate:"<div style='border-color:transparent;' class='sui-grid sui-grid-core'><div class='sui-group-panel-indicator'><span class='sui-group-title'>{0}</span><span class='sui-group-close-button'></span></div></div>"},init:function(e){var t=this;t.grid=e,t.options=A(!0,{},Et.fn.options),t._eventNS=t.options.ns+p(),t._events(!0)},_events:function(e){var t=this,n=t.grid.element;e?(t._downProxy=D(t._down,t),n.on(X+t._eventNS,".sui-group-panel-indicator",t._downProxy)):(n.off(X+t._eventNS,".sui-group-panel-indicator",t._downProxy),t._downProxy=null)},_down:function(n){var i=this,r=e(n.target).closest(".sui-group-panel-indicator"),a=r.offset(),o=i.grid.element,s=o.offset(),l=n.pageX,d=n.pageY;return i.dataField=r.attr("data-field"),n.button>1?void 0:(i._moveProxy=D(i._move,i),i._upProxy=D(i._up,i),e(C).on(U+i._eventNS,i._moveProxy).on($+i._eventNS,i._upProxy),i.start={left:l-a.left,top:d-a.top,x:l,y:d,target:r,index:r.parent().find(".sui-group-panel-indicator").index(r),positions:i._positions(r),gridPosition:{left:s.left,top:s.top,width:o.outerWidth(),height:o.outerHeight()},isRtl:c.isRtl(o)},t.selection(!1),!1)},_move:function(t){var n=this,i=n.options,r=n.dragged,a=n.start,o=t.pageX,s=t.pageY,l=i.dragTreshold;r?(r.css({left:o-a.left,top:s-a.top}),n.hovered=n._index(o,s),n._indicator()):(T(a.x-o)>l||T(a.y-s)>l)&&(n.dragged=e(u(i.draggedTemplate,a.target.html())).css({position:"absolute",left:o-a.left,top:s-a.top,zIndex:999}).find("table").css("width","auto").end().find("th").attr("style",a.target[0].style.cssText).css({width:a.target.width(),height:a.target.height()}).end().appendTo(C.body))},_positions:function(e){var t,n,i=e.parent().children(".sui-group-panel-indicator"),r=0,a=[];for(r;r<i.length;r++)t=i.eq(r),n=t.offset(),a.push({left:n.left,top:n.top,width:t.outerWidth(),height:t.outerHeight()});return a},_index:function(e,t){var n,i,r,a,o=this.start,s=o.gridPosition;for(i=0;i<o.positions.length;i++)if(n=o.positions[i],r=n.left<=e&&e<=n.left+n.width&&n.top<=t&&t<=n.top+n.height,a=s.left<=e&&e<=s.left+s.width&&s.top<=t&&t<=s.top+s.height,r&&a)return i;return-1},_indicator:function(){var t,n=this,i=n.start,r=n.hovered,a=i.positions[r],o=n.reorderIndicator,s=i.gridPosition.left,l=i.gridPosition.left+i.gridPosition.width,d=i.target.parent().children(".sui-group-panel-indicator"),u=i.isRtl?i.index<r:i.index>r;d.removeClass("sui-reorder-target"),o&&o.hide(),null!=r&&r>-1&&(d.eq(r).addClass("sui-reorder-target"),o||(o=n.reorderIndicator=e("<div class='sui-grid-reorder-indicator'><span class='sui-grid-indicator-top' /><span class='sui-grid-indicator-bottom' /></div>").appendTo(C.body)),r!==i.index&&(t=a.left+(u?0:a.width),o.css({left:k(S(s,t),l),top:a.top,height:a.height}).show()))},_up:function(){var n,i=this,r=i.options,a=i.grid,o=i.dragged,s=i.start,l=i.hovered,d=i.dataField;if(i._detachDocumentEvents(),o)if(null!=l&&l>-1){if(o.remove(),n=a.trigger(V,{commandName:nt,cancel:!1,index:s.index,newIndex:l}),!n.cancel)for(var u=a.dataSource.group,h=0;h<u.length;h++)if(u[h].field==d){var p=u[h];u[h]=u[l],u[l]=p;break}}else setTimeout(function(){o.remove()},c.transitions?r.returnDuration:0),i.grid.dataSource.group&&(n=a.trigger(V,{commandName:rt,cancel:!1,field:d}),n.cancel||(i.grid.ungroup(d),a.trigger(rt,n)));i.dragged=i.dataField=i.hovered=l=null,i._indicator(),i.reorderIndicator&&(i.reorderIndicator.remove(),i.reorderIndicator=null),i.start=null,e(C).off(i._eventNS),t.selection(!0),n&&!n.cancel&&(delete n.cancel,delete n.commandName,a.dataSource.read(),a.trigger(nt,n))},_detachDocumentEvents:function(){var t=this;t._moveProxy=t._upProxy=null,e(C).off(t._eventNS)},destroy:function(){var e=this;e.dataField=null,e._detachDocumentEvents(),e._events(!1)}}),Dt=l.extend({options:{ns:".shieldGridColumnGroupReorder",returnDuration:150,returnEasing:"ease-out",dragTreshold:20,draggedTemplate:"<div class='sui-grid sui-grid-core'><div class='sui-gridheader'><table class='sui-table'><thead><tr class='sui-columnheader'><th class='sui-headercell'>{0}</th></tr></thead></table></div></div>"},init:function(e){var t=this;t.grid=e,t.options=A(!0,{},At.fn.options),t._eventNS=t.options.ns+p(),t._events(!0),e.headerTable.addClass("sui-reorderable")},_events:function(e){var t=this,n=t.grid.element;e?(t._downProxy=D(t._down,t),n.on(X+t._eventNS,".sui-headercell",t._downProxy)):(n.off(X+t._eventNS,".sui-headercell",t._downProxy),t._downProxy=null)},_down:function(n){var i=this,r=e(n.target).closest(".sui-headercell"),a=r.offset(),o=i.grid.element,s=o.offset(),l=n.pageX,d=n.pageY;if(!(n.button>1)){var u=r.attr("data-field"),h=i.grid.dataSource.group;if(h)for(var p=0;p<h.length;p++)if(u===h[p].field)return;return e(C).on(U+i._eventNS,D(i._move,i)).on($+i._eventNS,D(i._up,i)),i.start={left:l-a.left,top:d-a.top,x:l,y:d,target:r,index:1e3,positions:i._positions(r),gridPosition:{left:s.left,top:s.top,width:o.outerWidth(),height:o.outerHeight()},isRtl:c.isRtl(o)},t.selection(!1),!1}},_move:function(t){var n=this,i=n.options,r=n.dragged,a=n.start,o=t.pageX,s=t.pageY,l=i.dragTreshold;r?(r.css({left:o-a.left,top:s-a.top}),n.hovered=n._index(o,s),n._indicator()):(T(a.x-o)>l||T(a.y-s)>l)&&(n.dragged=e(u(i.draggedTemplate,a.target.html())).css({position:"absolute",left:o-a.left,top:s-a.top,zIndex:999}).find("table").css("width","auto").end().find("th").attr("style",a.target[0].style.cssText).css({width:a.target.width(),height:a.target.height()}).end().appendTo(C.body))},_positions:function(){var e,t,n=this.grid.element.find(".sui-group-panel-indicator"),i=0,r=[];for(i;i<n.length;i++)e=n.eq(i),t=e.offset(),r.push({left:t.left,top:t.top,width:e.outerWidth(),height:e.outerHeight()}),i==n.length-1&&r.push({left:t.left,top:t.top,width:e.outerWidth(),height:e.outerHeight()});return r},_index:function(e,t){var n,i,r,a,o,s=this.start,l=s.gridPosition,d=this.grid.element.find(".sui-group-panel");if(s.positions.length>0){for(i=0;i<s.positions.length;i++)if(n=s.positions[i],r=n.left<=e&&e<=n.left+n.width&&n.top<=t&&t<=n.top+n.height,o=l.left<=e&&e<=l.left+l.width&&l.top<=t&&t<=l.top+l.height,a=d.offset().left<=e&&e<=d.offset().left+d.width()&&d.offset().top<=t&&t<=d.offset().top+d.height(),r&&o)return i}else a=d.offset().left<=e&&e<=d.offset().left+d.width()&&d.offset().top<=t&&t<=d.offset().top+d.height();return a?(this.isOnGroupPanel=!0,this.grid.element.find(".sui-group-panel-indicator").length):-1},_indicator:function(){var t,n=this,i=n.start,r=n.hovered,a=i.positions[r],o=n.reorderIndicator,s=i.gridPosition.left,l=i.gridPosition.left+i.gridPosition.width,d=i.target.parent().children(".sui-group-panel-indicator"),u=i.isRtl?i.index<r:i.index>r;d.removeClass("sui-reorder-target"),o&&o.hide(),null!=r&&r>-1&&(d.eq(r).addClass("sui-reorder-target"),o||(o=n.reorderIndicator=e("<div class='sui-grid-reorder-indicator'><span class='sui-grid-indicator-top' /><span class='sui-grid-indicator-bottom' /></div>").appendTo(C.body)),this.isOnGroupPanel&&(u=!1),a?(t=a.left+(u?0:a.width),this.isOnGroupPanel=null,o.css({left:k(S(s,t),l),top:a.top,height:a.height}).show()):(t=s+(u?i.gridPosition.width:0),this.isOnGroupPanel=null,o.css({left:t,top:i.gridPosition.top,height:n.grid.element.find(".sui-group-panel-empty").outerHeight()}).show()))},_up:function(){var n,i=this,r=i.options,a=i.grid,o=i.dragged,s=i.start,l=i.hovered;if(o)if(o.css({left:s.x-s.left,top:s.y-s.top,transition:u("left {0} {1}ms, top {0} {1}ms",r.returnEasing,r.returnDuration)}),null!=l&&l>-1){o.remove();var d=s.target.attr("data-field");n=a.trigger(V,{commandName:it,cancel:!1,field:d,index:l}),n.cancel||a.group(d,l,"asc")}else setTimeout(function(){o.remove()},c.transitions?r.returnDuration:0);i.dragged=i.hovered=l=null,i._indicator(),i.reorderIndicator&&(i.reorderIndicator.remove(),i.reorderIndicator=null),i.start=null,e(C).off(i._eventNS),t.selection(!0),n&&!n.cancel&&(delete n.cancel,delete n.commandName,a.dataSource.read(),a.trigger(it,n))},destroy:function(){this._events(!1),this.grid.headerTable.removeClass("sui-reorderable")}}),At=l.extend({options:{ns:".shieldGridColumnReorder",returnDuration:150,returnEasing:"ease-out",dragTreshold:20,draggedTemplate:"<div class='sui-grid sui-grid-core'><div class='sui-gridheader'><table class='sui-table'><thead><tr class='sui-columnheader'><th class='sui-headercell'>{0}</th></tr></thead></table></div></div>"},init:function(e){var t=this;
t.grid=e,t.options=A(!0,{},At.fn.options),t._eventNS=t.options.ns+p(),t._events(!0),e.headerTable.addClass("sui-reorderable")},_events:function(e){var t=this,n=t.grid.element;e?(t._downProxy=D(t._down,t),n.on(X+t._eventNS,".sui-headercell",t._downProxy)):(n.off(X+t._eventNS,".sui-headercell",t._downProxy),t._downProxy=null)},_down:function(n){var i=this,r=e(n.target).closest(".sui-headercell"),a=r.offset(),o=i.grid.element,s=o.offset(),l=n.pageX,d=n.pageY;return n.button>1?void 0:(e(C).on(U+i._eventNS,D(i._move,i)).on($+i._eventNS,D(i._up,i)),i.start={left:l-a.left,top:d-a.top,x:l,y:d,target:r,index:r.parent().find(".sui-headercell").index(r),positions:i._positions(r),gridPosition:{left:s.left,top:s.top,width:o.outerWidth(),height:o.outerHeight()},isRtl:c.isRtl(o)},t.selection(!1),!1)},_move:function(t){var n=this,i=n.options,r=n.dragged,a=n.start,o=t.pageX,s=t.pageY,l=i.dragTreshold;r?(r.css({left:o-a.left,top:s-a.top}),n.hovered=n._index(o,s),n._indicator()):(T(a.x-o)>l||T(a.y-s)>l)&&(n.dragged=e(u(i.draggedTemplate,a.target.html())).css({position:"absolute",left:o-a.left,top:s-a.top,zIndex:999}).find("table").css("width","auto").end().find("th").attr("style",a.target[0].style.cssText).css({width:a.target.width(),height:a.target.height()}).end().appendTo(C.body))},_positions:function(e){var t,n,i=e.parent().children(".sui-headercell"),r=0,a=[];for(r;r<i.length;r++)t=i.eq(r),n=t.offset(),a.push({left:n.left,top:n.top,width:t.outerWidth(),height:t.outerHeight()});return a},_index:function(e,t){var n,i,r,a,o=this.start,s=o.gridPosition;for(i=0;i<o.positions.length;i++)if(n=o.positions[i],r=n.left<=e&&e<=n.left+n.width&&n.top<=t&&t<=n.top+n.height,a=s.left<=e&&e<=s.left+s.width&&s.top<=t&&t<=s.top+s.height,r&&a)return i;return-1},_indicator:function(){var t,n=this,i=n.start,r=n.hovered,a=i.positions[r],o=n.reorderIndicator,s=i.gridPosition.left,l=i.gridPosition.left+i.gridPosition.width,d=i.target.parent().children(".sui-headercell"),u=i.isRtl?i.index<r:i.index>r;d.removeClass("sui-reorder-target"),o&&o.hide(),null!=r&&r>-1&&(d.eq(r).addClass("sui-reorder-target"),o||(o=n.reorderIndicator=e("<div class='sui-grid-reorder-indicator'><span class='sui-grid-indicator-top' /><span class='sui-grid-indicator-bottom' /></div>").appendTo(C.body)),r!==i.index&&(t=a.left+(u?0:a.width),o.css({left:k(S(s,t),l),top:a.top,height:a.height}).show()))},_up:function(){var n,i=this,r=i.options,a=i.grid,o=i.dragged,s=i.start,l=i.hovered;o&&(o.css({left:s.x-s.left,top:s.y-s.top,transition:u("left {0} {1}ms, top {0} {1}ms",r.returnEasing,r.returnDuration)}),null!=l&&l>-1?(o.remove(),n=a.trigger(V,{commandName:tt,cancel:!1,index:s.index,newIndex:l}),n.cancel||a.reorderColumn(s.index,l)):setTimeout(function(){o.remove()},c.transitions?r.returnDuration:0)),i.dragged=i.hovered=l=null,i._indicator(),i.reorderIndicator&&(i.reorderIndicator.remove(),i.reorderIndicator=null),i.start=null,e(C).off(i._eventNS),t.selection(!0),n&&!n.cancel&&(delete n.cancel,delete n.commandName,a.trigger(tt,n))},destroy:function(){this._events(!1),this.grid.headerTable.removeClass("sui-reorderable")}}),Pt=s.extend({init:function(){s.fn.init.apply(this,arguments);var e=this;e._eventNS=".shieldGrid"+e.getInstanceId(),e.refresh(),e._dM()},destroy:function(){this._destroyInternal(),s.fn.destroy.call(this)},_destroyInternal:function(){var t,i,r,a=this,o=(a.options,a._eventNS);if(a.contentWrapper){if(a._markedCells){for(i in a._markedCells)a._markedCells.hasOwnProperty(i)&&(a._markedCells[i].length=0);a._markedCells=null}for(e(n).off(Q+a._rsNS),a._resize=a._rsNS=null,a.sorting&&(a.sorting.destroy(),a.sorting=null),a.virtualizedContainer&&(a.virtualizedContainer.destroy(),a.virtualizedContainer=null),t=0;t<a.columns;t++)a.columns[t].destroy();if(a.contentWrapper&&a.contentWrapper.off(Y,a._hScrollHandler),a._hScrollHandler=a.scrollableWrapper=null,a._selectable&&(a._selectable.destroy(),a._selectable=null),a.options.scrolling?(a.contentWrapper.parent().remove(),a.headerWrapper.parent().remove()):(a.contentWrapper.remove(),a.headerWrapper.remove()),a._hasDetailTemplate()&&(a.contentTable.off(K,".sui-expand-cell",a._toggleDetailTemplateHandler).off(K,".sui-collapse-cell",a._toggleDetailTemplateHandler),a._toggleDetailTemplateHandler=null),a.popupWindow&&a.popupWindow.destroy(),a.columns=a._windowEditingIndex=a.contentWrapper=a.headerWrapper=a.contentTable=a.hederTable=null,a._buttons){for(t=0;t<a._buttons.length;t++)r=a._buttons[t].button.element,a._buttons[t].button.destroy(),r.remove();a._buttons.length=0}a.pager&&(a.pager.destroy(),a.pager=null,a.pagerWrapper&&(a.pagerWrapper.parent().remove(),a.pagerWrapper=null)),a.loadingPanel&&(a.loadingPanel=null,clearTimeout(a.loadingPanelTimeout),a.loadingPanelTimeout=null),a._columnResizing&&(a._columnResizing.destroy(),a._columnResizing=null),a._toolbar&&(a._toolbar.destroy(),a._toolbar=null),a._editing&&(a._editing.destroy(),a._editing=null),a._columnReorder&&(a._columnReorder.destroy(),a._columnReorder=null),a._sortingInProgress=a._scrollLeft=a._scrollTop=a._populateInsertedItem=a._preventClosingEditors=a._editingInProcess=null,a._filter&&(a._filter.destroy(),a._filter=null),a._groupReorder&&(a._groupReorder.destroy(),a._groupReorder=null),a._columnGroupReorder&&(a._columnGroupReorder.destroy(),a._columnGroupReorder=null),a.dataSource.off(o),a.element.removeClass("sui-grid sui-grid-core").css(O,"").empty()}},_dM:function(){var t=function(t){return e("<div/>").html(t).text()},n="&#68;&#101;&#109;&#111;&#32;&#86;&#101;&#114;&#115;&#105;&#111;&#110;",i=C.createTextNode(t(n));e(i).insertAfter(e(this.element))},_resizeHandler:function(){this.options.scrolling&&this._scrolling()},_hasDetailTemplate:function(){var e=this.options;return e.detailTemplate||e.events&&e.events.detailCreated},_hasVirtualScrolling:function(){var e=this.options;return e.scrolling&&e.scrolling.virtual&&!e.paging&&!this._hasDetailTemplate()},_canExpandCollapse:function(){return this.options.detailExpandCollapse!==!1},_resolveColumns:function(e){var n=this.columns=[];f.array(e)?E(e,function(e,t){n.push(new wt(t))}):t.error("Invalid columns declaration. The columns have to be array.",this.options.dieOnError)},_createWrappers:function(){var t=this,n=t.element;t._wrapper();var i=e("<div />").prependTo(n);i.addClass("sui-gridcontent");var r=e("<div />").prependTo(n);r.addClass("sui-gridheader"),t.options.showHeader||(r.css("display","none"),i.addClass("sui-no-header")),t.headerWrapper=r,t.contentWrapper=i},_wrapper:function(){var e=this.options.height,t=this.element;t.is("div")||(t=t.wrap("<div/>").parent()),t.addClass("sui-grid sui-grid-core"),t&&t.css(O,e)},_createGroupPanel:function(){var t,n,i,r=this,a=!1,o=r.dataSource;if(i=r.element.find(".sui-group-panel"),i.length>0&&i.remove(),r.options.grouping.showGroupHeader)if(o.group&&0!==o.group.length){t=e("<div class='sui-group-panel' />"),r.element.prepend(t);for(var s=0;s<o.group.length;s++)n=o.group[s],r._createGroupHeaderIndicator(n,t),a=!0;a&&r.options.grouping.allowDragToGroup&&(r._groupReorder&&r._groupReorder.destroy(),r._groupReorder=new Et(r),r._columnGroupReorder&&r._columnGroupReorder.destroy(),r._columnGroupReorder=new Dt(r))}else r.element.prepend(e("<div class='sui-group-panel sui-group-panel-empty' >"+r.options.grouping.message+"</div>"))},_createGroupHeaderIndicator:function(t,n){var i,r,a,o=this;a=e("<div class='sui-group-panel-indicator' data-field=\""+t.field+'" />').appendTo(n),r="desc"==t.order?e("<span class='sui-descending'>&#9660;</span>").appendTo(a):e("<span class='sui-ascending'>&#9650;</span>").appendTo(a),e("<span class='sui-group-title'>"+t.field+"</span>").appendTo(a),o.options.grouping.allowDragToGroup&&(i=e("<span class='sui-group-close-button'>&#10006;</span>").appendTo(a),i.on(K,o._closeButtonClicked=D(o._closeButtonClickedHandler,o))),r.on(K,o._sortButtonClicked=D(o._sortButtonClickedHandler,o))},_sortButtonClickedHandler:function(t){for(var n=this,i=e(t.currentTarget),r=i.parent().attr("data-field"),a=n.dataSource.group,o=0;o<a.length;o++)a[o].field==r&&(a[o].order=i.hasClass("sui-descending")?"asc":"desc",n.dataSource.read())},_closeButtonClickedHandler:function(t){var n,i=this,r=e(t.currentTarget),a=r.parent().attr("data-field");i.dataSource.group&&(n=i.trigger(V,{commandName:rt,cancel:!1,field:a}),n.cancel||(i.ungroup(a),i.trigger(rt,n)))},_createHeaderTable:function(){var t=this,n=t.headerWrapper,i=t.element;i.is("table")||(i=n.children("table"),i.length||(i=e("<table />").appendTo(n))),L&&i.attr("cellspacing",0),i.addClass("sui-table"),t.headerTable=i,t._createTbody(i,!0),t._createThead(i,!0),t._createFakeRow(i,t.columns.length)},_createContentTable:function(){var t=this,n=t.options,i=t.contentWrapper,r=t.element;r.is("table")||(r=i.children("table"),r.length||(r=e("<table />").appendTo(i))),L&&r.attr("cellspacing",0),r.addClass("sui-table"),n.rowHover&&r.addClass("sui-hover"),t._hasDetailTemplate()&&(t._canExpandCollapse()&&r.addClass("sui-expandable"),r.on(K," > tbody > tr > .sui-expand-cell",t._toggleDetailTemplateHandler=D(t._expandCollapseDetailTemplate,t)),r.on(K," > tbody > tr > .sui-collapse-cell",t._toggleDetailTemplateHandler)),t.contentTable=r,t._createTbody(t.contentTable,!1)},_createTbody:function(t,n){var i=t.find(">tbody");i.length||(i=e("<tbody/>").appendTo(t)),n&&i.addClass("sui-hide"),t.tbody=i},_createThead:function(t){var n,i,a,o,s,l=this,d=(l.options,l.columns),u="",c=t.find(">thead");if(c.length||(c=e("<thead/>").insertBefore(t.tbody)),a=t.find("tr:has(th):first"),a.length||(a=c.children().first(),a.length||(a=e("<tr/>"))),!a.children().length){for(n=0,i=d.length;i>n;n++)s=d[n],o=s.headerTemplate||s.title||s.field||s,u+="<th "+r(s.headerAttributes)+' data-field="'+d[n].field+'">'+o+"</th>";a.html(u)}if(a.addClass("sui-columnheader"),a.find("th").addClass("sui-headercell"),d.length&&l._hasDetailTemplate()&&l._canExpandCollapse()){var h=e('<th class="sui-indent-cell" />');L&&h.html("&nbsp;"),h.prependTo(a)}a.appendTo(c),t.thead=c},_createFakeRow:function(t,n){var i=t.find(">tbody");if(i.length){for(var r=e("<tr/>"),a=0;n>a;a++)e("<td/>").appendTo(r);r.appendTo(i)}},_createColgroup:function(t){var n,i,r,a=this,o=a.options,s=a.columns,l=t.find(">colgroup");for(l.length||(l=e("<colgroup/>").prependTo(t)),l.html(""),o.columns.length&&a._hasDetailTemplate()&&a._canExpandCollapse()&&e("<col class='sui-indent-col'/>").appendTo(l),n=0,i=s.length;i>n;n++)r=s[n].width,e(r&&0!==parseInt(r,10)?u('<col style="width:{0}"/>',m(r)?r:r+"px"):"<col />").appendTo(l)},_scrolling:function(){var n,r,a,o,s=this,l=s.element,d=s.dataSource,u=s._hasVirtualScrolling(),h=s.headerWrapper,p=s.contentWrapper,f=h.outerHeight();if(h.parent().hasClass("sui-gridheader sui-scrolldiv")?f=h.parent().outerHeight():(h.addClass("sui-headercontent").removeClass("sui-gridheader"),h.wrap("<div class='sui-gridheader sui-scrolldiv'></div>"),p.addClass("sui-content").removeClass("sui-gridcontent"),p.wrap("<div class='sui-gridcontent sui-scroller'></div>"),L&&(s.headerTable.addClass("sui-table-ie7").removeClass("sui-table"),s.contentTable.addClass("sui-table-ie7").removeClass("sui-table")),e(s.element).find(".sui-scrolldiv").css(c.isRtl(l)?"padding-left":"padding-right",c.scrollbar()-1),r=s.scrollableWrapper=u?p.parent():p,r.on(Y,s._hScrollHandler=D(s._hscroll,s))),n=l.innerHeight()-f,s.pagerWrapper&&(n-=s.pagerWrapper.outerHeight()),s._toolbar){var g,m=s.element.find(".sui-toolbar"),v=0;for(g=0;g<m.length;g++)v+=e(m[0]).outerHeight();n-=v+1}var y=s.element.find(".sui-group-panel");if(y.length>0&&(n-=y.outerHeight()),e(p).add(p.parent()).css({height:n,width:"100%"}),u&&d.view&&d.view.length)s.virtualizedContainer?(s.virtualizedContainer.options.total=d.total,s.virtualizedContainer.render()):(a=s._renderRow(0,s.contentTable.tbody,i),o=a.outerHeight(),a.remove(),s.virtualizedContainer=new t.ui.VirtualizedContainer(r,{itemHeight:o,total:d.total,createContainer:function(e){return e.addClass("sui-content").append(s.contentTable).find("tbody").empty()},getItems:D(s._loadVirtualRows,s),skipRender:!0}),s.virtualizedContainer.render()),s.contentWrapper=s.virtualizedContainer.element.children().eq(0);else if(B&&!L&&!N){var b=p.get(0);b.scrollWidth<=b.clientWidth&&p.css(O,n+1)}},_loadVirtualRows:function(e,t,n){var i=this,r=i.dataSource,a=null!=r.skip?r.skip:0,o=null!=r.take?r.take:r.view.length,s=100,l=i.virtualizedContainer.container;if(!i._sortingInProgress&&r.remote&&(a>e||t>=a+o))clearTimeout(i._loadWaitTimeout),i._loadWaitTimeout=setTimeout(function(e,t,n){return function(){i._loadWaitTimeout=null,r.skip=e,r.take=t-e,i._loadingVirtualRows=!0,r.read().then(function(){if(!i._loadWaitTimeout){l.empty();for(var a=e;t>a&&a<r.total;a++)i._renderRow(a-e,l,r.view[a-e]);r.one(W,function(){i._loadWaitTimeout||(i._loadingVirtualRows=!1)}),i.loading(!1),n([],!1)}})}}(e,t,n),s);else{l.empty();for(var d=e;t>d&&d<r.total;d++)i._renderRow(d,l,r.view[d]);n([],!1)}i._checkIfVerticalScroll()},_checkIfVerticalScroll:function(){var e=this,t=e.element.find(".sui-virtualized").get(0),n=e.element.get(0),i=t.scrollHeight>n.scrollHeight;i?(e.headerWrapper.parent().css("padding-right","16px"),e.headerWrapper.removeClass("sui-grid-no-gap")):(e.headerWrapper.parent().css("padding-right","0px"),e.headerWrapper.addClass("sui-grid-no-gap"))},_hscroll:function(){var e=this,t=e.scrollableWrapper,n=t.get(0),i=e.headerWrapper,r=t.scrollLeft(),a=i.scrollLeft();if(c.isRtl(e.element)&&H&&n.clientHeight<n.scrollHeight&&(r+=n.offsetWidth-n.clientWidth),r!=a){i.scrollLeft(r);var o=e.element.find(".sui-footer-content");o.length>0&&o.scrollLeft(r)}},_sorting:function(){var e=this,t=e.options.sorting;e.element,t&&e.columns.length&&(e.sorting=new kt(t,e))},_renderData:function(){var t,n,i=this,r=i.dataSource.view,a=i.options;if(a.scrolling,x(a.altRows)?!0:a.altRows,a.rowTemplate,a.altRowTemplate,i.contentTable,!i._loadingVirtualRows&&(n=i.trigger(V,{commandName:q,cancel:!1}),!n.cancel)){i._sortingInProgress?i._updateGrid():(i.columns.length||(t=[],r.length&&E(r[0],function(e){t.push(e)}),a.columns=t,i._resolveColumns(t),i._createThead(i.headerTable,!0)),i._createColgroup(i.headerTable)),i._createColgroup(i.contentTable),i._sortingInProgress=!1,i._renderRows(),i._renderFooter();var o=function(t){return e("<div/>").html(t).text()},s=o("&#83;&#104;&#105;&#101;&#108;&#100;&#85;&#73;");i.loading(!1);var l=o("&#104;&#116;&#116;&#112;&#58;&#47;&#47;&#119;&#119;&#119;&#46;&#115;&#104;&#105;&#101;&#108;&#100;&#117;&#105;&#46;&#99;&#111;&#109;");i.trigger(q);var d=l;i.dL||(i.dL=e('<a href="'+d+'" target="_blank"> by '+s+"</a>"),e(i.dL).css({color:"grey","text-decoration":"none"}).insertAfter(e(this.element)))}},_renderRows:function(){var t,n,i=this,r=i.options,a=i.dataSource,o=a.view,s=i.contentTable;if(i._markedCells){for(var l in i._markedCells)i._markedCells.hasOwnProperty(l)&&(i._markedCells[l].length=0);i._markedCells=null}if(s.tbody.empty(),!o||!o.length)return void(x(r.noRecordsTemplate)?e("<tr><td colspan='"+i.columns.length+"'>"+(r.noRecordsText||"No records to display")+"</td></tr>").appendTo(s.tbody):e("<td></td>").append(r.noRecordsTemplate).wrap("<tr></tr>").parent().appendTo(s.tbody));if(!i._hasVirtualScrolling()||i._sortingInProgress)if(n=a.group,n&&n.length>0){var d=0;for(i._renderGroupedData(o,d,0),i.headerTable.find(">colgroup").find(".sui-indent-col").remove(),i.headerTable.thead.find(".sui-columnheader > .sui-indent-cell").remove(),t=0;t<n.length;t++)e("<col class='sui-indent-col'/>").prependTo(i.headerTable.find(">colgroup")),e("<col class='sui-indent-col'/>").prependTo(i.contentTable.find(">colgroup")),e("<th class='sui-indent-cell'/>").prependTo(i.headerTable.thead.find(".sui-columnheader"));i._addAllIntendCells(),i.contentTable.addClass("sui-grouped-table")}else i._renderRowsAndDetails(o);i._createGroupPanel(),r.scrolling&&!i._sortingInProgress&&i._scrolling()},_addAllIntendCells:function(){for(var t,n=this,i=n.contentTable.get(0).rows,r=0;r<i.length;r++){var a=e(i[r]),o=parseInt(a.attr("data-group-level"),10);if(a.hasClass("sui-group-header")){if(o>1)for(t=0;o-1>t;t++)e("<td class='sui-indent-cell'/>").prependTo(a)}else for(t=0;o>t;t++)e("<td class='sui-indent-cell sui-group-intend-cell'/>").prependTo(a)}},_renderGroupedData:function(e,t,n){var i=this;i.options.detailExpandCollapse=!1;for(var r=0;r<e.length;r++){var a=e[r];a.hasOwnProperty("field")&&a.hasOwnProperty("items")&&a.hasOwnProperty("value")&&a.hasOwnProperty("order")?(n++,i._renderGroupHeader(a,n),i._renderGroupedData(a.items,t,n),i._renderGroupAggregates(a),n--):(i._renderDataItem(a,t,n),t++)}},_renderGroupAggregates:function(t){if(t.aggregate){var n,i,r,a,o,s=this,l=s.columns,d={},c=t.aggregate;for(a=0;a<l.length;a++)if(i=l[a].groupFooterTemplate){n=e("<tr class='sui-group-footer' />").appendTo(s.contentTable.tbody);break}if(n){for(a=0;a<l.length;a++)if(o=e("<td class='sui-group-footer-cell' />").appendTo(n),i=l[a].groupFooterTemplate){r=l[a].field;for(var h=0;h<c.length;h++)c[h].field==r&&(g(c[h].aggregate)?d.custom=c[h].value:d[c[h].aggregate]=c[h].value);if(g(i)){var p=i.call(s,o,d);b(p)&&!w(p)&&""!==p&&o.html(p)}else o.html(u.call(s,i,d))}var f=s.dataSource.group.length;for(a=0;f>a;a++)n.prepend(e("<td class='sui-indent-cell' />"))}}},_renderGroupHeader:function(t,n){var i=this,r=i.contentTable,a=i.columns.length+i.dataSource.group.length-n+1,o=e("<tr class='sui-group-header' data-group-level='"+n+"' />").appendTo(r),s=e("<td class='sui-group-header-cell' colspan='"+a+"' />").appendTo(o),l=e("<span class='sui-collapse'>&#9662;</span>").appendTo(s);e("<span class='sui-group-header-text'>"+t.field+": "+t.value+"</span>").appendTo(s),l.on(K,i._expandCollapse=D(i._expandCollapseHandler,i))},_expandCollapseHandler:function(t){var n,i=this,r=e(t.currentTarget),a=r.parent().parent();r.hasClass("sui-collapse")?(n=i.trigger(V,{commandName:mt,cancel:!1,row:a}),n.cancel||(i.collapseGroup(a),r.html("&#9656;"),r.removeClass("sui-collapse").addClass("sui-expand"),i.trigger(mt,{row:a}))):(n=i.trigger(V,{commandName:vt,cancel:!1,row:a}),n.cancel||(i.expandGroup(a),r.html("&#9662;"),r.removeClass("sui-expand").addClass("sui-collapse"),i.trigger(vt,{row:a})))},_renderDataItem:function(e,t,n){var i=this,r=i.contentTable;i._renderRow(t,r,e).attr("data-group-level",n)},_renderRowsAndDetails:function(e){var t,n,i=this,r=i.contentTable;for(n=0,t=e.length;t>n;n++)i._renderRow(n,r.tbody,i.dataSource.view[n]),i._hasDetailTemplate()&&!i._canExpandCollapse()&&i._addDetailTemplate(e[n])},_renderRow:function(t,n,i){var a,o,s,l,d=this,c=b(n),p=d.options,f=x(p.altRows)?!0:p.altRows,v=f&&t%2&&p.altRowTemplate?p.altRowTemplate:p.rowTemplate,y=d.columns;if(v)m(v)&&(v=v.replace(/^\s+/,"").replace(/\s+$/,"")),o=e(u(v,i)),c&&n.append(o);else{if(o=e("<tr class='"+(f&&t%2?"sui-alt-row":"sui-row")+"'/>"),arguments.length>3){var _=arguments[3],C=n.find("tr"),T=C.eq(_);C.length==_?n.append(o):o.insertBefore(T)}else c&&n.append(o);for(l=0;l<y.length;l++){var k,S,E=y[l],D=E.columnTemplate,A=E.format,P=E.field,M=E.buttons,I=e("<td "+r(E.attributes)+" class='sui-cell' />").appendTo(o);if(M)for(S=0;S<M.length;S++)d._buildButton(M[S],I,o.get(0).rowIndex);else D?g(D)?(k=D.call(d,I,i,t),b(k)&&!w(k)&&""!==k&&I.html(k)):I.html(u.call(d,D,i)):I.html(A?u.call(d,A,P?h(i,P):i):""+h(i,P))}}return d._hasDetailTemplate()&&d._canExpandCollapse()&&(s=d.trigger(V,{commandName:dt,cancel:!1,item:i}),s.cancel?a=e("<td class='sui-cell sui-expand-cell-disabled' />"):(a=e("<td class='sui-cell sui-expand-cell' />"),d._setExpandCollapseCellText(a,p.detailExpandText,p.detailCollapseText)),a.prependTo(o)),o},_renderFooter:function(){var t,n,i,r,a,o,s,l=this,d=l.columns,c={},h=l.dataSource.aggregates;for(a=0;a<d.length;a++)if(i=d[a].footerTemplate){if(l.options.scrolling&&l.options.scrolling.virtual){var p=e("<div class='sui-footer' style='padding-right: 16px;' />").appendTo(l.element),f=e("<div class='sui-footer-content' />").appendTo(p),m=e("<table class='sui-table' />").appendTo(f),v=l.element.find(".sui-headercontent > table > colgroup > col"),y=e("<colgroup />").appendTo(m);for(o=0;o<v.length;o++)e(v[o].outerHTML).appendTo(y);n=e("<tbody />").appendTo(m)}else n=e("<tfoot />").appendTo(l.contentTable);t=e("<tr class='sui-grid-footer' />").appendTo(n);break}if(t){for(a=0;a<d.length;a++)if(s=e("<td class='sui-footer-cell' />").appendTo(t),i=d[a].footerTemplate){for(r=d[a].field,o=0;o<h.length;o++)h[o].field==r&&(g(h[o].aggregate)?c.custom=h[o].value:c[h[o].aggregate]=h[o].value);if(g(i)){var _=i.call(l,s,c);b(_)&&!w(_)&&""!==_&&s.html(_)}else s.html(u.call(l,i,c))}var x=t.prev();(x.find(".sui-expand-cell").length>0||x.find(".sui-expand-cell-disabled").length>0||x.find(".sui-indent-cell").length>0||x.find(".sui-collapse-cell").length>0)&&t.prepend(e("<td />"))}},_buildButton:function(n,i,r){var a,o=this,s=n.commandName,l=n.click;if(t.ui.Button){var d=e("<button type='button'>"+n.caption+"</button>").appendTo(i);i.addClass("sui-button-cell"),"delete"===s?(l=o._deleteButtonClicked,x(n.cls)?n.cls="sui-delete":n.cls+=" sui-delete"):"edit"===s&&(o._editing&&(o._editing.type="row"),o._preventClosingEditors=!0,l=o._editButtonClicked,x(n.cls)?n.cls="sui-edit":n.cls+=" sui-edit"),a=new t.ui.Button(d,{cls:n.cls,events:{click:D(l,o,r,i)}}),("delete"==s||"edit"==s)&&(o._buttons||(o._buttons=[]),o._buttons.push({index:r,button:a}))}},_deleteButtonClicked:function(e){var t=this,i=t.dataSource,r=t.options.editing?t.options.editing.confirmation:null,a=t.trigger(V,{commandName:ft,cancel:!1,rowIndex:e});if(!a.cancel){if(r&&r["delete"]&&r["delete"].enabled&&!n.confirm(u(r["delete"].template,i.view[e])))return;i.removeAtView(e),t.options.editing&&!t.options.editing.batch&&i.save(!1),t.trigger(ft,{rowIndex:e})}},_editButtonClicked:function(n,i){var r=this,a=r._editing,o=r.dataSource,s=r.trigger(V,{commandName:ct,cancel:!1,row:e(i).parent(),cell:i});s.cancel||(r._editingInProcess=!0,o.tracker&&o.tracker.changes&&o.tracker.changes.added&&o.tracker.changes.added.length>0?o.cancel():"popup"!=r.options.editing.mode?(r._closeAllEditedRows(),a&&a.options.enabled&&a._putRowInEditMode(e(r.contentTable.find("tbody > tr")[n])),r._changeEditColumnButtons(n,i)):t.ui.Window&&r._initializePopupForm(n),r.trigger(ct,{row:e(i).parent(),cell:i}))},_initializePopupForm:function(n,i){var r,a,o,s=this,l=s._editing,d=s.dataSource;r=e('<div class="sui-modal-popup-edit-window"></div>').appendTo(C.body),a=e('<div class="sui-edit-form-container"></div>'),o=s.options.columns;for(var u=0;u<o.length;u++){var c=o[u];if(c.editable!==!1&&c.field){var p=d.schema.options.fields[c.field].type,f=d.editView(n).data,g=h(f,c.field);s._windowEditingIndex=n,e('<div class="sui-edit-form-label"><label for="'+c.field+'">'+(c.caption?c.caption:c.field)+"</label></div>").appendTo(a);var m=e('<div class="sui-edit-field"></div>').appendTo(a);if(c.editor)l._instantiateCustomEditor(c,m,f,0,!1,c.field);else switch(p){case Number:l._instantiateNumeric(m,g,!1,c.field);break;case Date:l._instantiateDatePicker(m,g,!1,c.field);break;case String:l._instantiateTextBox(m,g,!1,c.field);break;case Boolean:l._instantiateCheckBox(m,g,!1,c.field)}}}var v=e('<div class="sui-update-buttons sui-popup-buttons"></div>').appendTo(a),y=e("<button type='button'>Save</button>").appendTo(v),b=e("<button type='button'>Cancel</button>").appendTo(v);if(t.ui.Button){var _=new t.ui.Button(y,{events:{click:D(s._updateButtonClicked,s)}}),x=new t.ui.Button(b,{events:{click:D(s._cancelButtonClicked,s)}});s._buttons=[],s._buttons.push({index:1e4,button:_}),s._buttons.push({index:1e4,button:x})}a.appendTo(C.body),s.popupWindow=new t.ui.Window(r,{title:i?"Insert":"Edit",draggable:{enabled:!1},events:{close:D(s._cancelButtonClicked,s)},height:e(".sui-edit-form-container").height()+57,modal:!0}),s.popupWindow.content(a),s.popupWindow.resize({width:e(".sui-modal-popup-edit-window").width(),height:e(".sui-edit-form-container").height()+66}),s.trigger(i?bt:yt)},_changeEditColumnButtons:function(e,t){var n=this;n._removeButtons(t,e),n._buildButton({caption:"Update",click:n._updateButtonClicked},t,e),n._buildButton({caption:"Cancel",click:n._cancelButtonClicked},t,e),t.addClass("sui-update-buttons")},_removeButtons:function(e,t){for(var n=this,i=n._buttons.length;i--;)n._buttons[i].index==t&&(n._buttons[i].button.destroy(),n._buttons.splice(i,1));e.removeClass("sui-update-buttons").empty()},_updateButtonClicked:function(e,t){var n=this;return x(n._windowEditingIndex)||(e=n._windowEditingIndex),n._updateItem(e,t),n._editing._errorDuringEdit?void(n._editing._errorDuringEdit=!1):(n._putRowInViewMode(e,t),void("popup"===n.options.editing.mode&&n._removePopupWindow()))},_updateItem:function(e){var t,n,r,a,o,s,l,d=this,u=d.dataSource,c=(d.pager,[]),h=!0;if(u.group&&u.group.length>0&&"popup"!=d.options.editing.mode)for(o=d.contentTable.find(".sui-row, .sui-alt-row"),s=d.contentTable.find("tr").get(e),l=0;l<o.length;l++)if(o[l]==s){e=l;break}t=u.editView(e);for(a in t.data)t.data.hasOwnProperty(a)&&(null!=t.data[a]&&(h=!1),d._editing._editors[a]&&("custom"==d._editing._editors[a]?(r=d.trigger("getCustomEditorValue",{field:a,value:null}),n=r.value,d._editing._editors[a]=null):n=d._editing._editors[a].value?d._editing._editors[a].value():d._editing._editors[a].checked?d._editing._editors[a].checked():i,t.data[a]!=n&&c.push(a),(x(n)||null==n)&&(n=d._getDefaultValue(a)),t.set(a,n)));return d._editing._errorDuringEdit?void(c.length=0):(d._editing.options.batch||(r=d.trigger(V,{commandName:pt,cancel:!1}),r.cancel||(u.save(!1),d.trigger(pt))),d._populateInsertedItem=h,c)},_getDefaultValue:function(e){var t,n=this,i=n.dataSource.schema;if(i&&i.options.fields)switch(i.options.fields[e].type){case Number:t=0;break;case Date:t=new Date;break;case String:t="";break;case Boolean:t=!1}else t="";return t},_closeAllEditedRows:function(t){var n,i,r=this,a=r.contentTable.find(".sui-editable-cell");a.length>0&&(n=a.get(0).parentNode.rowIndex,i=r.contentTable.find(".sui-update-buttons").get(0),r._cancelButtonClicked(n,e(i)),t&&t.length>0&&r._renderUpdateMarkers(t,n))},_cancelButtonClicked:function(e,t){var n=this,i=n.dataSource,r=n.trigger(V,{commandName:ut,cancel:!1,rowIndex:e,cell:t});if(!r.cancel){if(i.tracker&&i.tracker.changes&&i.tracker.changes.added&&i.tracker.changes.added.length>0)i.cancel(),"popup"===n.options.editing.mode&&n._removePopupWindow();else if("popup"!=n.options.editing.mode)n._putRowInViewMode(e,t);else{for(var a=n.options.columns,o=0;o<a.length;o++){var s=n._editing._editors[a[o].field];s&&(g(s.destroy)&&n._editing._editors[a[o].field].destroy(),delete n._editing._editors[a[o].field])}n._removePopupWindow()}n.trigger(ut)}},_removePopupWindow:function(){var t=this;t._removeButtons(e(".sui-window .sui-update-buttons"),1e4),t.popupWindow.destroy(),e(".sui-modal-popup-edit-window").remove()},_putRowInViewMode:function(t,n){var i,r,a,o,s=this,l=s.dataSource,d=s.contentTable,u=t;if(l.group&&l.group.length>0&&"popup"!=s.options.editing.mode)for(a=d.find(".sui-row, .sui-alt-row"),r=d.find("tr").get(t),o=0;o<a.length;o++)if(a[o]==r){u=o;break}i=l.editView(u).data,n&&"popup"!=s.options.editing.mode&&s._removeButtons(n,t),r=d.find("tr").get(t);var c=parseInt(e(r).attr("data-group-level"),10);for(s._editing._destroyRow(t),r=s._renderRow(u,s.contentTable.tbody,i,t),o=0;c>o;o++)e("<td class='sui-indent-cell sui-group-intend-cell'/>").prependTo(r);if(c&&r.attr("data-group-level",c),s._editing.options.batch){var h=r.find(".sui-cell");if(s._markedCells&&s._markedCells[t]){var p,f,g=s._markedCells[t];for(o=0;o<g.length;o++)p=g[o],f=e(h[p]).html(),e(h[p]).html("<span class='sui-updated-marker' />"+f)}}},_renderUpdateMarkers:function(t,n){var i,r,a,o=this,s=o.columns,l=o.contentTable.find("tbody > tr").eq(n).find(".sui-cell");for(i=0;i<t.length;i++)for(r=0;r<s.length;r++)s[r].field===t[i]&&(a=e(l[r]).html(),e(l[r]).html("<span class='sui-updated-marker' />"+a),o._markedCells?(o._markedCells[n]||(o._markedCells[n]=[]),o._markedCells[n].push(r)):(o._markedCells={},o._markedCells[n]=[],o._markedCells[n].push(r)))},_selection:function(){var e=this,t=e.options;t.selection&&(e._selectable=new St(e.headerTable,e.contentTable,t.selection,e))},_filtering:function(){var e=this,t=e.options;t.filtering&&t.filtering.enabled&&(e._filter=new Tt(e))},_paging:function(n){var i,r=this,a=r.element;t.ui.Pager&&n&&(v(n)&&n instanceof t.ui.Pager?(r.pager=n,r.pager.dataSource=r.dataSource,r.pager.element.appendTo(a)):(i=e("<div />").appendTo(a),i.addClass("sui-pager"),r.pagerWrapper=i,r.pager=new t.ui.Pager(i.get(0),A({},n,{dataSource:r.dataSource}))))},_reorder:function(){var e=this,t=e.options;t.columnReorder&&(e._columnReorder=new At(e))},_expandCollapseDetailTemplate:function(t){var n=this,i=e(t.target).closest(".sui-row",n.contentTable);i.length||(i=e(t.target).closest(".sui-alt-row",n.contentTable)),n._toggleDetailTemplate(i)},_toggleDetailTemplate:function(t){var n,i=this,r=i.contentTable.find("tr:first").parent().children().not(".sui-detail-row"),a=P(t[0],r),o=i.dataSource.view,s=t.next(),l=i.options;s&&s.hasClass("sui-detail-row")?(s.toggle(),n=e(t.get(0).cells[0]),i._toggleClasses(n,"sui-expand-cell","sui-collapse-cell"),i._setExpandCollapseCellText(n,l.detailExpandText,l.detailCollapseText)):i._addDetailTemplate(o[a],t)},_setExpandCollapseCellText:function(e,t,n){x(n)&&(n="-"),x(t)&&(t="+");var i=this.options.detailCollapseCssClass,r=this.options.detailExpandCssClass;i=x(i)?"":" class = '"+i+"'",r=x(r)?"":" class = '"+r+"'",e.hasClass("sui-collapse-cell")?e.html("<span"+i+">"+n+"</span>"):e.hasClass("sui-expand-cell")&&e.html("<span"+r+">"+t+"</span>")},_addDetailTemplate:function(t,n){var i,r=this,a=r.options,o=e("<tr class='sui-detail-row'/>");r._canExpandCollapse()&&(i=e("<td class='sui-cell sui-indent-cell'/>"),L&&i.html("&nbsp;"),i.appendTo(o));var s=e('<td class="sui-detail-cell" colspan="'+r.columns.length+'"></td>'),l=r.trigger(V,{commandName:et,cancel:!1,detailCell:s,item:t});if(!l.cancel&&(s.appendTo(o),a.detailTemplate&&s.html(u(a.detailTemplate,t)),n?o.insertAfter(n):o.appendTo(r.contentTable.tbody),r.trigger(et,{detailCell:s,item:t}),n)){var d=e(n.get(0).cells[0]);r._toggleClasses(d,"sui-expand-cell","sui-collapse-cell"),r._setExpandCollapseCellText(d,a.detailExpandText,a.detailCollapseText)}},_toggleClasses:function(e,t,n){e.hasClass(t)?(e.removeClass(t),e.addClass(n)):(e.removeClass(n),e.addClass(t))},_resizing:function(){var e=this;e.options.resizing&&e.options.scrolling&&(e._columnResizing=new Ct(e))},_initToolbar:function(){var e=this,t=e.options;t.toolbar&&(e._toolbar=new _t(t.toolbar,e))},_initEditing:function(){var e=this,t=e.options;t.editing&&(e._buttons=[],e._editing=new xt(t.editing,e))},_refreshOnSort:function(){this._sortingInProgress=!0,this.dataSource.read()},_updateGrid:function(){var n=this,i=t.extend([l],n.options,i);n.sorting&&(n.sorting.destroy(),n.sorting=null),n.headerWrapper.find(".sui-headercell .sui-link").each(function(t,n){var i=e(n);i.parent().html(i.html())}),n.headerWrapper.find('.sui-headercell span[class^="sui-"]').remove(),n._sorting()},_dsStartHandler:function(){this.loading(!0)},refresh:function(i){var r=this,a=i?i.dataSource:null,o=r._eventNS;i=t.extend([l],r.options,i),a&&(i.dataSource=a);var s,u=i.scrolling,c=r.pager?r.pager.options:i.paging,h=0;u&&r.contentWrapper&&(h=r.contentWrapper.get(0).scrollLeft),r._destroyInternal(),s=r.dataSource=d.create(i.dataSource),s.on(W+o,D(r._renderData,r)).on(z+o,D(r._dsStartHandler,r)),r._resolveColumns(i.columns),r._createWrappers(),r._createHeaderTable(),r._createContentTable(),r._initToolbar(),r._initEditing(),r._selection(),r._paging(c),r._resizing(),r._reorder(),r._filtering(),r.pager||r.dataSource.read(),r._sorting(),r._rsNS=".rs"+r.getInstanceId(),e(n).on(Q+r._rsNS,r._resize=D(r._resizeHandler,r)),h&&(r.contentWrapper.get(0).scrollLeft=h)},loading:function(e){var n=this;t.ui.LoadingPanel&&(e?(n.loadingPanel||(n.loadingPanel=new t.ui.LoadingPanel(n.element.get(0))),n.loadingPanelTimeout=setTimeout(function(){n.loadingPanel&&n.loadingPanel.show()},50)):n.loadingPanel&&(clearTimeout(n.loadingPanelTimeout),n.loadingPanelTimeout=null,n.loadingPanel.hide()))},select:function(t){var n=this,i=n._selectable;return t=e(t),t.length?(i.multiple||(i.clear(),t=t.first()),void i.select(t)):i.value()},clearSelection:function(){this._selectable.clear()},sort:function(e,t,n){this.sorting&&this.sorting._sort(e,t,n)},_getItemRow:function(e){return _(e)&&(e=this.contentTable.children("tbody").children(".sui-row, .sui-alt-row").get(e)),e},expandRow:function(t){var n=this,i=e(n._getItemRow(t)),r=i.next();r.hasClass("sui-detail-row")?"none"==r.css("display")&&n._toggleDetailTemplate(i):n._toggleDetailTemplate(i)},collapseRow:function(t){var n=this,i=e(n._getItemRow(t)),r=i.next();r.hasClass("sui-detail-row")?"none"!=r.css("display")&&n._toggleDetailTemplate(i):(n._toggleDetailTemplate(i),i.next().toggle())
},reorderColumn:function(t,n){var i,r=this,a=r.element,o=r.columns,s=r.options.columns||[],l=r.headerWrapper,d="before",u=l.find(".sui-indent-cell").length;if(t=+t,n=+n,isNaN(t)||isNaN(n)||0>t||0>n||t>o.length-1||n>o.length-1)throw new Error("Invalid index in column reorder.");t!==n&&(n>t&&(d="after"),i=o.splice(t,1)[0],o.splice(n,0,i),i=s.splice(t,1)[0],s.splice(n,0,i),t+=u,n+=u,a.find(".sui-gridheader col:nth-child("+(t+1)+")").add(a.find(".sui-gridheader .sui-columnheader th:nth-child("+(t+1)+")")).add(a.find(".sui-gridcontent col:nth-child("+(t+1)+")")).add(a.find(".sui-gridcontent tr:not(.sui-detail-row) td:nth-child("+(t+1)+")")).each(function(){e(this).parent().children().eq(n)[d](this)}))},addRow:function(e){return this.dataSource.add(b(e)?e:{})},insertRow:function(e,t){return this.dataSource.insertView(e,b(t)?t:{})},saveChanges:function(){this.dataSource.save()},revertChanges:function(){this.dataSource.cancel()},dataItem:function(e){return this.dataSource.view[e]},editCell:function(e,t){var n=this,i=n.contentTable.find("tbody > tr").eq(e).find("td").eq(t).get(0);n._editingInProcess=!0,n._editing._putCellInEditMode(i,e)},editRow:function(t){var n=this,i=n.contentTable.find("tbody > tr").eq(t).get(0);n._editingInProcess=!0,n._editing._putRowInEditMode(e(i),0)},cancelEditing:function(){var t,n,i=this,r=i.contentTable.find(".sui-editable-cell");r.length>0&&(t=r.get(0).parentNode.rowIndex,n=i.contentTable.find(".sui-update-buttons").get(0),i._putRowInViewMode(t,e(n)))},deleteRow:function(e){this.dataSource.removeAtView(e)},filter:function(){var e=this,t=e.dataSource,n=[].slice.call(arguments);return n.length>0?(t.filter=n[0],void t.read()):t.filter},group:function(e,t,n,i){var r=this,a=r.dataSource.group;a?a.splice(t,0,{field:e,order:n,aggregates:i}):(r.dataSource.group=[],r.dataSource.group.push({field:e,order:n,aggregates:i}))},ungroup:function(e){var t=this,n=t.dataSource.group;t.headerTable.thead.find(".sui-columnheader > .sui-indent-cell").remove();for(var i=0;i<n.length;i++)n[i].field==e&&(n.splice(i,1),0===n.length&&(t.dataSource.group=null),t.dataSource.read())},collapseGroup:function(e){for(var t=!0,n=parseInt(e.attr("data-group-level"),10);t;)if(e=e.next().css("display","none"),e.next().length>0){var i=parseInt(e.next().attr("data-group-level"),10);n>=i&&e.next().hasClass("sui-group-header")&&(t=!1)}else t=!1},expandGroup:function(e){for(var t=!0,n=parseInt(e.attr("data-group-level"),10);t;){if(e=e.next().css("display",""),e.hasClass("sui-group-header")&&e.find(".sui-expand").length>0)return;if(e.next().length>0){var i=parseInt(e.next().attr("data-group-level"),10);n>=i&&e.next().hasClass("sui-group-header")&&(t=!1)}else t=!1}}});Pt.defaults=o,t.ui.plugin("Grid",Pt)}(jQuery,shield,this),!function(e,t,n,i){"use strict";var r,a,o=t.ui.Widget,s=(t.Class,Math.abs),l=(Math.min,Math.max,Math.floor),d=e.proxy,u=(e.each,e.map,t.Constants.KeyCode),c=t.format,h=t.error,p=t.is,f=p.defined,g=(p.string,p.object,p.func,t.to.number),m="value",v="tabindex",y="disabled",b="horizontal",_="both",x="top",w="bottom",C="left",T="up",k="right",S="down",E="click",D="keydown",A="slide",P="change",M="focus",I="blur",B="px";r={cls:i,orientation:b,min:0,max:100,value:i,step:1,largeStep:2,enabled:!0,buttons:!1,values:{enabled:!0,template:"{0}"},ticks:{enabled:!1,type:_,step:1},tooltip:{enabled:!1,template:"{0}"},width:i,height:i,events:{}},a=o.extend({init:function(){o.fn.init.apply(this,arguments);var t,i,r,a=this,s=a.options,l=s.cls,u=s.value,c=s.dieOnError;return s.orientation==b,a._original=i=e(a.element),"input"!==i.prop("tagName").toLowerCase()?void h("shieldSlider: Underlying element is not INPUT",c):(a.element=t=i.wrap('<div class="sui-slider sui-slider-'+s.orientation+(l?" "+l:"")+'" />').parent(),i.hide(),r=i.attr(v),t.attr(v,f(r)?r:"0"),a._focusHandler=d(a._focus,a),t.on(M,a._focusHandler),a._blurHandler=d(a._blur,a),t.on(I,a._blurHandler),a._keyDownProxy=d(a._keyDown,a),t.on(D,a._keyDownProxy),e(n).on("resize.shieldSlider"+a.getInstanceId(),d(a._onWinResize,a)),f(s.width)&&t.css("width",s.width),f(s.height)&&t.css("height",s.height),a._buttonOffset=5,a._buttonScaleOffset=20,a._width=t.innerWidth(),a._height=t.innerHeight(),a._buttons=a._createButtons(),a._scale=a._createScale(),a._ticks=a._createTicks(),a._createBar(),a._showValues(),a._elWidth=t.width(),a._elHeight=t.height(),f(u)||(u=g(a._value())),a.value(u),void a.enabled(s.enabled))},refresh:function(e){this.refreshWithElement(this._original,e)},_createButtons:function(){var t,n,i,r=this,a=r.options,o=a.orientation,s=o==b,l=[];return a.buttons?(t=e('<div class="sui-slider-button sui-unselectable" unselectable="on" />').appendTo(r.element),n=e('<div class="sui-slider-button-arrow-'+(s?C:T)+' sui-unselectable" unselectable="on" />').appendTo(t),i=t.outerWidth(),t.css({left:s?r._buttonOffset:(r._width-i)/2,top:s?(r._height-i)/2:r._buttonOffset}),t.click(function(){r._hasFocus||r.element.focus(),r._stepPrev()}),l.push(t),t=e('<div class="sui-slider-button sui-unselectable" unselectable="on" />').appendTo(r.element),n=e('<div class="sui-slider-button-arrow-'+(s?k:S)+' sui-unselectable" unselectable="on" />').appendTo(t),t.css({left:s?r._width-(r._buttonOffset+i):(r._width-i)/2,top:s?(r._height-i)/2:r._height-(r._buttonOffset+i)}),t.click(function(){r._hasFocus||r.element.focus(),r._stepNext()}),l.push(t),l):void 0},_createScale:function(){var t=this,n=t.options,i=n.orientation,r=i==b,a=t._buttons?t._buttons[0].outerWidth():0,o=e('<div class="sui-slider-scale sui-slider-scale-'+i+' sui-unselectable" unselectable="on" />').appendTo(t.element);return o.css({left:r?t._buttonOffset+a+t._buttonScaleOffset:(t._width-o.outerWidth())/2,top:r?(t._height-o.outerHeight())/2:t._buttonOffset+a+t._buttonScaleOffset}),r?o.width(t._width-2*(t._buttonOffset+t._buttonScaleOffset+a)):o.height(t._height-2*(t._buttonOffset+t._buttonScaleOffset+a)),o.on(E,d(t._scaleClick,t)),o},_scaleClick:function(e){var t,n,r,a,o,d=this,u=d.options.orientation,c=u==b,h=e.originalEvent,p=c?h.clientX:h.clientY,f=d.element.offset(),g=l(c?f.left:f.top);if(d._hasFocus||d.element.focus(),d._enabled){for(o=0;o<d._ticks.length;o++)t=d._ticks[o],n=s(p-(t.tick+g)),(r===i||r>n)&&(r=n,a=t);d._moveBar(a)}},_keyDown:function(e){var t=this,n=t.options.orientation,i=n==b,r=e.originalEvent,a=r.keyCode,o=t._ticks.length-1,s=a===(i?u.LEFT:u.UP),l=a===(i?u.RIGHT:u.DOWN),d=a===(i?u.PAGEDOWN:u.PAGEUP),c=a===(i?u.PAGEUP:u.PAGEDOWN),h=a==u.HOME,p=a==u.END;!r.ctrlKey&&t._enabled&&(s||d?(t._stepPrev(d),e.preventDefault()):l||c?(t._stepNext(c),e.preventDefault()):h?(t._moveBar(t._ticks[0]),e.preventDefault()):p&&(t._moveBar(t._ticks[o]),e.preventDefault()))},_createTicks:function(){var e,t,n,r,a,o,s,d,u=this,c=u.options,h=c.orientation,p=h==b,f=c.max,g=c.min,m=c.step,v=c.ticks,y=v.type,T=v.step,S=0,E=l((f-g)/m),D=i,A=0;for(t=[],r=p?u._scale.outerWidth():u._scale.outerHeight(),r>=E?(a=l(r/E),S=r%E,o=r/E-a):(D=E/r*m,E=r,a=1,m=1),s=p?u._scale.position().left:u._scale.position().top,d=0;E>=d;d++)n={value:g+d*(D||m),tick:s},t.push(n),A+=o,A>=1&&(s++,A--),s+=a;if(v.enabled)for(d=0;E>=d;d+=T)n=t[d],(y===x||y===C||y===_)&&(e=u._createTick(),e.css({left:p?n.tick+B:u._scale.position().left-e.outerWidth()+B,top:p?u._scale.position().top-e.outerHeight()+B:n.tick+B})),(y===w||y===k||y===_)&&(e=u._createTick(),e.css({left:p?n.tick+B:u._scale.position().left+u._scale.outerWidth()+B,top:p?u._scale.position().top+u._scale.outerHeight()+B:n.tick+B}));return t},_createTick:function(){return e('<div class="sui-slider-tick sui-slider-tick-'+this.options.orientation+' sui-unselectable" unselectable="on" />').insertAfter(this._scale)},_showValues:function(){var t,n,i,r=this,a=r.options,o=a.orientation,s=o==b,l=a.max,d=a.min,u=(a.step,a.values||{});if(u.enabled)for(i=0;i<r._ticks.length;i++)t=r._ticks[i],(t.value===d||t.value===l)&&(n=e('<div class="sui-slider-mark sui-unselectable" unselectable="on">'+c(u.template,t.value)+"</div>").insertAfter(r._scale),n.css({left:s?t.tick-2-n.width()/2:r._scale.position().left+r._scale.outerWidth()+r._bar.width()/2,top:s?r._scale.position().top-r._scale.height()-r._bar.width()/2:t.tick-n.height()/2}))},_createBar:function(){var n,r,a,o,s,l,d=this,u=d.options.orientation==b;for(d._bar=n=e('<div class="sui-slider-bar sui-unselectable" id="'+t.strid()+'" unselectable="on" />').appendTo(d.element).mousedown(function(){d._hasFocus||d.element.focus()}),r=(n.innerWidth()-d._scale.outerHeight())/2+1,a=(n.innerWidth()-d._scale.outerWidth())/2+1,n.css({left:u?d._scale.position().left-n.outerWidth()/2+B:d._scale.position().left-a+B,top:u?d._scale.position().top-r+B:d._scale.position().top-n.outerWidth()/2+B}),s=[],l=0;l<d._ticks.length;l++)o=d._ticks[l],s.push({x:u?o.tick-n.outerWidth()/2:i,y:u?i:o.tick-n.outerWidth()/2});d._dragBar=new t.ui.Draggable(n,{allowedPositions:s,events:{drag:function(){d._changeTooltipValue(!0),d.trigger(A)},stop:function(){d._value(d.value()),d._tooltip&&e("#"+d._bar.attr("id")+":hover").length<=0&&d._tooltip.visible(!1),d.trigger(P,{value:d.value()})}}}),d._createTooltip()},_stepNext:function(e){var t,n,i,r=this,a=r.options,o=(a.orientation==b,a.step),s=a.largeStep;r._enabled&&(e=!!e,t=r._getCurrentTickInfoIndex(),n=e?t+l(s/o):t+1,n>=r._ticks.length||(i=r._ticks[n],r._moveBar(i)))},_stepPrev:function(e){var t,n,i,r=this,a=r.options,o=(a.orientation==b,a.step),s=a.largeStep;r._enabled&&(e=!!e,t=r._getCurrentTickInfoIndex(),n=e?t-l(s/o):t-1,0>n||(i=r._ticks[n],r._moveBar(i)))},_moveBar:function(e,t){var n=this,i=n.options.orientation==b,r=n._bar;e&&(r.css({left:i?e.tick-r.outerWidth()/2+B:r.css(C),top:i?r.css(x):e.tick-r.outerWidth()/2+B}),n._changeTooltipValue(),n._value(n.value()),t||n.trigger(P,{value:n.value()}))},_createTooltip:function(){var e=this,n=e.options,i=n.tooltip,r=n.orientation==b;i&&i.enabled&&(e._tooltip=new t.ui.Tooltip(e._bar,{content:c(i.template,e.value()),position:r?x:C,delay:0}))},_changeTooltipValue:function(e){var t,n=this,i=n.options.tooltip,r=n._tooltip;r&&(t=c(i.template,n.value()),r.options.content!==t&&r.refresh({content:t,enabled:n._enabled}),e&&r.visible(!0,n._bar))},_getCurrentTickInfoIndex:function(){var e,t,n,i=this,r=i.options.orientation==b,a=i._ticks,o=i._bar,l=r?o.position().left:o.position().top,d=o.outerWidth()/2,u=Number.POSITIVE_INFINITY,c=-1;for(t=0;t<a.length;t++){if(e=a[t].tick-d,l==e)return t;n=s(l-e),u>n&&(u=n,c=t)}return c},_getTickInfoIndexByValue:function(e){var t,n=this,i=n._ticks;for(t=0;t<i.length;t++)if(e==i[t].value)return t;return-1},_focus:function(){var t=this;t._hasFocus||(t._hasFocus=!0,e(t.element).addClass("sui-slider-focus"),t.trigger(M))},_blur:function(){var t=this;t._hasFocus&&(t._hasFocus=!1,e(t.element).removeClass("sui-slider-focus"),t.trigger(I))},_onWinResize:function(){var e=this;e._onWinResTimeout&&clearTimeout(e._onWinResTimeout),e._onWinResTimeout=setTimeout(d(e._winResized,e),100)},_winResized:function(){var e=this,t=e.element;(e._elWidth!==t.width()||e._elHeight!==t.height())&&e.refresh()},_value:function(){return this._original.attr.apply(this._original,[m].concat([].slice.call(arguments)))},value:function(){var e,t,n=this,i=n.options.min,r=[].slice.call(arguments);return r.length>0?(t=n._getTickInfoIndexByValue(r[0]),void(-1!==t&&(e=n._ticks[t],n._moveBar(e,!0)))):(t=n._getCurrentTickInfoIndex(),e=n._ticks[t],e?e.value:i)},enabled:function(){var t,n=this,i=e(n.element),r=n._original,a=[].slice.call(arguments);return a.length>0?(t=!!a[0],t?(i.removeAttr(y).removeClass("sui-slider-disabled"),r.removeAttr(y)):(i.attr(y,y).addClass("sui-slider-disabled"),r.attr(y,y)),n._enabled=t,n._dragBar.enabled(t),void(n._tooltip&&n._tooltip.enabled(t))):n._enabled},destroy:function(){var t,i=this;if(e(n).off("resize.shieldSlider"+i.getInstanceId()),clearTimeout(i._onWinResTimeout),i._onWinResTimeout=null,e(i.element).off(D,i._keyDownProxy).off(M,i._focusHandler).off(I,i._blurHandler),i._dragBar&&(i._dragBar.destroy(),i._dragBar=null),i._buttons)for(t=0;t<i._buttons.length;t++)i._buttons[t].off(E);i._tooltip&&(i._tooltip.destroy(),i._tooltip=null),e(i.element).find(".sui-slider-scale, .sui-slider-mark, .sui-slider-tick, .sui-slider-bar, .sui-slider-button").remove(),i._original.unwrap().show(),i._scale.off(E),i._original=i._buttons=i._bar=i._scale=i._ticks=i._focusHandler=i._blurHandler=i._keyDownProxy=i._winResHandler=null,o.fn.destroy.call(i)}}),a.defaults=r,t.ui.plugin("Slider",a)}(jQuery,shield,this),!function(e,t,n,i){"use strict";var r,a,o,s,l,d,u,c=t.ui.Widget,h=t.Class,p=t.DataSource,f=(Math.abs,Math.min),g=Math.max,m=Math.pow,v=(Math.floor,e.proxy),y=(e.each,e.map,t.format),b=t.to["int"],_=t.error,x=t.is,w=x.defined,C=(x.string,x.object,x.func,t.to.number,"squarified"),T="horizontal",k="vertical",S="click",E="disabled";o=h.extend({init:function(e,t,n,i){var r=this;r.left=e,r.top=t,r.width=n,r.height=i},getSize:function(){return f(this.width,this.height)},getRowContainers:function(e){var t,n=this,i=n.left,r=n.top,a=n.sum(e),o=a/n.height,s=a/n.width,l=[];if(n.width>=n.height)for(t=0;t<e.length;t++)l.push({left:i,top:r,right:i+o,bottom:r+e[t].targetValue/o,dataItem:e[t]}),r+=e[t].targetValue/o;else for(t=0;t<e.length;t++)l.push({left:i,top:r,right:i+e[t].targetValue/s,bottom:r+s,dataItem:e[t]}),i+=e[t].targetValue/s;return l},remainingArea:function(e){var t,n,i,r,a,s=this;return s.width>=s.height?(t=e/s.height,i=s.width-t,a=new o(s.left+t,s.top,i,s.height)):(n=e/s.width,r=s.height-n,a=new o(s.left,s.top+n,s.width,r)),a},sum:function(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t].targetValue;return n}}),s=h.extend({init:function(){},sort:function(e){e.sort(function(e,t){return t.targetValue-e.targetValue})},sum:function(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t].targetValue;return n},min:function(e){var t,n=i;for(t=0;t<e.length;t++)(!w(n)||n>e[t].targetValue)&&(n=e[t].targetValue);return n},max:function(e){var t,n=i;for(t=0;t<e.length;t++)(!w(n)||n<e[t].targetValue)&&(n=e[t].targetValue);return n}}),s.create=function(e){return e===C?new u:e===T?new l:new d},l=s.extend({init:function(){s.fn.init.apply(this,arguments)},execute:function(e,t,n,i,r){var a,s,l,d,u,c,h=this,p=h.sum(e),f=t.left,g=t.top;for(r||(r=T),h.sort(e),c=0;c<e.length;c++)l=e[c],a=r===T?t.width*l.targetValue/p:t.width,s=r===T?t.height:t.height*l.targetValue/p,l.items&&0!==l.items.length?(d=i.createGroup(n,new o(f,g,a,s)),u=i.createTitle(d,i.getItemText(l)),u=new o(u.left-d.position().left,u.top-d.position().top,u.width,u.height),h.execute(l.items,u,d,i,r===T?k:T)):i.createItem(n,{left:f,top:g,width:a,height:s,dataItem:l}),r===T?f+=a:g+=s}}),d=s.extend({init:function(){s.fn.init.apply(this,arguments)},execute:function(e,t,n,i,r){var a,s,l,d,u,c,h=this,p=h.sum(e),f=t.left,g=t.top;for(r||(r=k),h.sort(e),c=0;c<e.length;c++)l=e[c],s=r===k?t.height*l.targetValue/p:t.height,a=r===k?t.width:t.width*l.targetValue/p,l.items&&0!==l.items.length?(d=i.createGroup(n,new o(f,g,a,s)),u=i.createTitle(d,i.getItemText(l)),u=new o(u.left-d.position().left,u.top-d.position().top,u.width,u.height),h.execute(l.items,u,d,i,r===k?T:k)):i.createItem(n,{left:f,top:g,width:a,height:s,dataItem:l}),r===k?g+=s:f+=a}}),u=s.extend({init:function(){s.fn.init.apply(this,arguments)},execute:function(e,t,n,i){var r,a,s,l,d,u,c=this;for(c.sort(e),r=c._squarifyCore(c._normalize(e,t.width*t.height,i),[],t,[]),a=c._getTreemap(r),u=0;u<a.length;u++)s=a[u],s.dataItem.items&&0!==s.dataItem.items.length?(l=i.createGroup(n,new o(s.left,s.top,s.right-s.left,s.bottom-s.top)),d=i.createTitle(l,i.getItemText(s.dataItem)),d=new o(d.left-l.position().left,d.top-l.position().top,d.width,d.height),c.execute(s.dataItem.items,d,l,i)):i.createItem(n,{left:s.left,top:s.top,width:s.right-s.left,height:s.bottom-s.top,dataItem:s.dataItem})},_squarifyCore:function(e,t,n,i){var r,a,o,s=this;return 0===e.length?void i.push(n.getRowContainers(t)):(r=n.getSize(),a=e[0],s._verifyRatio(t,a,r)?(t.push(a),s._squarifyCore(e.slice(1),t,n,i)):(o=n.remainingArea(s.sum(t)),i.push(n.getRowContainers(t)),s._squarifyCore(e,[],o,i)),i)},_getTreemap:function(e){var t,n,i=[];for(t=0;t<e.length;t++)for(n=0;n<e[t].length;n++)i.push(e[t][n]);return i},_verifyRatio:function(e,t,n){var i,r,a,o=this;return 0===e.length?!0:(i=e.slice(),i.push(t),r=o._calculateRatio(e,n),a=o._calculateRatio(i,n),r>=a)},_calculateRatio:function(e,t){var n=this,i=n.min(e),r=n.max(e),a=n.sum(e);return g(m(t,2)*r/m(a,2),m(a,2)/(m(t,2)*i))},_normalize:function(e,t){var n,i=this,r=i.sum(e),a=t/r,o=[];for(n=0;n<e.length;n++)o[n]=e[n],o[n].targetValue=o[n].targetValue*a;return o}}),r={cls:i,enabled:!0,width:i,height:i,title:i,dataSource:i,readDataSource:!0,type:"squarified",valueTemplate:"{value}",textTemplate:"{title}",colorTemplate:"{color}",colors:["#1E98E4","#FFC500","#5CB85C","#FF2A00","#6D31FF","#00B2A1","#FF8000","#84B3DC"],tooltip:{enabled:!1,template:"{title}: {value}",filter:".sui-treemap-item",delay:80,position:"top"},events:{}},a=c.extend({init:function(){c.fn.init.apply(this,arguments);var t,i=this,r=e(i.element),a=i.options,o=a.cls,s=a.dataSource,l=a.dieOnError;return"div"!==r.prop("tagName").toLowerCase()?void _("shieldTreeMap: Underlying element is not DIV.",l):(r.addClass("sui-treemap "+(o?" "+o:"")),w(a.width)&&r.css("width",a.width),w(a.height)&&r.css("height",a.height),s?(i.dataSource=p.create(s),i._eventNS=t=".shieldTreeMap"+i.getInstanceId(),i.containers=[],i.colorIndex=0,e(n).on("resize"+t,v(i._onWinResize,i)),i.dataSource.on("change"+t,v(i._dsChange,i)),a.readDataSource&&i.dataSource.read(),void i.enabled(a.enabled)):(i.destroy(),void _("shieldTreemap: dataSource is not defined.",l)))},_dsChange:function(){var e=this,t=e.element;e._create(),e._createTooltip(),e._elWidth=t.width(),e._elHeight=t.height()},_onWinResize:function(){var e=this;e._onWinResTimeout&&clearTimeout(e._onWinResTimeout),e._onWinResTimeout=setTimeout(v(e._winResized,e),100)},_winResized:function(){var e=this,t=e.element;(e._elWidth!==t.width()||e._elHeight!==t.height())&&e.refresh()},_createTooltip:function(){var t=this,n=t.options.tooltip;n.enabled&&(t.tooltip?t.tooltip.refresh(n):t.tooltip=e(t.element).children(".sui-treemap-group").first().shieldTooltip(n).swidget())},_create:function(){var e,t=this,n=t.element,i=t.dataSource.data,r=t.options,a=s.create(r.type),l=new o(0,0,n.innerWidth(),n.innerHeight());n.empty(),t._prepareData(i),e=t.createGroup(n,l),l=t.createTitle(e,r.title),a.execute(i,l,e,t)},_prepareData:function(e){var t,n=this;for(t=0;t<e.length;t++)e[t].targetValue=n.getItemValue(e[t]),e[t].items&&n._prepareData(e[t].items)},createTitle:function(n,r){var a,s,l,d,u,c=this,h=c.options.type===T;return"undefined"===r||r===i?new o(n.position().left,n.position().top,n.innerWidth(),n.innerHeight()):(a=e('<div class="sui-treemap-title"></div>').appendTo(n),h&&a.innerHeight(n.outerHeight()),a.append('<div class="sui-treemap-title-inner">'+r.replace(/\s+/,"&nbsp;")+"</div>"),t.ui.Position.Set(a.find(".sui-treemap-title-inner"),a,{source:"center",target:"center"}),s=h?n.position().left+a.outerWidth():n.position().left,l=h?n.position().top:n.position().top+a.outerHeight(),d=h?n.innerWidth()-a.outerWidth():n.innerWidth(),u=h?n.innerHeight():n.innerHeight()-a.outerHeight(),new o(s,l,d,u))},createGroup:function(e,t){var n=this;return n._createContainer(e,t).addClass("sui-treemap-group sui-treemap-group-"+n.options.type)},createItem:function(e,t){var n,i=this,r=i.options,a=r.tooltip,o=(r.type===T,i.getItemText(t.dataItem));n=i._createContainer(e,t),n.addClass("sui-treemap-item").css("backgroundColor",i._getContentColor(t.dataItem)).on(S,v(i._contentClick,i,t.dataItem)),a.enabled&&n.attr("title",y(a.template,t.dataItem)),i.containers.push(n),n.html(o)},_contentClick:function(e){var t=this;t._enabled&&t.trigger(S,{title:t.getItemText(e),value:t.getItemValue(e),item:e})},_createContainer:function(t,n){return e("<div/>").appendTo(t).css({left:n.left,top:n.top,width:n.width,height:n.height})},_getContentColor:function(e){var t=this,n=t.options.colors;return t._getItemColor(e)||n[t.colorIndex++%n.length]},getItemValue:function(e){return b(y(this.options.valueTemplate,e))},getItemText:function(e){return y(this.options.textTemplate,e)},_getItemColor:function(e){var t=y(this.options.colorTemplate,e);return"undefined"!==t&&null!==t?t:i},enabled:function(){var t,n=this,i=e(n.element),r=[].slice.call(arguments);return r.length>0?(t=!!r[0],t?i.removeAttr(E).removeClass("sui-treemap-disabled"):i.attr(E,E).addClass("sui-treemap-disabled"),n.tooltip&&n.tooltip.enabled(t),void(n._enabled=t)):n._enabled},destroy:function(){var t,i=this,r=i._eventNS;for(e(n).off(r),clearTimeout(i._onWinResTimeout),i._onWinResTimeout=null,i.dataSource&&i.dataSource.off(r),i.tooltip&&(i.tooltip.destroy(),i.tooltip=null),t=0;t<i.containers.length;t++)i.containers[t].off(S);i.containers=null,e(i.element).empty(),c.fn.destroy.call(i)}}),a.defaults=r,t.ui.plugin("TreeMap",a)}(jQuery,shield,this),!function(e,t,n,i){"use strict";function r(e){return f(e)&&!g(e)&&"undefined"!==e}var a,o,s=t.ui.Widget,l=(t.Class,t.DataSource),d=(Math.min,Math.max,e.proxy),u=e.each,c=e.map,h=t.error,p=t.format,f=t.is.defined,g=t.is["null"],m=t.to["int"],v="change",y="click";a={cls:i,width:i,height:i,dataSource:i,readDataSource:!0,title:i,textTemplate:"{text}",hrefTemplate:"{href}",targetTemplate:"{target}",frequencyTemplate:"{frequency}",minSize:90,maxSize:250,events:{}},o=s.extend({init:function(){s.fn.init.apply(this,arguments);var t,n=this,i=e(n.element),r=n.options,a=r.title,o=r.dieOnError,u=r.dataSource,c=r.cls;return"div"!==i.prop("tagName").toLowerCase()?void h("shieldTagCloud: Underlying element is not DIV.",o):(t=n._eventNS=".shieldTagCloud"+n.getInstanceId(),i.empty(),a&&i.append('<div class="sui-tagcloud-title">'+a+"</div>"),n._contentEl=e('<div class="sui-tagcloud-content">').appendTo(i),i.addClass("sui-tagcloud"+(c?" "+c:"")),f(r.width)&&i.css("width",r.width),f(r.height)&&i.css("height",r.height),u?(n.dataSource=l.create(u),n.dataSource.on(v+t,d(n._dsChange,n)),void(r.readDataSource&&n.dataSource.read())):(n.destroy(),void h("shieldTagCloud: No dataSource or underlying UL element found.",o)))},_dsChange:function(){this._render()},_render:function(){var e=this,t=e._contentEl,n=e.dataSource.view||[],i=e._getMinMax(n);t.empty().append(c(n,function(t){return e._createItem(t,i[0],i[1])}))},_createItem:function(t,n,i){var a,o,s,l,u,c=this,h=c.options,f=h.minSize,g=h.maxSize,v=e('<div class="sui-tagcloud-item" />'),b=p(h.textTemplate,t);return r(b)&&(a=p(h.hrefTemplate,t),r(a)?(l=e('<a href="'+a+'" class="sui-tagcloud-link">'+b+"</a>").appendTo(v),u=p(h.targetTemplate,t),r(u)&&l.attr("target",u)):v.html(b)),s=m(p(h.frequencyTemplate,t)),o=i>n?(s-n)*(g-f)/(i-n)+f:100,v.css("font-size",o+"%").on(y,d(c._itemClick,c,t)),v},_itemClick:function(e,t){var n=this,i=n.trigger(y,{item:e});i.isDefaultPrevented()&&t&&t.preventDefault()},_getMinMax:function(e){var t,n=this,i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return u(e||[],function(e,a){t=m(p(n.options.frequencyTemplate,a)),(!f(r)||t>r)&&(r=t),(!f(i)||i>t)&&(i=t)}),[i,r]},destroy:function(){var e=this,t=e.element,n=e.options,i=n.cls;e.dataSource&&e.dataSource.off(v+e._eventNS),t.removeClass("sui-tagcloud"+(i?" "+i:"")).empty(),s.fn.destroy.call(e)}}),o.defaults=a,t.ui.plugin("TagCloud",o)}(jQuery,shield,this),!function(e,t,n,i){"use strict";var r,a,o=t.ui.Widget,s=(t.Class,t.Constants,t.format),l=document,d=(e.extend,e.map,e.each,e.proxy),u=t.error,c=t.is["boolean"],h=t.is.object,p=t.is.defined,f=(t.to.number,"close"),g="minimize",m="maximize",v="resize",y="scroll",b="pin",_="overflow",x="hidden",w="px",C="center";r={title:"",titleBarButtons:["pin","minimize","maximize","close"],content:i,cls:i,visible:!0,pinned:!1,modal:!1,width:400,height:300,resizable:{maxWidth:i,maxHeight:i,minWidth:200,minHeight:150},draggable:!0,position:i,appendToBody:!1,events:{}},a=o.extend({init:function(){o.fn.init.apply(this,arguments),p(this.initialOptions.titleBarButtons)&&(this.options.titleBarButtons=this.initialOptions.titleBarButtons);var n,i,r,a=this,f=a.options,g=f.cls,m=f.dieOnError,v=f.titleBarButtons,y=f.resizable,b=f.draggable,_=f.content,x=f.position,C=e(a.element),T=!1;return"div"!==e(C).prop("tagName").toLowerCase()?void u("shieldWindow: Underlying element is not DIV",m):v&&v.length>0&&!t.ui.Button?void u("shieldWindow: The titleBarButtons setting requires ShieldUI Button to be loaded",m):(a._eventNS="shieldWindow"+a.getInstanceId(),f.appendToBody?(C.appendTo(l.body),a._parentIsBody=!0):a._parentIsBody="body"==C.parent().prop("tagName").toLowerCase(),a._origHtml=C.html(),C.empty(),C.addClass("sui-window"+(g?" "+g:"")),r={width:f.width+w,height:f.height+w,position:"absolute"},C.css(r),a.titleBarEl=n=e('<div class="sui-window-titlebar"><div class="sui-window-title">'+f.title+'</div><div class="sui-window-icons"></div></div>').appendTo(C),a._initTitleBarButtons(),a.contentEl=i=e('<div class="sui-window-content"></div>').appendTo(C),a._fixContent(),h(x)?C.css(x):T=!0,y&&(c(y)&&(y={}),a.resizable=new t.ui.Resizable(C,y),a.resizable.on("resized",d(a._fixContent,a))),b&&(c(b)&&(b={}),b.handle=a.titleBarEl,a.draggable=new t.ui.Draggable(C,b)),a._hasIframe=!1,_?_.template?_.template.dataUrl?e.ajax({url:_.template.dataUrl,dataType:"json",success:function(e){a.content(s(_.template.body,e))},error:function(e,t,n){a.content("Error occured while reading URL: "+t+" - "+n)}}):a.content(s(_.template.body,_.template.data)):_.remote?_.remote.iframe?(a._hasIframe=!0,a.content('<iframe class="sui-window-iframe" src="'+_.remote.url+'" style="border:none; border-width:0px; width:100%; height:100%;"></iframe>')):a.contentEl.load(_.remote.url):a.content(a._origHtml):a.content(a._origHtml),a._minimized=!1,a._maximized=!1,a._destroyed=!1,a.pinned(!!f.pinned),a.visible(!!f.visible),void(T&&a.center()))},_initTitleBarButtons:function(){var t,n,i,r,a=this,o=a.options,s=o.titleBarButtons,l=o.modal;if(a.titleBarButtons={},s&&s.length>0){for(t=a.titleBarEl.find(".sui-window-icons"),r=0;r<s.length;r++)i=s[r],("pin"===i||"minimize"===i||"maximize"===i||"close"===i)&&(l&&"close"!==i||(n="pin"==i?"_onPin":"minimize"==i?"_onMinimize":"maximize"==i?"_onMaximize":i,a.titleBarButtons[i]=e('<button><div class="sui-sprite sui-window-button-icon sui-window-button-icon-'+i+'"></div></button>').appendTo(t).shieldButton({cls:"sui-window-button",events:{click:d(a[n],a,!0)}}).swidget()));t.on("mousedown",function(e){return e.preventDefault(),e.stopPropagation(),!1})}},_destroyTitleBarButtons:function(){var e,t=this,n=t.titleBarButtons;for(e in n)n.hasOwnProperty(e)&&n[e].destroy();t.titleBarButtons={}},_createModal:function(){var t=this,i=e(t._parentIsBody?n:t.element.parent()),r=e(i).scrollTop(),a=e(i).scrollLeft();t._lockScroll(),t._modal=e('<div class="sui-window-modal"></div>').insertBefore(t.element).css({top:r,left:a})},_closeModal:function(){var t=this;e(t._modal).remove(),t._unlockScroll()},_lockScroll:function(){var t=this,n=t.element.parent();t._scrollTop=e(n).scrollTop(),t._scrollLeft=e(n).scrollLeft(),t._parentOverflow=e(n).css(_),n.css(_,x).scrollTop(t._scrollTop).scrollLeft(t._scrollLeft)},_unlockScroll:function(){var e=this,t=e.element.parent();t.css(_,e._parentOverflow).scrollTop(e._scrollTop).scrollLeft(e._scrollLeft)},_fixContent:function(){var t=this;e(t.contentEl).outerWidth(e(t.element).innerWidth()).innerHeight(e(t.element).innerHeight()-e(t.titleBarEl).outerHeight()),t._hasIframe&&e(t.contentEl).find(".sui-window-iframe").width(e(t.contentEl).width()).height(e(t.contentEl).height())},center:function(){var i=this,r=e(i.element);t.ui.Position.Set(r,i._parentIsBody?n:r.parent(),{source:C,target:C})},position:function(t){e(this.element).css(t)},getHeight:function(){e(this.element).css("height")},getWidth:function(){e(this.element).css("width")},getPosition:function(){var t=e(this.element);return{left:t.css("left"),top:t.css("top")}},content:function(){var t=this,n=e(t.contentEl),i=[].slice.call(arguments);return i.length>0?(n.empty(),void n.append(i)):n.html()},resize:function(t){e(this.element).css(t),this._fixContent()},_scroll:function(){var t=this,i=e(t.element),r=t._parentIsBody;t._pinned&&i.css({left:t.originalPosition.left+e(r?n:i.parent()).scrollLeft()+w,top:t.originalPosition.top+e(r?n:i.parent()).scrollTop()+w})},_onPin:function(e){this.pinned(!this._pinned,e)},pinned:function(){var t,i,r=this,a=[].slice.call(arguments),o=e(r.element),s=r._parentIsBody,l=r.titleBarEl,u=l.find(l.find(".sui-window-button-icon-pin").length>0?".sui-window-button-icon-pin":".sui-window-button-icon-unpin");return a.length<=0?r._pinned:(t=!!a[0],void(r._pinned!=t&&(a[1]&&(i=r.trigger(b,{pinned:t}),i.isDefaultPrevented())||(r._pinned=t,u.removeClass("sui-window-button-icon-pin sui-window-button-icon-unpin"),u.addClass(r._pinned?"sui-window-button-icon-pin":"sui-window-button-icon-unpin"),r._pinned?(r.originalPosition=o.position(),e(s?n:o.parent()).on(y+"."+r._eventNS,d(r._scroll,r)),r.draggable&&r.draggable.enabled(!1)):(e(s?n:o.parent()).off(y+"."+r._eventNS),r.origininalPosition=null,r.draggable&&r.draggable.enabled(!0))))))},_onMinimize:function(e){this.minimized(!0,e)},minimized:function(){var t,n,i,r=this,a=[].slice.call(arguments),o=e(r.element),s=e(r.contentEl),l=r.titleBarEl,d=r.titleBarButtons.minimize;return a.length<=0?r._minimized:(n=!!a[0],void(r._minimized!=n&&(a[1]&&(i=r.trigger(g,{minimized:n}),i.isDefaultPrevented())||(r._minimized=n,t=l.find(l.find(".sui-window-button-icon-minimize").length>0?".sui-window-button-icon-minimize":".sui-window-button-icon-unminimize"),t.removeClass("sui-window-button-icon-minimize sui-window-button-icon-unminimize"),t.addClass(r._minimized?"sui-window-button-icon-unminimize":"sui-window-button-icon-minimize"),n?(r._onMinCurrHeight=o.height(),o.height(l.height()),s.hide(),r.resizable&&r.resizable.enabled(!1)):(o.height(r._onMinCurrHeight),s.show(),r.resizable&&r.resizable.enabled(!0)),d&&d.visible(!n)))))},_onMaximize:function(e){var t=this;t._minimized?t.minimized(!1,e):t.maximized(!t._maximized,e)},maximized:function(){var t,i,r,a,o=this,s=[].slice.call(arguments),l=e(o.element),u=o._beforeMaximize,c=e(o.titleBarEl);return s.length>0?(t=!!s[0],i=!!s[1],o._minimized&&o.minimized(!1,!1),void(o._maximized!=t&&(i&&(a=o.trigger(m,{maximized:t}),a.isDefaultPrevented())||(o._maximized=!!t,r=c.find(c.find(".sui-window-button-icon-maximize").length>0?".sui-window-button-icon-maximize":".sui-window-button-icon-restore"),r.removeClass("sui-window-button-icon-maximize sui-window-button-icon-restore"),r.addClass(o._maximized?"sui-window-button-icon-restore":"sui-window-button-icon-maximize"),o._maximized?(o._beforeMaximize={top:l.css("top"),left:l.css("left"),width:l.width(),height:l.height()},o.resize({width:"100%",height:e(o._parentIsBody?n:l.parent()).height()}),o._lockScroll(),o.center(),o._parentIsBody&&e(n).on(v+"."+o._eventNS,d(o._onWinResizeMax,o))):(u&&(l.css({top:u.top,left:u.left}),o.resize({width:u.width,height:u.height})),o._unlockScroll(),o._parentIsBody&&(e(n).off(v+"."+o._eventNS),o._winResize=null)))))):o._maximized},_onWinResizeMax:function(){var t=this;e(t.element).height(e(n).height()),t._fixContent()},close:function(e){var t,n=this;e&&(t=n.trigger(f),t.isDefaultPrevented())||n.destroy()},visible:function(){var e=this,t=[].slice.call(arguments);return e._destroyed?void 0:(t.length>0&&e.options.modal&&(t[0]?e._createModal():e._closeModal()),o.fn.visible.apply(e,arguments))},destroy:function(){var t=this,n=t.options.cls;t.visible(!1),t._destroyed=!0,t.resizable&&(t.resizable.destroy(),t.resizable=null),t.draggable&&(t.draggable.destroy(),t.draggable=null),t._destroyTitleBarButtons(),t.maximized(!1),t.pinned(!1),e(t.element).removeClass("sui-window"+(n?" "+n:"")),t._origHtml&&(e(t.element).html(t._origHtml),t._origHtml=null),o.fn.destroy.call(t)}}),a.defaults=r,t.ui.plugin("Window",a)}(jQuery,shield,this),function(){}.call(this);